(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))u(c);new MutationObserver(c=>{for(const m of c)if(m.type==="childList")for(const p of m.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&u(p)}).observe(document,{childList:!0,subtree:!0});function l(c){const m={};return c.integrity&&(m.integrity=c.integrity),c.referrerPolicy&&(m.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?m.credentials="include":c.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function u(c){if(c.ep)return;c.ep=!0;const m=l(c);fetch(c.href,m)}})();function Kc(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Uo={exports:{}},gs={},$o={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ic;function Rf(){if(ic)return Ee;ic=1;var s=Symbol.for("react.element"),o=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),p=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),j=Symbol.iterator;function A(S){return S===null||typeof S!="object"?null:(S=j&&S[j]||S["@@iterator"],typeof S=="function"?S:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,T={};function w(S,z,ce){this.props=S,this.context=z,this.refs=T,this.updater=ce||O}w.prototype.isReactComponent={},w.prototype.setState=function(S,z){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,z,"setState")},w.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function U(){}U.prototype=w.prototype;function B(S,z,ce){this.props=S,this.context=z,this.refs=T,this.updater=ce||O}var Y=B.prototype=new U;Y.constructor=B,R(Y,w.prototype),Y.isPureReactComponent=!0;var M=Array.isArray,H=Object.prototype.hasOwnProperty,K={current:null},ie={key:!0,ref:!0,__self:!0,__source:!0};function pe(S,z,ce){var se,ge={},ke=null,Ne=null;if(z!=null)for(se in z.ref!==void 0&&(Ne=z.ref),z.key!==void 0&&(ke=""+z.key),z)H.call(z,se)&&!ie.hasOwnProperty(se)&&(ge[se]=z[se]);var Ce=arguments.length-2;if(Ce===1)ge.children=ce;else if(1<Ce){for(var P=Array(Ce),Z=0;Z<Ce;Z++)P[Z]=arguments[Z+2];ge.children=P}if(S&&S.defaultProps)for(se in Ce=S.defaultProps,Ce)ge[se]===void 0&&(ge[se]=Ce[se]);return{$$typeof:s,type:S,key:ke,ref:Ne,props:ge,_owner:K.current}}function be(S,z){return{$$typeof:s,type:S.type,key:z,ref:S.ref,props:S.props,_owner:S._owner}}function we(S){return typeof S=="object"&&S!==null&&S.$$typeof===s}function he(S){var z={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(ce){return z[ce]})}var ue=/\/+/g;function Se(S,z){return typeof S=="object"&&S!==null&&S.key!=null?he(""+S.key):z.toString(36)}function oe(S,z,ce,se,ge){var ke=typeof S;(ke==="undefined"||ke==="boolean")&&(S=null);var Ne=!1;if(S===null)Ne=!0;else switch(ke){case"string":case"number":Ne=!0;break;case"object":switch(S.$$typeof){case s:case o:Ne=!0}}if(Ne)return Ne=S,ge=ge(Ne),S=se===""?"."+Se(Ne,0):se,M(ge)?(ce="",S!=null&&(ce=S.replace(ue,"$&/")+"/"),oe(ge,z,ce,"",function(Z){return Z})):ge!=null&&(we(ge)&&(ge=be(ge,ce+(!ge.key||Ne&&Ne.key===ge.key?"":(""+ge.key).replace(ue,"$&/")+"/")+S)),z.push(ge)),1;if(Ne=0,se=se===""?".":se+":",M(S))for(var Ce=0;Ce<S.length;Ce++){ke=S[Ce];var P=se+Se(ke,Ce);Ne+=oe(ke,z,ce,P,ge)}else if(P=A(S),typeof P=="function")for(S=P.call(S),Ce=0;!(ke=S.next()).done;)ke=ke.value,P=se+Se(ke,Ce++),Ne+=oe(ke,z,ce,P,ge);else if(ke==="object")throw z=String(S),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return Ne}function $(S,z,ce){if(S==null)return S;var se=[],ge=0;return oe(S,se,"","",function(ke){return z.call(ce,ke,ge++)}),se}function te(S){if(S._status===-1){var z=S._result;z=z(),z.then(function(ce){(S._status===0||S._status===-1)&&(S._status=1,S._result=ce)},function(ce){(S._status===0||S._status===-1)&&(S._status=2,S._result=ce)}),S._status===-1&&(S._status=0,S._result=z)}if(S._status===1)return S._result.default;throw S._result}var xe={current:null},E={transition:null},q={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:E,ReactCurrentOwner:K};function G(){throw Error("act(...) is not supported in production builds of React.")}return Ee.Children={map:$,forEach:function(S,z,ce){$(S,function(){z.apply(this,arguments)},ce)},count:function(S){var z=0;return $(S,function(){z++}),z},toArray:function(S){return $(S,function(z){return z})||[]},only:function(S){if(!we(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},Ee.Component=w,Ee.Fragment=l,Ee.Profiler=c,Ee.PureComponent=B,Ee.StrictMode=u,Ee.Suspense=y,Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,Ee.act=G,Ee.cloneElement=function(S,z,ce){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var se=R({},S.props),ge=S.key,ke=S.ref,Ne=S._owner;if(z!=null){if(z.ref!==void 0&&(ke=z.ref,Ne=K.current),z.key!==void 0&&(ge=""+z.key),S.type&&S.type.defaultProps)var Ce=S.type.defaultProps;for(P in z)H.call(z,P)&&!ie.hasOwnProperty(P)&&(se[P]=z[P]===void 0&&Ce!==void 0?Ce[P]:z[P])}var P=arguments.length-2;if(P===1)se.children=ce;else if(1<P){Ce=Array(P);for(var Z=0;Z<P;Z++)Ce[Z]=arguments[Z+2];se.children=Ce}return{$$typeof:s,type:S.type,key:ge,ref:ke,props:se,_owner:Ne}},Ee.createContext=function(S){return S={$$typeof:p,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:m,_context:S},S.Consumer=S},Ee.createElement=pe,Ee.createFactory=function(S){var z=pe.bind(null,S);return z.type=S,z},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(S){return{$$typeof:h,render:S}},Ee.isValidElement=we,Ee.lazy=function(S){return{$$typeof:g,_payload:{_status:-1,_result:S},_init:te}},Ee.memo=function(S,z){return{$$typeof:x,type:S,compare:z===void 0?null:z}},Ee.startTransition=function(S){var z=E.transition;E.transition={};try{S()}finally{E.transition=z}},Ee.unstable_act=G,Ee.useCallback=function(S,z){return xe.current.useCallback(S,z)},Ee.useContext=function(S){return xe.current.useContext(S)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(S){return xe.current.useDeferredValue(S)},Ee.useEffect=function(S,z){return xe.current.useEffect(S,z)},Ee.useId=function(){return xe.current.useId()},Ee.useImperativeHandle=function(S,z,ce){return xe.current.useImperativeHandle(S,z,ce)},Ee.useInsertionEffect=function(S,z){return xe.current.useInsertionEffect(S,z)},Ee.useLayoutEffect=function(S,z){return xe.current.useLayoutEffect(S,z)},Ee.useMemo=function(S,z){return xe.current.useMemo(S,z)},Ee.useReducer=function(S,z,ce){return xe.current.useReducer(S,z,ce)},Ee.useRef=function(S){return xe.current.useRef(S)},Ee.useState=function(S){return xe.current.useState(S)},Ee.useSyncExternalStore=function(S,z,ce){return xe.current.useSyncExternalStore(S,z,ce)},Ee.useTransition=function(){return xe.current.useTransition()},Ee.version="18.3.1",Ee}var dc;function li(){return dc||(dc=1,$o.exports=Rf()),$o.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uc;function Af(){if(uc)return gs;uc=1;var s=li(),o=Symbol.for("react.element"),l=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,c=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function p(h,y,x){var g,j={},A=null,O=null;x!==void 0&&(A=""+x),y.key!==void 0&&(A=""+y.key),y.ref!==void 0&&(O=y.ref);for(g in y)u.call(y,g)&&!m.hasOwnProperty(g)&&(j[g]=y[g]);if(h&&h.defaultProps)for(g in y=h.defaultProps,y)j[g]===void 0&&(j[g]=y[g]);return{$$typeof:o,type:h,key:A,ref:O,props:j,_owner:c.current}}return gs.Fragment=l,gs.jsx=p,gs.jsxs=p,gs}var cc;function Lf(){return cc||(cc=1,Uo.exports=Af()),Uo.exports}var r=Lf(),v=li();const qc=Kc(v);var Da={},Bo={exports:{}},vt={},Ho={exports:{}},Wo={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mc;function _f(){return mc||(mc=1,(function(s){function o(E,q){var G=E.length;E.push(q);e:for(;0<G;){var S=G-1>>>1,z=E[S];if(0<c(z,q))E[S]=q,E[G]=z,G=S;else break e}}function l(E){return E.length===0?null:E[0]}function u(E){if(E.length===0)return null;var q=E[0],G=E.pop();if(G!==q){E[0]=G;e:for(var S=0,z=E.length,ce=z>>>1;S<ce;){var se=2*(S+1)-1,ge=E[se],ke=se+1,Ne=E[ke];if(0>c(ge,G))ke<z&&0>c(Ne,ge)?(E[S]=Ne,E[ke]=G,S=ke):(E[S]=ge,E[se]=G,S=se);else if(ke<z&&0>c(Ne,G))E[S]=Ne,E[ke]=G,S=ke;else break e}}return q}function c(E,q){var G=E.sortIndex-q.sortIndex;return G!==0?G:E.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var m=performance;s.unstable_now=function(){return m.now()}}else{var p=Date,h=p.now();s.unstable_now=function(){return p.now()-h}}var y=[],x=[],g=1,j=null,A=3,O=!1,R=!1,T=!1,w=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Y(E){for(var q=l(x);q!==null;){if(q.callback===null)u(x);else if(q.startTime<=E)u(x),q.sortIndex=q.expirationTime,o(y,q);else break;q=l(x)}}function M(E){if(T=!1,Y(E),!R)if(l(y)!==null)R=!0,te(H);else{var q=l(x);q!==null&&xe(M,q.startTime-E)}}function H(E,q){R=!1,T&&(T=!1,U(pe),pe=-1),O=!0;var G=A;try{for(Y(q),j=l(y);j!==null&&(!(j.expirationTime>q)||E&&!he());){var S=j.callback;if(typeof S=="function"){j.callback=null,A=j.priorityLevel;var z=S(j.expirationTime<=q);q=s.unstable_now(),typeof z=="function"?j.callback=z:j===l(y)&&u(y),Y(q)}else u(y);j=l(y)}if(j!==null)var ce=!0;else{var se=l(x);se!==null&&xe(M,se.startTime-q),ce=!1}return ce}finally{j=null,A=G,O=!1}}var K=!1,ie=null,pe=-1,be=5,we=-1;function he(){return!(s.unstable_now()-we<be)}function ue(){if(ie!==null){var E=s.unstable_now();we=E;var q=!0;try{q=ie(!0,E)}finally{q?Se():(K=!1,ie=null)}}else K=!1}var Se;if(typeof B=="function")Se=function(){B(ue)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,$=oe.port2;oe.port1.onmessage=ue,Se=function(){$.postMessage(null)}}else Se=function(){w(ue,0)};function te(E){ie=E,K||(K=!0,Se())}function xe(E,q){pe=w(function(){E(s.unstable_now())},q)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(E){E.callback=null},s.unstable_continueExecution=function(){R||O||(R=!0,te(H))},s.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):be=0<E?Math.floor(1e3/E):5},s.unstable_getCurrentPriorityLevel=function(){return A},s.unstable_getFirstCallbackNode=function(){return l(y)},s.unstable_next=function(E){switch(A){case 1:case 2:case 3:var q=3;break;default:q=A}var G=A;A=q;try{return E()}finally{A=G}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(E,q){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var G=A;A=E;try{return q()}finally{A=G}},s.unstable_scheduleCallback=function(E,q,G){var S=s.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?S+G:S):G=S,E){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=G+z,E={id:g++,callback:q,priorityLevel:E,startTime:G,expirationTime:z,sortIndex:-1},G>S?(E.sortIndex=G,o(x,E),l(y)===null&&E===l(x)&&(T?(U(pe),pe=-1):T=!0,xe(M,G-S))):(E.sortIndex=z,o(y,E),R||O||(R=!0,te(H))),E},s.unstable_shouldYield=he,s.unstable_wrapCallback=function(E){var q=A;return function(){var G=A;A=q;try{return E.apply(this,arguments)}finally{A=G}}}})(Wo)),Wo}var fc;function Tf(){return fc||(fc=1,Ho.exports=_f()),Ho.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pc;function Mf(){if(pc)return vt;pc=1;var s=li(),o=Tf();function l(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=new Set,c={};function m(e,t){p(e,t),p(e+"Capture",t)}function p(e,t){for(c[e]=t,e=0;e<t.length;e++)u.add(t[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},j={};function A(e){return y.call(j,e)?!0:y.call(g,e)?!1:x.test(e)?j[e]=!0:(g[e]=!0,!1)}function O(e,t,n,a){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function R(e,t,n,a){if(t===null||typeof t>"u"||O(e,t,n,a))return!0;if(a)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function T(e,t,n,a,i,d,f){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=f}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){w[e]=new T(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];w[t]=new T(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){w[e]=new T(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){w[e]=new T(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){w[e]=new T(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){w[e]=new T(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){w[e]=new T(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){w[e]=new T(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){w[e]=new T(e,5,!1,e.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function B(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(U,B);w[t]=new T(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(U,B);w[t]=new T(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(U,B);w[t]=new T(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){w[e]=new T(e,1,!1,e.toLowerCase(),null,!1,!1)}),w.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){w[e]=new T(e,1,!1,e.toLowerCase(),null,!0,!0)});function Y(e,t,n,a){var i=w.hasOwnProperty(t)?w[t]:null;(i!==null?i.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(R(t,n,i,a)&&(n=null),a||i===null?A(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,a=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}var M=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),K=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),pe=Symbol.for("react.strict_mode"),be=Symbol.for("react.profiler"),we=Symbol.for("react.provider"),he=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),E=Symbol.iterator;function q(e){return e===null||typeof e!="object"?null:(e=E&&e[E]||e["@@iterator"],typeof e=="function"?e:null)}var G=Object.assign,S;function z(e){if(S===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);S=t&&t[1]||""}return`
`+S+e}var ce=!1;function se(e,t){if(!e||ce)return"";ce=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(D){var a=D}Reflect.construct(e,[],t)}else{try{t.call()}catch(D){a=D}e.call(t.prototype)}else{try{throw Error()}catch(D){a=D}e()}}catch(D){if(D&&a&&typeof D.stack=="string"){for(var i=D.stack.split(`
`),d=a.stack.split(`
`),f=i.length-1,b=d.length-1;1<=f&&0<=b&&i[f]!==d[b];)b--;for(;1<=f&&0<=b;f--,b--)if(i[f]!==d[b]){if(f!==1||b!==1)do if(f--,b--,0>b||i[f]!==d[b]){var k=`
`+i[f].replace(" at new "," at ");return e.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",e.displayName)),k}while(1<=f&&0<=b);break}}}finally{ce=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function ge(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=se(e.type,!1),e;case 11:return e=se(e.type.render,!1),e;case 1:return e=se(e.type,!0),e;default:return""}}function ke(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ie:return"Fragment";case K:return"Portal";case be:return"Profiler";case pe:return"StrictMode";case Se:return"Suspense";case oe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case he:return(e.displayName||"Context")+".Consumer";case we:return(e._context.displayName||"Context")+".Provider";case ue:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return t=e.displayName||null,t!==null?t:ke(e.type)||"Memo";case te:t=e._payload,e=e._init;try{return ke(e(t))}catch{}}return null}function Ne(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(t);case 8:return t===pe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ce(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function P(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Z(e){var t=P(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,d=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(f){a=""+f,d.call(this,f)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(f){a=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pe(e){e._valueTracker||(e._valueTracker=Z(e))}function ct(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=P(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Ke(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Nt(e,t){var n=t.checked;return G({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Qt(e,t){var n=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;n=Ce(t.value!=null?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function F(e,t){t=t.checked,t!=null&&Y(e,"checked",t,!1)}function X(e,t){F(e,t);var n=Ce(t.value),a=t.type;if(n!=null)a==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Je(e,t.type,n):t.hasOwnProperty("defaultValue")&&Je(e,t.type,Ce(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Le(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Je(e,t,n){(t!=="number"||Ke(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ye=Array.isArray;function qe(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Ce(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Te(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(l(91));return G({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _r(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(l(92));if(Ye(n)){if(1<n.length)throw Error(l(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ce(n)}}function Tn(e,t){var n=Ce(t.value),a=Ce(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),a!=null&&(e.defaultValue=""+a)}function C(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Me(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?de(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _e,pt=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,a,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,a,i)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_e=_e||document.createElement("div"),_e.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_e.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function De(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var St={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},el=["Webkit","ms","Moz","O"];Object.keys(St).forEach(function(e){el.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),St[t]=St[e]})});function Mn(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||St.hasOwnProperty(e)&&St[e]?(""+t).trim():t+"px"}function Es(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var a=n.indexOf("--")===0,i=Mn(n,t[n],a);n==="float"&&(n="cssFloat"),a?e.setProperty(n,i):e[n]=i}}var Ps=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yr(e,t){if(t){if(Ps[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(l(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(l(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(l(61))}if(t.style!=null&&typeof t.style!="object")throw Error(l(62))}}function Xr(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zr=null;function Tr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tl=null,en=null,tn=null;function Si(e){if(e=rs(e)){if(typeof tl!="function")throw Error(l(280));var t=e.stateNode;t&&(t=Ys(t),tl(e.stateNode,e.type,t))}}function Ci(e){en?tn?tn.push(e):tn=[e]:en=e}function Ei(){if(en){var e=en,t=tn;if(tn=en=null,Si(e),t)for(e=0;e<t.length;e++)Si(t[e])}}function Pi(e,t){return e(t)}function Ri(){}var rl=!1;function Ai(e,t,n){if(rl)return e(t,n);rl=!0;try{return Pi(e,t,n)}finally{rl=!1,(en!==null||tn!==null)&&(Ri(),Ei())}}function On(e,t){var n=e.stateNode;if(n===null)return null;var a=Ys(n);if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(l(231,t,typeof n));return n}var nl=!1;if(h)try{var Dn={};Object.defineProperty(Dn,"passive",{get:function(){nl=!0}}),window.addEventListener("test",Dn,Dn),window.removeEventListener("test",Dn,Dn)}catch{nl=!1}function Mm(e,t,n,a,i,d,f,b,k){var D=Array.prototype.slice.call(arguments,3);try{t.apply(n,D)}catch(V){this.onError(V)}}var Fn=!1,Rs=null,As=!1,sl=null,Om={onError:function(e){Fn=!0,Rs=e}};function Dm(e,t,n,a,i,d,f,b,k){Fn=!1,Rs=null,Mm.apply(Om,arguments)}function Fm(e,t,n,a,i,d,f,b,k){if(Dm.apply(this,arguments),Fn){if(Fn){var D=Rs;Fn=!1,Rs=null}else throw Error(l(198));As||(As=!0,sl=D)}}function Mr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Li(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _i(e){if(Mr(e)!==e)throw Error(l(188))}function Im(e){var t=e.alternate;if(!t){if(t=Mr(e),t===null)throw Error(l(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var d=i.alternate;if(d===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===d.child){for(d=i.child;d;){if(d===n)return _i(i),e;if(d===a)return _i(i),t;d=d.sibling}throw Error(l(188))}if(n.return!==a.return)n=i,a=d;else{for(var f=!1,b=i.child;b;){if(b===n){f=!0,n=i,a=d;break}if(b===a){f=!0,a=i,n=d;break}b=b.sibling}if(!f){for(b=d.child;b;){if(b===n){f=!0,n=d,a=i;break}if(b===a){f=!0,a=d,n=i;break}b=b.sibling}if(!f)throw Error(l(189))}}if(n.alternate!==a)throw Error(l(190))}if(n.tag!==3)throw Error(l(188));return n.stateNode.current===n?e:t}function Ti(e){return e=Im(e),e!==null?Mi(e):null}function Mi(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Mi(e);if(t!==null)return t;e=e.sibling}return null}var Oi=o.unstable_scheduleCallback,Di=o.unstable_cancelCallback,zm=o.unstable_shouldYield,Um=o.unstable_requestPaint,Qe=o.unstable_now,$m=o.unstable_getCurrentPriorityLevel,al=o.unstable_ImmediatePriority,Fi=o.unstable_UserBlockingPriority,Ls=o.unstable_NormalPriority,Bm=o.unstable_LowPriority,Ii=o.unstable_IdlePriority,_s=null,Gt=null;function Hm(e){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(_s,e,void 0,(e.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:Km,Wm=Math.log,Vm=Math.LN2;function Km(e){return e>>>=0,e===0?32:31-(Wm(e)/Vm|0)|0}var Ts=64,Ms=4194304;function In(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Os(e,t){var n=e.pendingLanes;if(n===0)return 0;var a=0,i=e.suspendedLanes,d=e.pingedLanes,f=n&268435455;if(f!==0){var b=f&~i;b!==0?a=In(b):(d&=f,d!==0&&(a=In(d)))}else f=n&~i,f!==0?a=In(f):d!==0&&(a=In(d));if(a===0)return 0;if(t!==0&&t!==a&&(t&i)===0&&(i=a&-a,d=t&-t,i>=d||i===16&&(d&4194240)!==0))return t;if((a&4)!==0&&(a|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)n=31-Ft(t),i=1<<n,a|=e[n],t&=~i;return a}function qm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qm(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,d=e.pendingLanes;0<d;){var f=31-Ft(d),b=1<<f,k=i[f];k===-1?((b&n)===0||(b&a)!==0)&&(i[f]=qm(b,t)):k<=t&&(e.expiredLanes|=b),d&=~b}}function ll(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zi(){var e=Ts;return Ts<<=1,(Ts&4194240)===0&&(Ts=64),e}function ol(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zn(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ft(t),e[t]=n}function Gm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ft(n),d=1<<i;t[i]=0,a[i]=-1,e[i]=-1,n&=~d}}function il(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Ft(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}var Oe=0;function Ui(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var $i,dl,Bi,Hi,Wi,ul=!1,Ds=[],cr=null,mr=null,fr=null,Un=new Map,$n=new Map,pr=[],Jm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vi(e,t){switch(e){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":Un.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$n.delete(t.pointerId)}}function Bn(e,t,n,a,i,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:d,targetContainers:[i]},t!==null&&(t=rs(t),t!==null&&dl(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Ym(e,t,n,a,i){switch(t){case"focusin":return cr=Bn(cr,e,t,n,a,i),!0;case"dragenter":return mr=Bn(mr,e,t,n,a,i),!0;case"mouseover":return fr=Bn(fr,e,t,n,a,i),!0;case"pointerover":var d=i.pointerId;return Un.set(d,Bn(Un.get(d)||null,e,t,n,a,i)),!0;case"gotpointercapture":return d=i.pointerId,$n.set(d,Bn($n.get(d)||null,e,t,n,a,i)),!0}return!1}function Ki(e){var t=Or(e.target);if(t!==null){var n=Mr(t);if(n!==null){if(t=n.tag,t===13){if(t=Li(n),t!==null){e.blockedOn=t,Wi(e.priority,function(){Bi(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ml(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Zr=a,n.target.dispatchEvent(a),Zr=null}else return t=rs(n),t!==null&&dl(t),e.blockedOn=n,!1;t.shift()}return!0}function qi(e,t,n){Fs(e)&&n.delete(t)}function Xm(){ul=!1,cr!==null&&Fs(cr)&&(cr=null),mr!==null&&Fs(mr)&&(mr=null),fr!==null&&Fs(fr)&&(fr=null),Un.forEach(qi),$n.forEach(qi)}function Hn(e,t){e.blockedOn===t&&(e.blockedOn=null,ul||(ul=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Xm)))}function Wn(e){function t(i){return Hn(i,e)}if(0<Ds.length){Hn(Ds[0],e);for(var n=1;n<Ds.length;n++){var a=Ds[n];a.blockedOn===e&&(a.blockedOn=null)}}for(cr!==null&&Hn(cr,e),mr!==null&&Hn(mr,e),fr!==null&&Hn(fr,e),Un.forEach(t),$n.forEach(t),n=0;n<pr.length;n++)a=pr[n],a.blockedOn===e&&(a.blockedOn=null);for(;0<pr.length&&(n=pr[0],n.blockedOn===null);)Ki(n),n.blockedOn===null&&pr.shift()}var rn=M.ReactCurrentBatchConfig,Is=!0;function Zm(e,t,n,a){var i=Oe,d=rn.transition;rn.transition=null;try{Oe=1,cl(e,t,n,a)}finally{Oe=i,rn.transition=d}}function e0(e,t,n,a){var i=Oe,d=rn.transition;rn.transition=null;try{Oe=4,cl(e,t,n,a)}finally{Oe=i,rn.transition=d}}function cl(e,t,n,a){if(Is){var i=ml(e,t,n,a);if(i===null)Rl(e,t,a,zs,n),Vi(e,a);else if(Ym(i,e,t,n,a))a.stopPropagation();else if(Vi(e,a),t&4&&-1<Jm.indexOf(e)){for(;i!==null;){var d=rs(i);if(d!==null&&$i(d),d=ml(e,t,n,a),d===null&&Rl(e,t,a,zs,n),d===i)break;i=d}i!==null&&a.stopPropagation()}else Rl(e,t,a,null,n)}}var zs=null;function ml(e,t,n,a){if(zs=null,e=Tr(a),e=Or(e),e!==null)if(t=Mr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Li(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zs=e,null}function Qi(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($m()){case al:return 1;case Fi:return 4;case Ls:case Bm:return 16;case Ii:return 536870912;default:return 16}default:return 16}}var hr=null,fl=null,Us=null;function Gi(){if(Us)return Us;var e,t=fl,n=t.length,a,i="value"in hr?hr.value:hr.textContent,d=i.length;for(e=0;e<n&&t[e]===i[e];e++);var f=n-e;for(a=1;a<=f&&t[n-a]===i[d-a];a++);return Us=i.slice(e,1<a?1-a:void 0)}function $s(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bs(){return!0}function Ji(){return!1}function Ct(e){function t(n,a,i,d,f){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=d,this.target=f,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(n=e[b],this[b]=n?n(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Bs:Ji,this.isPropagationStopped=Ji,this}return G(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bs)},persist:function(){},isPersistent:Bs}),t}var nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pl=Ct(nn),Vn=G({},nn,{view:0,detail:0}),t0=Ct(Vn),hl,xl,Kn,Hs=G({},Vn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kn&&(Kn&&e.type==="mousemove"?(hl=e.screenX-Kn.screenX,xl=e.screenY-Kn.screenY):xl=hl=0,Kn=e),hl)},movementY:function(e){return"movementY"in e?e.movementY:xl}}),Yi=Ct(Hs),r0=G({},Hs,{dataTransfer:0}),n0=Ct(r0),s0=G({},Vn,{relatedTarget:0}),gl=Ct(s0),a0=G({},nn,{animationName:0,elapsedTime:0,pseudoElement:0}),l0=Ct(a0),o0=G({},nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),i0=Ct(o0),d0=G({},nn,{data:0}),Xi=Ct(d0),u0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function f0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=m0[e])?!!t[e]:!1}function yl(){return f0}var p0=G({},Vn,{key:function(e){if(e.key){var t=u0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$s(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?c0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yl,charCode:function(e){return e.type==="keypress"?$s(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$s(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),h0=Ct(p0),x0=G({},Hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=Ct(x0),g0=G({},Vn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yl}),y0=Ct(g0),b0=G({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),v0=Ct(b0),w0=G({},Hs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),k0=Ct(w0),j0=[9,13,27,32],bl=h&&"CompositionEvent"in window,qn=null;h&&"documentMode"in document&&(qn=document.documentMode);var N0=h&&"TextEvent"in window&&!qn,ed=h&&(!bl||qn&&8<qn&&11>=qn),td=" ",rd=!1;function nd(e,t){switch(e){case"keyup":return j0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sn=!1;function S0(e,t){switch(e){case"compositionend":return sd(t);case"keypress":return t.which!==32?null:(rd=!0,td);case"textInput":return e=t.data,e===td&&rd?null:e;default:return null}}function C0(e,t){if(sn)return e==="compositionend"||!bl&&nd(e,t)?(e=Gi(),Us=fl=hr=null,sn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ed&&t.locale!=="ko"?null:t.data;default:return null}}var E0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ad(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!E0[e.type]:t==="textarea"}function ld(e,t,n,a){Ci(a),t=Qs(t,"onChange"),0<t.length&&(n=new pl("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Qn=null,Gn=null;function P0(e){Nd(e,0)}function Ws(e){var t=un(e);if(ct(t))return e}function R0(e,t){if(e==="change")return t}var od=!1;if(h){var vl;if(h){var wl="oninput"in document;if(!wl){var id=document.createElement("div");id.setAttribute("oninput","return;"),wl=typeof id.oninput=="function"}vl=wl}else vl=!1;od=vl&&(!document.documentMode||9<document.documentMode)}function dd(){Qn&&(Qn.detachEvent("onpropertychange",ud),Gn=Qn=null)}function ud(e){if(e.propertyName==="value"&&Ws(Gn)){var t=[];ld(t,Gn,e,Tr(e)),Ai(P0,t)}}function A0(e,t,n){e==="focusin"?(dd(),Qn=t,Gn=n,Qn.attachEvent("onpropertychange",ud)):e==="focusout"&&dd()}function L0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ws(Gn)}function _0(e,t){if(e==="click")return Ws(t)}function T0(e,t){if(e==="input"||e==="change")return Ws(t)}function M0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var It=typeof Object.is=="function"?Object.is:M0;function Jn(e,t){if(It(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!y.call(t,i)||!It(e[i],t[i]))return!1}return!0}function cd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function md(e,t){var n=cd(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cd(n)}}function fd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pd(){for(var e=window,t=Ke();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ke(e.document)}return t}function kl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function O0(e){var t=pd(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fd(n.ownerDocument.documentElement,n)){if(a!==null&&kl(n)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,d=Math.min(a.start,i);a=a.end===void 0?d:Math.min(a.end,i),!e.extend&&d>a&&(i=a,a=d,d=i),i=md(n,d);var f=md(n,a);i&&f&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==f.node||e.focusOffset!==f.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),d>a?(e.addRange(t),e.extend(f.node,f.offset)):(t.setEnd(f.node,f.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var D0=h&&"documentMode"in document&&11>=document.documentMode,an=null,jl=null,Yn=null,Nl=!1;function hd(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Nl||an==null||an!==Ke(a)||(a=an,"selectionStart"in a&&kl(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Yn&&Jn(Yn,a)||(Yn=a,a=Qs(jl,"onSelect"),0<a.length&&(t=new pl("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=an)))}function Vs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ln={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionend:Vs("Transition","TransitionEnd")},Sl={},xd={};h&&(xd=document.createElement("div").style,"AnimationEvent"in window||(delete ln.animationend.animation,delete ln.animationiteration.animation,delete ln.animationstart.animation),"TransitionEvent"in window||delete ln.transitionend.transition);function Ks(e){if(Sl[e])return Sl[e];if(!ln[e])return e;var t=ln[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in xd)return Sl[e]=t[n];return e}var gd=Ks("animationend"),yd=Ks("animationiteration"),bd=Ks("animationstart"),vd=Ks("transitionend"),wd=new Map,kd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(e,t){wd.set(e,t),m(t,[e])}for(var Cl=0;Cl<kd.length;Cl++){var El=kd[Cl],F0=El.toLowerCase(),I0=El[0].toUpperCase()+El.slice(1);xr(F0,"on"+I0)}xr(gd,"onAnimationEnd"),xr(yd,"onAnimationIteration"),xr(bd,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(vd,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),m("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),m("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),m("onBeforeInput",["compositionend","keypress","textInput","paste"]),m("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xn));function jd(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,Fm(a,t,void 0,e),e.currentTarget=null}function Nd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var d=void 0;if(t)for(var f=a.length-1;0<=f;f--){var b=a[f],k=b.instance,D=b.currentTarget;if(b=b.listener,k!==d&&i.isPropagationStopped())break e;jd(i,b,D),d=k}else for(f=0;f<a.length;f++){if(b=a[f],k=b.instance,D=b.currentTarget,b=b.listener,k!==d&&i.isPropagationStopped())break e;jd(i,b,D),d=k}}}if(As)throw e=sl,As=!1,sl=null,e}function Ie(e,t){var n=t[Ol];n===void 0&&(n=t[Ol]=new Set);var a=e+"__bubble";n.has(a)||(Sd(t,e,2,!1),n.add(a))}function Pl(e,t,n){var a=0;t&&(a|=4),Sd(n,e,a,t)}var qs="_reactListening"+Math.random().toString(36).slice(2);function Zn(e){if(!e[qs]){e[qs]=!0,u.forEach(function(n){n!=="selectionchange"&&(z0.has(n)||Pl(n,!1,e),Pl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qs]||(t[qs]=!0,Pl("selectionchange",!1,t))}}function Sd(e,t,n,a){switch(Qi(t)){case 1:var i=Zm;break;case 4:i=e0;break;default:i=cl}n=i.bind(null,t,n,e),i=void 0,!nl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Rl(e,t,n,a,i){var d=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var f=a.tag;if(f===3||f===4){var b=a.stateNode.containerInfo;if(b===i||b.nodeType===8&&b.parentNode===i)break;if(f===4)for(f=a.return;f!==null;){var k=f.tag;if((k===3||k===4)&&(k=f.stateNode.containerInfo,k===i||k.nodeType===8&&k.parentNode===i))return;f=f.return}for(;b!==null;){if(f=Or(b),f===null)return;if(k=f.tag,k===5||k===6){a=d=f;continue e}b=b.parentNode}}a=a.return}Ai(function(){var D=d,V=Tr(n),Q=[];e:{var W=wd.get(e);if(W!==void 0){var ee=pl,ne=e;switch(e){case"keypress":if($s(n)===0)break e;case"keydown":case"keyup":ee=h0;break;case"focusin":ne="focus",ee=gl;break;case"focusout":ne="blur",ee=gl;break;case"beforeblur":case"afterblur":ee=gl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Yi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=n0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=y0;break;case gd:case yd:case bd:ee=l0;break;case vd:ee=v0;break;case"scroll":ee=t0;break;case"wheel":ee=k0;break;case"copy":case"cut":case"paste":ee=i0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Zi}var ae=(t&4)!==0,Ge=!ae&&e==="scroll",L=ae?W!==null?W+"Capture":null:W;ae=[];for(var N=D,_;N!==null;){_=N;var J=_.stateNode;if(_.tag===5&&J!==null&&(_=J,L!==null&&(J=On(N,L),J!=null&&ae.push(es(N,J,_)))),Ge)break;N=N.return}0<ae.length&&(W=new ee(W,ne,null,n,V),Q.push({event:W,listeners:ae}))}}if((t&7)===0){e:{if(W=e==="mouseover"||e==="pointerover",ee=e==="mouseout"||e==="pointerout",W&&n!==Zr&&(ne=n.relatedTarget||n.fromElement)&&(Or(ne)||ne[tr]))break e;if((ee||W)&&(W=V.window===V?V:(W=V.ownerDocument)?W.defaultView||W.parentWindow:window,ee?(ne=n.relatedTarget||n.toElement,ee=D,ne=ne?Or(ne):null,ne!==null&&(Ge=Mr(ne),ne!==Ge||ne.tag!==5&&ne.tag!==6)&&(ne=null)):(ee=null,ne=D),ee!==ne)){if(ae=Yi,J="onMouseLeave",L="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(ae=Zi,J="onPointerLeave",L="onPointerEnter",N="pointer"),Ge=ee==null?W:un(ee),_=ne==null?W:un(ne),W=new ae(J,N+"leave",ee,n,V),W.target=Ge,W.relatedTarget=_,J=null,Or(V)===D&&(ae=new ae(L,N+"enter",ne,n,V),ae.target=_,ae.relatedTarget=Ge,J=ae),Ge=J,ee&&ne)t:{for(ae=ee,L=ne,N=0,_=ae;_;_=on(_))N++;for(_=0,J=L;J;J=on(J))_++;for(;0<N-_;)ae=on(ae),N--;for(;0<_-N;)L=on(L),_--;for(;N--;){if(ae===L||L!==null&&ae===L.alternate)break t;ae=on(ae),L=on(L)}ae=null}else ae=null;ee!==null&&Cd(Q,W,ee,ae,!1),ne!==null&&Ge!==null&&Cd(Q,Ge,ne,ae,!0)}}e:{if(W=D?un(D):window,ee=W.nodeName&&W.nodeName.toLowerCase(),ee==="select"||ee==="input"&&W.type==="file")var le=R0;else if(ad(W))if(od)le=T0;else{le=L0;var me=A0}else(ee=W.nodeName)&&ee.toLowerCase()==="input"&&(W.type==="checkbox"||W.type==="radio")&&(le=_0);if(le&&(le=le(e,D))){ld(Q,le,n,V);break e}me&&me(e,W,D),e==="focusout"&&(me=W._wrapperState)&&me.controlled&&W.type==="number"&&Je(W,"number",W.value)}switch(me=D?un(D):window,e){case"focusin":(ad(me)||me.contentEditable==="true")&&(an=me,jl=D,Yn=null);break;case"focusout":Yn=jl=an=null;break;case"mousedown":Nl=!0;break;case"contextmenu":case"mouseup":case"dragend":Nl=!1,hd(Q,n,V);break;case"selectionchange":if(D0)break;case"keydown":case"keyup":hd(Q,n,V)}var fe;if(bl)e:{switch(e){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else sn?nd(e,n)&&(ye="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ye="onCompositionStart");ye&&(ed&&n.locale!=="ko"&&(sn||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&sn&&(fe=Gi()):(hr=V,fl="value"in hr?hr.value:hr.textContent,sn=!0)),me=Qs(D,ye),0<me.length&&(ye=new Xi(ye,e,null,n,V),Q.push({event:ye,listeners:me}),fe?ye.data=fe:(fe=sd(n),fe!==null&&(ye.data=fe)))),(fe=N0?S0(e,n):C0(e,n))&&(D=Qs(D,"onBeforeInput"),0<D.length&&(V=new Xi("onBeforeInput","beforeinput",null,n,V),Q.push({event:V,listeners:D}),V.data=fe))}Nd(Q,t)})}function es(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qs(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,d=i.stateNode;i.tag===5&&d!==null&&(i=d,d=On(e,n),d!=null&&a.unshift(es(e,d,i)),d=On(e,t),d!=null&&a.push(es(e,d,i))),e=e.return}return a}function on(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Cd(e,t,n,a,i){for(var d=t._reactName,f=[];n!==null&&n!==a;){var b=n,k=b.alternate,D=b.stateNode;if(k!==null&&k===a)break;b.tag===5&&D!==null&&(b=D,i?(k=On(n,d),k!=null&&f.unshift(es(n,k,b))):i||(k=On(n,d),k!=null&&f.push(es(n,k,b)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var U0=/\r\n?/g,$0=/\u0000|\uFFFD/g;function Ed(e){return(typeof e=="string"?e:""+e).replace(U0,`
`).replace($0,"")}function Gs(e,t,n){if(t=Ed(t),Ed(e)!==t&&n)throw Error(l(425))}function Js(){}var Al=null,Ll=null;function _l(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tl=typeof setTimeout=="function"?setTimeout:void 0,B0=typeof clearTimeout=="function"?clearTimeout:void 0,Pd=typeof Promise=="function"?Promise:void 0,H0=typeof queueMicrotask=="function"?queueMicrotask:typeof Pd<"u"?function(e){return Pd.resolve(null).then(e).catch(W0)}:Tl;function W0(e){setTimeout(function(){throw e})}function Ml(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(a===0){e.removeChild(i),Wn(t);return}a--}else n!=="$"&&n!=="$?"&&n!=="$!"||a++;n=i}while(n);Wn(t)}function gr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Rd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var dn=Math.random().toString(36).slice(2),Jt="__reactFiber$"+dn,ts="__reactProps$"+dn,tr="__reactContainer$"+dn,Ol="__reactEvents$"+dn,V0="__reactListeners$"+dn,K0="__reactHandles$"+dn;function Or(e){var t=e[Jt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[tr]||n[Jt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Rd(e);e!==null;){if(n=e[Jt])return n;e=Rd(e)}return t}e=n,n=e.parentNode}return null}function rs(e){return e=e[Jt]||e[tr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function un(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(l(33))}function Ys(e){return e[ts]||null}var Dl=[],cn=-1;function yr(e){return{current:e}}function ze(e){0>cn||(e.current=Dl[cn],Dl[cn]=null,cn--)}function Fe(e,t){cn++,Dl[cn]=e.current,e.current=t}var br={},lt=yr(br),ht=yr(!1),Dr=br;function mn(e,t){var n=e.type.contextTypes;if(!n)return br;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var i={},d;for(d in n)i[d]=t[d];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function xt(e){return e=e.childContextTypes,e!=null}function Xs(){ze(ht),ze(lt)}function Ad(e,t,n){if(lt.current!==br)throw Error(l(168));Fe(lt,t),Fe(ht,n)}function Ld(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return n;a=a.getChildContext();for(var i in a)if(!(i in t))throw Error(l(108,Ne(e)||"Unknown",i));return G({},n,a)}function Zs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||br,Dr=lt.current,Fe(lt,e),Fe(ht,ht.current),!0}function _d(e,t,n){var a=e.stateNode;if(!a)throw Error(l(169));n?(e=Ld(e,t,Dr),a.__reactInternalMemoizedMergedChildContext=e,ze(ht),ze(lt),Fe(lt,e)):ze(ht),Fe(ht,n)}var rr=null,ea=!1,Fl=!1;function Td(e){rr===null?rr=[e]:rr.push(e)}function q0(e){ea=!0,Td(e)}function vr(){if(!Fl&&rr!==null){Fl=!0;var e=0,t=Oe;try{var n=rr;for(Oe=1;e<n.length;e++){var a=n[e];do a=a(!0);while(a!==null)}rr=null,ea=!1}catch(i){throw rr!==null&&(rr=rr.slice(e+1)),Oi(al,vr),i}finally{Oe=t,Fl=!1}}return null}var fn=[],pn=0,ta=null,ra=0,Lt=[],_t=0,Fr=null,nr=1,sr="";function Ir(e,t){fn[pn++]=ra,fn[pn++]=ta,ta=e,ra=t}function Md(e,t,n){Lt[_t++]=nr,Lt[_t++]=sr,Lt[_t++]=Fr,Fr=e;var a=nr;e=sr;var i=32-Ft(a)-1;a&=~(1<<i),n+=1;var d=32-Ft(t)+i;if(30<d){var f=i-i%5;d=(a&(1<<f)-1).toString(32),a>>=f,i-=f,nr=1<<32-Ft(t)+i|n<<i|a,sr=d+e}else nr=1<<d|n<<i|a,sr=e}function Il(e){e.return!==null&&(Ir(e,1),Md(e,1,0))}function zl(e){for(;e===ta;)ta=fn[--pn],fn[pn]=null,ra=fn[--pn],fn[pn]=null;for(;e===Fr;)Fr=Lt[--_t],Lt[_t]=null,sr=Lt[--_t],Lt[_t]=null,nr=Lt[--_t],Lt[_t]=null}var Et=null,Pt=null,Ue=!1,zt=null;function Od(e,t){var n=Dt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Dd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Et=e,Pt=gr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Et=e,Pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Fr!==null?{id:nr,overflow:sr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Dt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Et=e,Pt=null,!0):!1;default:return!1}}function Ul(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $l(e){if(Ue){var t=Pt;if(t){var n=t;if(!Dd(e,t)){if(Ul(e))throw Error(l(418));t=gr(n.nextSibling);var a=Et;t&&Dd(e,t)?Od(a,n):(e.flags=e.flags&-4097|2,Ue=!1,Et=e)}}else{if(Ul(e))throw Error(l(418));e.flags=e.flags&-4097|2,Ue=!1,Et=e}}}function Fd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Et=e}function na(e){if(e!==Et)return!1;if(!Ue)return Fd(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_l(e.type,e.memoizedProps)),t&&(t=Pt)){if(Ul(e))throw Id(),Error(l(418));for(;t;)Od(e,t),t=gr(t.nextSibling)}if(Fd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Pt=gr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Pt=null}}else Pt=Et?gr(e.stateNode.nextSibling):null;return!0}function Id(){for(var e=Pt;e;)e=gr(e.nextSibling)}function hn(){Pt=Et=null,Ue=!1}function Bl(e){zt===null?zt=[e]:zt.push(e)}var Q0=M.ReactCurrentBatchConfig;function ns(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(l(309));var a=n.stateNode}if(!a)throw Error(l(147,e));var i=a,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(f){var b=i.refs;f===null?delete b[d]:b[d]=f},t._stringRef=d,t)}if(typeof e!="string")throw Error(l(284));if(!n._owner)throw Error(l(290,e))}return e}function sa(e,t){throw e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zd(e){var t=e._init;return t(e._payload)}function Ud(e){function t(L,N){if(e){var _=L.deletions;_===null?(L.deletions=[N],L.flags|=16):_.push(N)}}function n(L,N){if(!e)return null;for(;N!==null;)t(L,N),N=N.sibling;return null}function a(L,N){for(L=new Map;N!==null;)N.key!==null?L.set(N.key,N):L.set(N.index,N),N=N.sibling;return L}function i(L,N){return L=Pr(L,N),L.index=0,L.sibling=null,L}function d(L,N,_){return L.index=_,e?(_=L.alternate,_!==null?(_=_.index,_<N?(L.flags|=2,N):_):(L.flags|=2,N)):(L.flags|=1048576,N)}function f(L){return e&&L.alternate===null&&(L.flags|=2),L}function b(L,N,_,J){return N===null||N.tag!==6?(N=Mo(_,L.mode,J),N.return=L,N):(N=i(N,_),N.return=L,N)}function k(L,N,_,J){var le=_.type;return le===ie?V(L,N,_.props.children,J,_.key):N!==null&&(N.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===te&&zd(le)===N.type)?(J=i(N,_.props),J.ref=ns(L,N,_),J.return=L,J):(J=Pa(_.type,_.key,_.props,null,L.mode,J),J.ref=ns(L,N,_),J.return=L,J)}function D(L,N,_,J){return N===null||N.tag!==4||N.stateNode.containerInfo!==_.containerInfo||N.stateNode.implementation!==_.implementation?(N=Oo(_,L.mode,J),N.return=L,N):(N=i(N,_.children||[]),N.return=L,N)}function V(L,N,_,J,le){return N===null||N.tag!==7?(N=Kr(_,L.mode,J,le),N.return=L,N):(N=i(N,_),N.return=L,N)}function Q(L,N,_){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Mo(""+N,L.mode,_),N.return=L,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case H:return _=Pa(N.type,N.key,N.props,null,L.mode,_),_.ref=ns(L,null,N),_.return=L,_;case K:return N=Oo(N,L.mode,_),N.return=L,N;case te:var J=N._init;return Q(L,J(N._payload),_)}if(Ye(N)||q(N))return N=Kr(N,L.mode,_,null),N.return=L,N;sa(L,N)}return null}function W(L,N,_,J){var le=N!==null?N.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return le!==null?null:b(L,N,""+_,J);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case H:return _.key===le?k(L,N,_,J):null;case K:return _.key===le?D(L,N,_,J):null;case te:return le=_._init,W(L,N,le(_._payload),J)}if(Ye(_)||q(_))return le!==null?null:V(L,N,_,J,null);sa(L,_)}return null}function ee(L,N,_,J,le){if(typeof J=="string"&&J!==""||typeof J=="number")return L=L.get(_)||null,b(N,L,""+J,le);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case H:return L=L.get(J.key===null?_:J.key)||null,k(N,L,J,le);case K:return L=L.get(J.key===null?_:J.key)||null,D(N,L,J,le);case te:var me=J._init;return ee(L,N,_,me(J._payload),le)}if(Ye(J)||q(J))return L=L.get(_)||null,V(N,L,J,le,null);sa(N,J)}return null}function ne(L,N,_,J){for(var le=null,me=null,fe=N,ye=N=0,nt=null;fe!==null&&ye<_.length;ye++){fe.index>ye?(nt=fe,fe=null):nt=fe.sibling;var Ae=W(L,fe,_[ye],J);if(Ae===null){fe===null&&(fe=nt);break}e&&fe&&Ae.alternate===null&&t(L,fe),N=d(Ae,N,ye),me===null?le=Ae:me.sibling=Ae,me=Ae,fe=nt}if(ye===_.length)return n(L,fe),Ue&&Ir(L,ye),le;if(fe===null){for(;ye<_.length;ye++)fe=Q(L,_[ye],J),fe!==null&&(N=d(fe,N,ye),me===null?le=fe:me.sibling=fe,me=fe);return Ue&&Ir(L,ye),le}for(fe=a(L,fe);ye<_.length;ye++)nt=ee(fe,L,ye,_[ye],J),nt!==null&&(e&&nt.alternate!==null&&fe.delete(nt.key===null?ye:nt.key),N=d(nt,N,ye),me===null?le=nt:me.sibling=nt,me=nt);return e&&fe.forEach(function(Rr){return t(L,Rr)}),Ue&&Ir(L,ye),le}function ae(L,N,_,J){var le=q(_);if(typeof le!="function")throw Error(l(150));if(_=le.call(_),_==null)throw Error(l(151));for(var me=le=null,fe=N,ye=N=0,nt=null,Ae=_.next();fe!==null&&!Ae.done;ye++,Ae=_.next()){fe.index>ye?(nt=fe,fe=null):nt=fe.sibling;var Rr=W(L,fe,Ae.value,J);if(Rr===null){fe===null&&(fe=nt);break}e&&fe&&Rr.alternate===null&&t(L,fe),N=d(Rr,N,ye),me===null?le=Rr:me.sibling=Rr,me=Rr,fe=nt}if(Ae.done)return n(L,fe),Ue&&Ir(L,ye),le;if(fe===null){for(;!Ae.done;ye++,Ae=_.next())Ae=Q(L,Ae.value,J),Ae!==null&&(N=d(Ae,N,ye),me===null?le=Ae:me.sibling=Ae,me=Ae);return Ue&&Ir(L,ye),le}for(fe=a(L,fe);!Ae.done;ye++,Ae=_.next())Ae=ee(fe,L,ye,Ae.value,J),Ae!==null&&(e&&Ae.alternate!==null&&fe.delete(Ae.key===null?ye:Ae.key),N=d(Ae,N,ye),me===null?le=Ae:me.sibling=Ae,me=Ae);return e&&fe.forEach(function(Pf){return t(L,Pf)}),Ue&&Ir(L,ye),le}function Ge(L,N,_,J){if(typeof _=="object"&&_!==null&&_.type===ie&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case H:e:{for(var le=_.key,me=N;me!==null;){if(me.key===le){if(le=_.type,le===ie){if(me.tag===7){n(L,me.sibling),N=i(me,_.props.children),N.return=L,L=N;break e}}else if(me.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===te&&zd(le)===me.type){n(L,me.sibling),N=i(me,_.props),N.ref=ns(L,me,_),N.return=L,L=N;break e}n(L,me);break}else t(L,me);me=me.sibling}_.type===ie?(N=Kr(_.props.children,L.mode,J,_.key),N.return=L,L=N):(J=Pa(_.type,_.key,_.props,null,L.mode,J),J.ref=ns(L,N,_),J.return=L,L=J)}return f(L);case K:e:{for(me=_.key;N!==null;){if(N.key===me)if(N.tag===4&&N.stateNode.containerInfo===_.containerInfo&&N.stateNode.implementation===_.implementation){n(L,N.sibling),N=i(N,_.children||[]),N.return=L,L=N;break e}else{n(L,N);break}else t(L,N);N=N.sibling}N=Oo(_,L.mode,J),N.return=L,L=N}return f(L);case te:return me=_._init,Ge(L,N,me(_._payload),J)}if(Ye(_))return ne(L,N,_,J);if(q(_))return ae(L,N,_,J);sa(L,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,N!==null&&N.tag===6?(n(L,N.sibling),N=i(N,_),N.return=L,L=N):(n(L,N),N=Mo(_,L.mode,J),N.return=L,L=N),f(L)):n(L,N)}return Ge}var xn=Ud(!0),$d=Ud(!1),aa=yr(null),la=null,gn=null,Hl=null;function Wl(){Hl=gn=la=null}function Vl(e){var t=aa.current;ze(aa),e._currentValue=t}function Kl(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function yn(e,t){la=e,Hl=gn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(gt=!0),e.firstContext=null)}function Tt(e){var t=e._currentValue;if(Hl!==e)if(e={context:e,memoizedValue:t,next:null},gn===null){if(la===null)throw Error(l(308));gn=e,la.dependencies={lanes:0,firstContext:e}}else gn=gn.next=e;return t}var zr=null;function ql(e){zr===null?zr=[e]:zr.push(e)}function Bd(e,t,n,a){var i=t.interleaved;return i===null?(n.next=n,ql(t)):(n.next=i.next,i.next=n),t.interleaved=n,ar(e,a)}function ar(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var wr=!1;function Ql(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function kr(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Re&2)!==0){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,ar(e,n)}return i=a.interleaved,i===null?(t.next=t,ql(a)):(t.next=i.next,i.next=t),a.interleaved=t,ar(e,n)}function oa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,il(e,n)}}function Wd(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,d=null;if(n=n.firstBaseUpdate,n!==null){do{var f={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};d===null?i=d=f:d=d.next=f,n=n.next}while(n!==null);d===null?i=d=t:d=d.next=t}else i=d=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:d,shared:a.shared,effects:a.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ia(e,t,n,a){var i=e.updateQueue;wr=!1;var d=i.firstBaseUpdate,f=i.lastBaseUpdate,b=i.shared.pending;if(b!==null){i.shared.pending=null;var k=b,D=k.next;k.next=null,f===null?d=D:f.next=D,f=k;var V=e.alternate;V!==null&&(V=V.updateQueue,b=V.lastBaseUpdate,b!==f&&(b===null?V.firstBaseUpdate=D:b.next=D,V.lastBaseUpdate=k))}if(d!==null){var Q=i.baseState;f=0,V=D=k=null,b=d;do{var W=b.lane,ee=b.eventTime;if((a&W)===W){V!==null&&(V=V.next={eventTime:ee,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var ne=e,ae=b;switch(W=t,ee=n,ae.tag){case 1:if(ne=ae.payload,typeof ne=="function"){Q=ne.call(ee,Q,W);break e}Q=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=ae.payload,W=typeof ne=="function"?ne.call(ee,Q,W):ne,W==null)break e;Q=G({},Q,W);break e;case 2:wr=!0}}b.callback!==null&&b.lane!==0&&(e.flags|=64,W=i.effects,W===null?i.effects=[b]:W.push(b))}else ee={eventTime:ee,lane:W,tag:b.tag,payload:b.payload,callback:b.callback,next:null},V===null?(D=V=ee,k=Q):V=V.next=ee,f|=W;if(b=b.next,b===null){if(b=i.shared.pending,b===null)break;W=b,b=W.next,W.next=null,i.lastBaseUpdate=W,i.shared.pending=null}}while(!0);if(V===null&&(k=Q),i.baseState=k,i.firstBaseUpdate=D,i.lastBaseUpdate=V,t=i.shared.interleaved,t!==null){i=t;do f|=i.lane,i=i.next;while(i!==t)}else d===null&&(i.shared.lanes=0);Br|=f,e.lanes=f,e.memoizedState=Q}}function Vd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],i=a.callback;if(i!==null){if(a.callback=null,a=n,typeof i!="function")throw Error(l(191,i));i.call(a)}}}var ss={},Yt=yr(ss),as=yr(ss),ls=yr(ss);function Ur(e){if(e===ss)throw Error(l(174));return e}function Gl(e,t){switch(Fe(ls,t),Fe(as,e),Fe(Yt,ss),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Me(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Me(t,e)}ze(Yt),Fe(Yt,t)}function bn(){ze(Yt),ze(as),ze(ls)}function Kd(e){Ur(ls.current);var t=Ur(Yt.current),n=Me(t,e.type);t!==n&&(Fe(as,e),Fe(Yt,n))}function Jl(e){as.current===e&&(ze(Yt),ze(as))}var Be=yr(0);function da(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yl=[];function Xl(){for(var e=0;e<Yl.length;e++)Yl[e]._workInProgressVersionPrimary=null;Yl.length=0}var ua=M.ReactCurrentDispatcher,Zl=M.ReactCurrentBatchConfig,$r=0,He=null,Ze=null,tt=null,ca=!1,os=!1,is=0,G0=0;function ot(){throw Error(l(321))}function eo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!It(e[n],t[n]))return!1;return!0}function to(e,t,n,a,i,d){if($r=d,He=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ua.current=e===null||e.memoizedState===null?Z0:ef,e=n(a,i),os){d=0;do{if(os=!1,is=0,25<=d)throw Error(l(301));d+=1,tt=Ze=null,t.updateQueue=null,ua.current=tf,e=n(a,i)}while(os)}if(ua.current=pa,t=Ze!==null&&Ze.next!==null,$r=0,tt=Ze=He=null,ca=!1,t)throw Error(l(300));return e}function ro(){var e=is!==0;return is=0,e}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?He.memoizedState=tt=e:tt=tt.next=e,tt}function Mt(){if(Ze===null){var e=He.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=tt===null?He.memoizedState:tt.next;if(t!==null)tt=t,Ze=e;else{if(e===null)throw Error(l(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},tt===null?He.memoizedState=tt=e:tt=tt.next=e}return tt}function ds(e,t){return typeof t=="function"?t(e):t}function no(e){var t=Mt(),n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var a=Ze,i=a.baseQueue,d=n.pending;if(d!==null){if(i!==null){var f=i.next;i.next=d.next,d.next=f}a.baseQueue=i=d,n.pending=null}if(i!==null){d=i.next,a=a.baseState;var b=f=null,k=null,D=d;do{var V=D.lane;if(($r&V)===V)k!==null&&(k=k.next={lane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),a=D.hasEagerState?D.eagerState:e(a,D.action);else{var Q={lane:V,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null};k===null?(b=k=Q,f=a):k=k.next=Q,He.lanes|=V,Br|=V}D=D.next}while(D!==null&&D!==d);k===null?f=a:k.next=b,It(a,t.memoizedState)||(gt=!0),t.memoizedState=a,t.baseState=f,t.baseQueue=k,n.lastRenderedState=a}if(e=n.interleaved,e!==null){i=e;do d=i.lane,He.lanes|=d,Br|=d,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function so(e){var t=Mt(),n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,d=t.memoizedState;if(i!==null){n.pending=null;var f=i=i.next;do d=e(d,f.action),f=f.next;while(f!==i);It(d,t.memoizedState)||(gt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),n.lastRenderedState=d}return[d,a]}function qd(){}function Qd(e,t){var n=He,a=Mt(),i=t(),d=!It(a.memoizedState,i);if(d&&(a.memoizedState=i,gt=!0),a=a.queue,ao(Yd.bind(null,n,a,e),[e]),a.getSnapshot!==t||d||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,us(9,Jd.bind(null,n,a,i,t),void 0,null),rt===null)throw Error(l(349));($r&30)!==0||Gd(n,t,i)}return i}function Gd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jd(e,t,n,a){t.value=n,t.getSnapshot=a,Xd(t)&&Zd(e)}function Yd(e,t,n){return n(function(){Xd(t)&&Zd(e)})}function Xd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!It(e,n)}catch{return!0}}function Zd(e){var t=ar(e,1);t!==null&&Ht(t,e,1,-1)}function eu(e){var t=Xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:e},t.queue=e,e=e.dispatch=X0.bind(null,He,e),[t.memoizedState,e]}function us(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e)),e}function tu(){return Mt().memoizedState}function ma(e,t,n,a){var i=Xt();He.flags|=e,i.memoizedState=us(1|t,n,void 0,a===void 0?null:a)}function fa(e,t,n,a){var i=Mt();a=a===void 0?null:a;var d=void 0;if(Ze!==null){var f=Ze.memoizedState;if(d=f.destroy,a!==null&&eo(a,f.deps)){i.memoizedState=us(t,n,d,a);return}}He.flags|=e,i.memoizedState=us(1|t,n,d,a)}function ru(e,t){return ma(8390656,8,e,t)}function ao(e,t){return fa(2048,8,e,t)}function nu(e,t){return fa(4,2,e,t)}function su(e,t){return fa(4,4,e,t)}function au(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lu(e,t,n){return n=n!=null?n.concat([e]):null,fa(4,4,au.bind(null,t,e),n)}function lo(){}function ou(e,t){var n=Mt();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&eo(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function iu(e,t){var n=Mt();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&eo(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function du(e,t,n){return($r&21)===0?(e.baseState&&(e.baseState=!1,gt=!0),e.memoizedState=n):(It(n,t)||(n=zi(),He.lanes|=n,Br|=n,e.baseState=!0),t)}function J0(e,t){var n=Oe;Oe=n!==0&&4>n?n:4,e(!0);var a=Zl.transition;Zl.transition={};try{e(!1),t()}finally{Oe=n,Zl.transition=a}}function uu(){return Mt().memoizedState}function Y0(e,t,n){var a=Cr(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},cu(e))mu(t,n);else if(n=Bd(e,t,n,a),n!==null){var i=ft();Ht(n,e,a,i),fu(n,t,a)}}function X0(e,t,n){var a=Cr(e),i={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(cu(e))mu(t,i);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var f=t.lastRenderedState,b=d(f,n);if(i.hasEagerState=!0,i.eagerState=b,It(b,f)){var k=t.interleaved;k===null?(i.next=i,ql(t)):(i.next=k.next,k.next=i),t.interleaved=i;return}}catch{}finally{}n=Bd(e,t,i,a),n!==null&&(i=ft(),Ht(n,e,a,i),fu(n,t,a))}}function cu(e){var t=e.alternate;return e===He||t!==null&&t===He}function mu(e,t){os=ca=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fu(e,t,n){if((n&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,il(e,n)}}var pa={readContext:Tt,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},Z0={readContext:Tt,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:ru,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ma(4194308,4,au.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ma(4194308,4,e,t)},useInsertionEffect:function(e,t){return ma(4,2,e,t)},useMemo:function(e,t){var n=Xt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=Xt();return t=n!==void 0?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Y0.bind(null,He,e),[a.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:eu,useDebugValue:lo,useDeferredValue:function(e){return Xt().memoizedState=e},useTransition:function(){var e=eu(!1),t=e[0];return e=J0.bind(null,e[1]),Xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=He,i=Xt();if(Ue){if(n===void 0)throw Error(l(407));n=n()}else{if(n=t(),rt===null)throw Error(l(349));($r&30)!==0||Gd(a,t,n)}i.memoizedState=n;var d={value:n,getSnapshot:t};return i.queue=d,ru(Yd.bind(null,a,d,e),[e]),a.flags|=2048,us(9,Jd.bind(null,a,d,n,t),void 0,null),n},useId:function(){var e=Xt(),t=rt.identifierPrefix;if(Ue){var n=sr,a=nr;n=(a&~(1<<32-Ft(a)-1)).toString(32)+n,t=":"+t+"R"+n,n=is++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=G0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ef={readContext:Tt,useCallback:ou,useContext:Tt,useEffect:ao,useImperativeHandle:lu,useInsertionEffect:nu,useLayoutEffect:su,useMemo:iu,useReducer:no,useRef:tu,useState:function(){return no(ds)},useDebugValue:lo,useDeferredValue:function(e){var t=Mt();return du(t,Ze.memoizedState,e)},useTransition:function(){var e=no(ds)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:qd,useSyncExternalStore:Qd,useId:uu,unstable_isNewReconciler:!1},tf={readContext:Tt,useCallback:ou,useContext:Tt,useEffect:ao,useImperativeHandle:lu,useInsertionEffect:nu,useLayoutEffect:su,useMemo:iu,useReducer:so,useRef:tu,useState:function(){return so(ds)},useDebugValue:lo,useDeferredValue:function(e){var t=Mt();return Ze===null?t.memoizedState=e:du(t,Ze.memoizedState,e)},useTransition:function(){var e=so(ds)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:qd,useSyncExternalStore:Qd,useId:uu,unstable_isNewReconciler:!1};function Ut(e,t){if(e&&e.defaultProps){t=G({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function oo(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:G({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ha={isMounted:function(e){return(e=e._reactInternals)?Mr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=ft(),i=Cr(e),d=lr(a,i);d.payload=t,n!=null&&(d.callback=n),t=kr(e,d,i),t!==null&&(Ht(t,e,i,a),oa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=ft(),i=Cr(e),d=lr(a,i);d.tag=1,d.payload=t,n!=null&&(d.callback=n),t=kr(e,d,i),t!==null&&(Ht(t,e,i,a),oa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ft(),a=Cr(e),i=lr(n,a);i.tag=2,t!=null&&(i.callback=t),t=kr(e,i,a),t!==null&&(Ht(t,e,a,n),oa(t,e,a))}};function pu(e,t,n,a,i,d,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,d,f):t.prototype&&t.prototype.isPureReactComponent?!Jn(n,a)||!Jn(i,d):!0}function hu(e,t,n){var a=!1,i=br,d=t.contextType;return typeof d=="object"&&d!==null?d=Tt(d):(i=xt(t)?Dr:lt.current,a=t.contextTypes,d=(a=a!=null)?mn(e,i):br),t=new t(n,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ha,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=d),t}function xu(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&ha.enqueueReplaceState(t,t.state,null)}function io(e,t,n,a){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ql(e);var d=t.contextType;typeof d=="object"&&d!==null?i.context=Tt(d):(d=xt(t)?Dr:lt.current,i.context=mn(e,d)),i.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(oo(e,t,d,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ha.enqueueReplaceState(i,i.state,null),ia(e,n,i,a),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function vn(e,t){try{var n="",a=t;do n+=ge(a),a=a.return;while(a);var i=n}catch(d){i=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:i,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function co(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var rf=typeof WeakMap=="function"?WeakMap:Map;function gu(e,t,n){n=lr(-1,n),n.tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){ka||(ka=!0,Co=a),co(e,t)},n}function yu(e,t,n){n=lr(-1,n),n.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var i=t.value;n.payload=function(){return a(i)},n.callback=function(){co(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(n.callback=function(){co(e,t),typeof a!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var f=t.stack;this.componentDidCatch(t.value,{componentStack:f!==null?f:""})}),n}function bu(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new rf;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(i.add(n),e=gf.bind(null,e,t,n),t.then(e,e))}function vu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function wu(e,t,n,a,i){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=lr(-1,1),t.tag=2,kr(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var nf=M.ReactCurrentOwner,gt=!1;function mt(e,t,n,a){t.child=e===null?$d(t,null,n,a):xn(t,e.child,n,a)}function ku(e,t,n,a,i){n=n.render;var d=t.ref;return yn(t,i),a=to(e,t,n,a,d,i),n=ro(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,or(e,t,i)):(Ue&&n&&Il(t),t.flags|=1,mt(e,t,a,i),t.child)}function ju(e,t,n,a,i){if(e===null){var d=n.type;return typeof d=="function"&&!To(d)&&d.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=d,Nu(e,t,d,a,i)):(e=Pa(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&i)===0){var f=d.memoizedProps;if(n=n.compare,n=n!==null?n:Jn,n(f,a)&&e.ref===t.ref)return or(e,t,i)}return t.flags|=1,e=Pr(d,a),e.ref=t.ref,e.return=t,t.child=e}function Nu(e,t,n,a,i){if(e!==null){var d=e.memoizedProps;if(Jn(d,a)&&e.ref===t.ref)if(gt=!1,t.pendingProps=a=d,(e.lanes&i)!==0)(e.flags&131072)!==0&&(gt=!0);else return t.lanes=e.lanes,or(e,t,i)}return mo(e,t,n,a,i)}function Su(e,t,n){var a=t.pendingProps,i=a.children,d=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(kn,Rt),Rt|=n;else{if((n&1073741824)===0)return e=d!==null?d.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fe(kn,Rt),Rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:n,Fe(kn,Rt),Rt|=a}else d!==null?(a=d.baseLanes|n,t.memoizedState=null):a=n,Fe(kn,Rt),Rt|=a;return mt(e,t,i,n),t.child}function Cu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function mo(e,t,n,a,i){var d=xt(n)?Dr:lt.current;return d=mn(t,d),yn(t,i),n=to(e,t,n,a,d,i),a=ro(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,or(e,t,i)):(Ue&&a&&Il(t),t.flags|=1,mt(e,t,n,i),t.child)}function Eu(e,t,n,a,i){if(xt(n)){var d=!0;Zs(t)}else d=!1;if(yn(t,i),t.stateNode===null)ga(e,t),hu(t,n,a),io(t,n,a,i),a=!0;else if(e===null){var f=t.stateNode,b=t.memoizedProps;f.props=b;var k=f.context,D=n.contextType;typeof D=="object"&&D!==null?D=Tt(D):(D=xt(n)?Dr:lt.current,D=mn(t,D));var V=n.getDerivedStateFromProps,Q=typeof V=="function"||typeof f.getSnapshotBeforeUpdate=="function";Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b!==a||k!==D)&&xu(t,f,a,D),wr=!1;var W=t.memoizedState;f.state=W,ia(t,a,f,i),k=t.memoizedState,b!==a||W!==k||ht.current||wr?(typeof V=="function"&&(oo(t,n,V,a),k=t.memoizedState),(b=wr||pu(t,n,b,a,W,k,D))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=k),f.props=a,f.state=k,f.context=D,a=b):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{f=t.stateNode,Hd(e,t),b=t.memoizedProps,D=t.type===t.elementType?b:Ut(t.type,b),f.props=D,Q=t.pendingProps,W=f.context,k=n.contextType,typeof k=="object"&&k!==null?k=Tt(k):(k=xt(n)?Dr:lt.current,k=mn(t,k));var ee=n.getDerivedStateFromProps;(V=typeof ee=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b!==Q||W!==k)&&xu(t,f,a,k),wr=!1,W=t.memoizedState,f.state=W,ia(t,a,f,i);var ne=t.memoizedState;b!==Q||W!==ne||ht.current||wr?(typeof ee=="function"&&(oo(t,n,ee,a),ne=t.memoizedState),(D=wr||pu(t,n,D,a,W,ne,k)||!1)?(V||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(a,ne,k),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(a,ne,k)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||b===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=ne),f.props=a,f.state=ne,f.context=k,a=D):(typeof f.componentDidUpdate!="function"||b===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),a=!1)}return fo(e,t,n,a,d,i)}function fo(e,t,n,a,i,d){Cu(e,t);var f=(t.flags&128)!==0;if(!a&&!f)return i&&_d(t,n,!1),or(e,t,d);a=t.stateNode,nf.current=t;var b=f&&typeof n.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&f?(t.child=xn(t,e.child,null,d),t.child=xn(t,null,b,d)):mt(e,t,b,d),t.memoizedState=a.state,i&&_d(t,n,!0),t.child}function Pu(e){var t=e.stateNode;t.pendingContext?Ad(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ad(e,t.context,!1),Gl(e,t.containerInfo)}function Ru(e,t,n,a,i){return hn(),Bl(i),t.flags|=256,mt(e,t,n,a),t.child}var po={dehydrated:null,treeContext:null,retryLane:0};function ho(e){return{baseLanes:e,cachePool:null,transitions:null}}function Au(e,t,n){var a=t.pendingProps,i=Be.current,d=!1,f=(t.flags&128)!==0,b;if((b=f)||(b=e!==null&&e.memoizedState===null?!1:(i&2)!==0),b?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Fe(Be,i&1),e===null)return $l(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(f=a.children,e=a.fallback,d?(a=t.mode,d=t.child,f={mode:"hidden",children:f},(a&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=f):d=Ra(f,a,0,null),e=Kr(e,a,n,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=ho(n),t.memoizedState=po,e):xo(t,f));if(i=e.memoizedState,i!==null&&(b=i.dehydrated,b!==null))return sf(e,t,f,a,b,i,n);if(d){d=a.fallback,f=t.mode,i=e.child,b=i.sibling;var k={mode:"hidden",children:a.children};return(f&1)===0&&t.child!==i?(a=t.child,a.childLanes=0,a.pendingProps=k,t.deletions=null):(a=Pr(i,k),a.subtreeFlags=i.subtreeFlags&14680064),b!==null?d=Pr(b,d):(d=Kr(d,f,n,null),d.flags|=2),d.return=t,a.return=t,a.sibling=d,t.child=a,a=d,d=t.child,f=e.child.memoizedState,f=f===null?ho(n):{baseLanes:f.baseLanes|n,cachePool:null,transitions:f.transitions},d.memoizedState=f,d.childLanes=e.childLanes&~n,t.memoizedState=po,a}return d=e.child,e=d.sibling,a=Pr(d,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=n),a.return=t,a.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function xo(e,t){return t=Ra({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xa(e,t,n,a){return a!==null&&Bl(a),xn(t,e.child,null,n),e=xo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sf(e,t,n,a,i,d,f){if(n)return t.flags&256?(t.flags&=-257,a=uo(Error(l(422))),xa(e,t,f,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=a.fallback,i=t.mode,a=Ra({mode:"visible",children:a.children},i,0,null),d=Kr(d,i,f,null),d.flags|=2,a.return=t,d.return=t,a.sibling=d,t.child=a,(t.mode&1)!==0&&xn(t,e.child,null,f),t.child.memoizedState=ho(f),t.memoizedState=po,d);if((t.mode&1)===0)return xa(e,t,f,null);if(i.data==="$!"){if(a=i.nextSibling&&i.nextSibling.dataset,a)var b=a.dgst;return a=b,d=Error(l(419)),a=uo(d,a,void 0),xa(e,t,f,a)}if(b=(f&e.childLanes)!==0,gt||b){if(a=rt,a!==null){switch(f&-f){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(a.suspendedLanes|f))!==0?0:i,i!==0&&i!==d.retryLane&&(d.retryLane=i,ar(e,i),Ht(a,e,i,-1))}return _o(),a=uo(Error(l(421))),xa(e,t,f,a)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=yf.bind(null,e),i._reactRetry=t,null):(e=d.treeContext,Pt=gr(i.nextSibling),Et=t,Ue=!0,zt=null,e!==null&&(Lt[_t++]=nr,Lt[_t++]=sr,Lt[_t++]=Fr,nr=e.id,sr=e.overflow,Fr=t),t=xo(t,a.children),t.flags|=4096,t)}function Lu(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Kl(e.return,t,n)}function go(e,t,n,a,i){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=n,d.tailMode=i)}function _u(e,t,n){var a=t.pendingProps,i=a.revealOrder,d=a.tail;if(mt(e,t,a.children,n),a=Be.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lu(e,n,t);else if(e.tag===19)Lu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Fe(Be,a),(t.mode&1)===0)t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&da(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),go(t,!1,i,n,d);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&da(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}go(t,!0,n,null,d);break;case"together":go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ga(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function or(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Br|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,n=Pr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function af(e,t,n){switch(t.tag){case 3:Pu(t),hn();break;case 5:Kd(t);break;case 1:xt(t.type)&&Zs(t);break;case 4:Gl(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,i=t.memoizedProps.value;Fe(aa,a._currentValue),a._currentValue=i;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Fe(Be,Be.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Au(e,t,n):(Fe(Be,Be.current&1),e=or(e,t,n),e!==null?e.sibling:null);Fe(Be,Be.current&1);break;case 19:if(a=(n&t.childLanes)!==0,(e.flags&128)!==0){if(a)return _u(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fe(Be,Be.current),a)break;return null;case 22:case 23:return t.lanes=0,Su(e,t,n)}return or(e,t,n)}var Tu,yo,Mu,Ou;Tu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},yo=function(){},Mu=function(e,t,n,a){var i=e.memoizedProps;if(i!==a){e=t.stateNode,Ur(Yt.current);var d=null;switch(n){case"input":i=Nt(e,i),a=Nt(e,a),d=[];break;case"select":i=G({},i,{value:void 0}),a=G({},a,{value:void 0}),d=[];break;case"textarea":i=Te(e,i),a=Te(e,a),d=[];break;default:typeof i.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Js)}Yr(n,a);var f;n=null;for(D in i)if(!a.hasOwnProperty(D)&&i.hasOwnProperty(D)&&i[D]!=null)if(D==="style"){var b=i[D];for(f in b)b.hasOwnProperty(f)&&(n||(n={}),n[f]="")}else D!=="dangerouslySetInnerHTML"&&D!=="children"&&D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(c.hasOwnProperty(D)?d||(d=[]):(d=d||[]).push(D,null));for(D in a){var k=a[D];if(b=i?.[D],a.hasOwnProperty(D)&&k!==b&&(k!=null||b!=null))if(D==="style")if(b){for(f in b)!b.hasOwnProperty(f)||k&&k.hasOwnProperty(f)||(n||(n={}),n[f]="");for(f in k)k.hasOwnProperty(f)&&b[f]!==k[f]&&(n||(n={}),n[f]=k[f])}else n||(d||(d=[]),d.push(D,n)),n=k;else D==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,b=b?b.__html:void 0,k!=null&&b!==k&&(d=d||[]).push(D,k)):D==="children"?typeof k!="string"&&typeof k!="number"||(d=d||[]).push(D,""+k):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&(c.hasOwnProperty(D)?(k!=null&&D==="onScroll"&&Ie("scroll",e),d||b===k||(d=[])):(d=d||[]).push(D,k))}n&&(d=d||[]).push("style",n);var D=d;(t.updateQueue=D)&&(t.flags|=4)}},Ou=function(e,t,n,a){n!==a&&(t.flags|=4)};function cs(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&14680064,a|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function lf(e,t,n){var a=t.pendingProps;switch(zl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return xt(t.type)&&Xs(),it(t),null;case 3:return a=t.stateNode,bn(),ze(ht),ze(lt),Xl(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(na(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,zt!==null&&(Ro(zt),zt=null))),yo(e,t),it(t),null;case 5:Jl(t);var i=Ur(ls.current);if(n=t.type,e!==null&&t.stateNode!=null)Mu(e,t,n,a,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(l(166));return it(t),null}if(e=Ur(Yt.current),na(t)){a=t.stateNode,n=t.type;var d=t.memoizedProps;switch(a[Jt]=t,a[ts]=d,e=(t.mode&1)!==0,n){case"dialog":Ie("cancel",a),Ie("close",a);break;case"iframe":case"object":case"embed":Ie("load",a);break;case"video":case"audio":for(i=0;i<Xn.length;i++)Ie(Xn[i],a);break;case"source":Ie("error",a);break;case"img":case"image":case"link":Ie("error",a),Ie("load",a);break;case"details":Ie("toggle",a);break;case"input":Qt(a,d),Ie("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},Ie("invalid",a);break;case"textarea":_r(a,d),Ie("invalid",a)}Yr(n,d),i=null;for(var f in d)if(d.hasOwnProperty(f)){var b=d[f];f==="children"?typeof b=="string"?a.textContent!==b&&(d.suppressHydrationWarning!==!0&&Gs(a.textContent,b,e),i=["children",b]):typeof b=="number"&&a.textContent!==""+b&&(d.suppressHydrationWarning!==!0&&Gs(a.textContent,b,e),i=["children",""+b]):c.hasOwnProperty(f)&&b!=null&&f==="onScroll"&&Ie("scroll",a)}switch(n){case"input":Pe(a),Le(a,d,!0);break;case"textarea":Pe(a),C(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=Js)}a=i,t.updateQueue=a,a!==null&&(t.flags|=4)}else{f=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=de(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=f.createElement(n,{is:a.is}):(e=f.createElement(n),n==="select"&&(f=e,a.multiple?f.multiple=!0:a.size&&(f.size=a.size))):e=f.createElementNS(e,n),e[Jt]=t,e[ts]=a,Tu(e,t,!1,!1),t.stateNode=e;e:{switch(f=Xr(n,a),n){case"dialog":Ie("cancel",e),Ie("close",e),i=a;break;case"iframe":case"object":case"embed":Ie("load",e),i=a;break;case"video":case"audio":for(i=0;i<Xn.length;i++)Ie(Xn[i],e);i=a;break;case"source":Ie("error",e),i=a;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),i=a;break;case"details":Ie("toggle",e),i=a;break;case"input":Qt(e,a),i=Nt(e,a),Ie("invalid",e);break;case"option":i=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},i=G({},a,{value:void 0}),Ie("invalid",e);break;case"textarea":_r(e,a),i=Te(e,a),Ie("invalid",e);break;default:i=a}Yr(n,i),b=i;for(d in b)if(b.hasOwnProperty(d)){var k=b[d];d==="style"?Es(e,k):d==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&pt(e,k)):d==="children"?typeof k=="string"?(n!=="textarea"||k!=="")&&De(e,k):typeof k=="number"&&De(e,""+k):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(c.hasOwnProperty(d)?k!=null&&d==="onScroll"&&Ie("scroll",e):k!=null&&Y(e,d,k,f))}switch(n){case"input":Pe(e),Le(e,a,!1);break;case"textarea":Pe(e),C(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Ce(a.value));break;case"select":e.multiple=!!a.multiple,d=a.value,d!=null?qe(e,!!a.multiple,d,!1):a.defaultValue!=null&&qe(e,!!a.multiple,a.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Js)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return it(t),null;case 6:if(e&&t.stateNode!=null)Ou(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(l(166));if(n=Ur(ls.current),Ur(Yt.current),na(t)){if(a=t.stateNode,n=t.memoizedProps,a[Jt]=t,(d=a.nodeValue!==n)&&(e=Et,e!==null))switch(e.tag){case 3:Gs(a.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gs(a.nodeValue,n,(e.mode&1)!==0)}d&&(t.flags|=4)}else a=(n.nodeType===9?n:n.ownerDocument).createTextNode(a),a[Jt]=t,t.stateNode=a}return it(t),null;case 13:if(ze(Be),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&Pt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Id(),hn(),t.flags|=98560,d=!1;else if(d=na(t),a!==null&&a.dehydrated!==null){if(e===null){if(!d)throw Error(l(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(l(317));d[Jt]=t}else hn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;it(t),d=!1}else zt!==null&&(Ro(zt),zt=null),d=!0;if(!d)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Be.current&1)!==0?et===0&&(et=3):_o())),t.updateQueue!==null&&(t.flags|=4),it(t),null);case 4:return bn(),yo(e,t),e===null&&Zn(t.stateNode.containerInfo),it(t),null;case 10:return Vl(t.type._context),it(t),null;case 17:return xt(t.type)&&Xs(),it(t),null;case 19:if(ze(Be),d=t.memoizedState,d===null)return it(t),null;if(a=(t.flags&128)!==0,f=d.rendering,f===null)if(a)cs(d,!1);else{if(et!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=da(e),f!==null){for(t.flags|=128,cs(d,!1),a=f.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;n!==null;)d=n,e=a,d.flags&=14680066,f=d.alternate,f===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=f.childLanes,d.lanes=f.lanes,d.child=f.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=f.memoizedProps,d.memoizedState=f.memoizedState,d.updateQueue=f.updateQueue,d.type=f.type,e=f.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Fe(Be,Be.current&1|2),t.child}e=e.sibling}d.tail!==null&&Qe()>jn&&(t.flags|=128,a=!0,cs(d,!1),t.lanes=4194304)}else{if(!a)if(e=da(f),e!==null){if(t.flags|=128,a=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),cs(d,!0),d.tail===null&&d.tailMode==="hidden"&&!f.alternate&&!Ue)return it(t),null}else 2*Qe()-d.renderingStartTime>jn&&n!==1073741824&&(t.flags|=128,a=!0,cs(d,!1),t.lanes=4194304);d.isBackwards?(f.sibling=t.child,t.child=f):(n=d.last,n!==null?n.sibling=f:t.child=f,d.last=f)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=Qe(),t.sibling=null,n=Be.current,Fe(Be,a?n&1|2:n&1),t):(it(t),null);case 22:case 23:return Lo(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(Rt&1073741824)!==0&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),null;case 24:return null;case 25:return null}throw Error(l(156,t.tag))}function of(e,t){switch(zl(t),t.tag){case 1:return xt(t.type)&&Xs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bn(),ze(ht),ze(lt),Xl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Jl(t),null;case 13:if(ze(Be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));hn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(Be),null;case 4:return bn(),null;case 10:return Vl(t.type._context),null;case 22:case 23:return Lo(),null;case 24:return null;default:return null}}var ya=!1,dt=!1,df=typeof WeakSet=="function"?WeakSet:Set,re=null;function wn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(a){Ve(e,t,a)}else n.current=null}function bo(e,t,n){try{n()}catch(a){Ve(e,t,a)}}var Du=!1;function uf(e,t){if(Al=Is,e=pd(),kl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{n.nodeType,d.nodeType}catch{n=null;break e}var f=0,b=-1,k=-1,D=0,V=0,Q=e,W=null;t:for(;;){for(var ee;Q!==n||i!==0&&Q.nodeType!==3||(b=f+i),Q!==d||a!==0&&Q.nodeType!==3||(k=f+a),Q.nodeType===3&&(f+=Q.nodeValue.length),(ee=Q.firstChild)!==null;)W=Q,Q=ee;for(;;){if(Q===e)break t;if(W===n&&++D===i&&(b=f),W===d&&++V===a&&(k=f),(ee=Q.nextSibling)!==null)break;Q=W,W=Q.parentNode}Q=ee}n=b===-1||k===-1?null:{start:b,end:k}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ll={focusedElem:e,selectionRange:n},Is=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var ne=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ne!==null){var ae=ne.memoizedProps,Ge=ne.memoizedState,L=t.stateNode,N=L.getSnapshotBeforeUpdate(t.elementType===t.type?ae:Ut(t.type,ae),Ge);L.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(l(163))}}catch(J){Ve(t,t.return,J)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return ne=Du,Du=!1,ne}function ms(e,t,n){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var i=a=a.next;do{if((i.tag&e)===e){var d=i.destroy;i.destroy=void 0,d!==void 0&&bo(t,n,d)}i=i.next}while(i!==a)}}function ba(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function vo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Fu(e){var t=e.alternate;t!==null&&(e.alternate=null,Fu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jt],delete t[ts],delete t[Ol],delete t[V0],delete t[K0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Iu(e){return e.tag===5||e.tag===3||e.tag===4}function zu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Iu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wo(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Js));else if(a!==4&&(e=e.child,e!==null))for(wo(e,t,n),e=e.sibling;e!==null;)wo(e,t,n),e=e.sibling}function ko(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(ko(e,t,n),e=e.sibling;e!==null;)ko(e,t,n),e=e.sibling}var st=null,$t=!1;function jr(e,t,n){for(n=n.child;n!==null;)Uu(e,t,n),n=n.sibling}function Uu(e,t,n){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(_s,n)}catch{}switch(n.tag){case 5:dt||wn(n,t);case 6:var a=st,i=$t;st=null,jr(e,t,n),st=a,$t=i,st!==null&&($t?(e=st,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):st.removeChild(n.stateNode));break;case 18:st!==null&&($t?(e=st,n=n.stateNode,e.nodeType===8?Ml(e.parentNode,n):e.nodeType===1&&Ml(e,n),Wn(e)):Ml(st,n.stateNode));break;case 4:a=st,i=$t,st=n.stateNode.containerInfo,$t=!0,jr(e,t,n),st=a,$t=i;break;case 0:case 11:case 14:case 15:if(!dt&&(a=n.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){i=a=a.next;do{var d=i,f=d.destroy;d=d.tag,f!==void 0&&((d&2)!==0||(d&4)!==0)&&bo(n,t,f),i=i.next}while(i!==a)}jr(e,t,n);break;case 1:if(!dt&&(wn(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(b){Ve(n,t,b)}jr(e,t,n);break;case 21:jr(e,t,n);break;case 22:n.mode&1?(dt=(a=dt)||n.memoizedState!==null,jr(e,t,n),dt=a):jr(e,t,n);break;default:jr(e,t,n)}}function $u(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new df),t.forEach(function(a){var i=bf.bind(null,e,a);n.has(a)||(n.add(a),a.then(i,i))})}}function Bt(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a];try{var d=e,f=t,b=f;e:for(;b!==null;){switch(b.tag){case 5:st=b.stateNode,$t=!1;break e;case 3:st=b.stateNode.containerInfo,$t=!0;break e;case 4:st=b.stateNode.containerInfo,$t=!0;break e}b=b.return}if(st===null)throw Error(l(160));Uu(d,f,i),st=null,$t=!1;var k=i.alternate;k!==null&&(k.return=null),i.return=null}catch(D){Ve(i,t,D)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Bu(t,e),t=t.sibling}function Bu(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bt(t,e),Zt(e),a&4){try{ms(3,e,e.return),ba(3,e)}catch(ae){Ve(e,e.return,ae)}try{ms(5,e,e.return)}catch(ae){Ve(e,e.return,ae)}}break;case 1:Bt(t,e),Zt(e),a&512&&n!==null&&wn(n,n.return);break;case 5:if(Bt(t,e),Zt(e),a&512&&n!==null&&wn(n,n.return),e.flags&32){var i=e.stateNode;try{De(i,"")}catch(ae){Ve(e,e.return,ae)}}if(a&4&&(i=e.stateNode,i!=null)){var d=e.memoizedProps,f=n!==null?n.memoizedProps:d,b=e.type,k=e.updateQueue;if(e.updateQueue=null,k!==null)try{b==="input"&&d.type==="radio"&&d.name!=null&&F(i,d),Xr(b,f);var D=Xr(b,d);for(f=0;f<k.length;f+=2){var V=k[f],Q=k[f+1];V==="style"?Es(i,Q):V==="dangerouslySetInnerHTML"?pt(i,Q):V==="children"?De(i,Q):Y(i,V,Q,D)}switch(b){case"input":X(i,d);break;case"textarea":Tn(i,d);break;case"select":var W=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!d.multiple;var ee=d.value;ee!=null?qe(i,!!d.multiple,ee,!1):W!==!!d.multiple&&(d.defaultValue!=null?qe(i,!!d.multiple,d.defaultValue,!0):qe(i,!!d.multiple,d.multiple?[]:"",!1))}i[ts]=d}catch(ae){Ve(e,e.return,ae)}}break;case 6:if(Bt(t,e),Zt(e),a&4){if(e.stateNode===null)throw Error(l(162));i=e.stateNode,d=e.memoizedProps;try{i.nodeValue=d}catch(ae){Ve(e,e.return,ae)}}break;case 3:if(Bt(t,e),Zt(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Wn(t.containerInfo)}catch(ae){Ve(e,e.return,ae)}break;case 4:Bt(t,e),Zt(e);break;case 13:Bt(t,e),Zt(e),i=e.child,i.flags&8192&&(d=i.memoizedState!==null,i.stateNode.isHidden=d,!d||i.alternate!==null&&i.alternate.memoizedState!==null||(So=Qe())),a&4&&$u(e);break;case 22:if(V=n!==null&&n.memoizedState!==null,e.mode&1?(dt=(D=dt)||V,Bt(t,e),dt=D):Bt(t,e),Zt(e),a&8192){if(D=e.memoizedState!==null,(e.stateNode.isHidden=D)&&!V&&(e.mode&1)!==0)for(re=e,V=e.child;V!==null;){for(Q=re=V;re!==null;){switch(W=re,ee=W.child,W.tag){case 0:case 11:case 14:case 15:ms(4,W,W.return);break;case 1:wn(W,W.return);var ne=W.stateNode;if(typeof ne.componentWillUnmount=="function"){a=W,n=W.return;try{t=a,ne.props=t.memoizedProps,ne.state=t.memoizedState,ne.componentWillUnmount()}catch(ae){Ve(a,n,ae)}}break;case 5:wn(W,W.return);break;case 22:if(W.memoizedState!==null){Vu(Q);continue}}ee!==null?(ee.return=W,re=ee):Vu(Q)}V=V.sibling}e:for(V=null,Q=e;;){if(Q.tag===5){if(V===null){V=Q;try{i=Q.stateNode,D?(d=i.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(b=Q.stateNode,k=Q.memoizedProps.style,f=k!=null&&k.hasOwnProperty("display")?k.display:null,b.style.display=Mn("display",f))}catch(ae){Ve(e,e.return,ae)}}}else if(Q.tag===6){if(V===null)try{Q.stateNode.nodeValue=D?"":Q.memoizedProps}catch(ae){Ve(e,e.return,ae)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===e)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===e)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===e)break e;V===Q&&(V=null),Q=Q.return}V===Q&&(V=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:Bt(t,e),Zt(e),a&4&&$u(e);break;case 21:break;default:Bt(t,e),Zt(e)}}function Zt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Iu(n)){var a=n;break e}n=n.return}throw Error(l(160))}switch(a.tag){case 5:var i=a.stateNode;a.flags&32&&(De(i,""),a.flags&=-33);var d=zu(e);ko(e,d,i);break;case 3:case 4:var f=a.stateNode.containerInfo,b=zu(e);wo(e,b,f);break;default:throw Error(l(161))}}catch(k){Ve(e,e.return,k)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cf(e,t,n){re=e,Hu(e)}function Hu(e,t,n){for(var a=(e.mode&1)!==0;re!==null;){var i=re,d=i.child;if(i.tag===22&&a){var f=i.memoizedState!==null||ya;if(!f){var b=i.alternate,k=b!==null&&b.memoizedState!==null||dt;b=ya;var D=dt;if(ya=f,(dt=k)&&!D)for(re=i;re!==null;)f=re,k=f.child,f.tag===22&&f.memoizedState!==null?Ku(i):k!==null?(k.return=f,re=k):Ku(i);for(;d!==null;)re=d,Hu(d),d=d.sibling;re=i,ya=b,dt=D}Wu(e)}else(i.subtreeFlags&8772)!==0&&d!==null?(d.return=i,re=d):Wu(e)}}function Wu(e){for(;re!==null;){var t=re;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:dt||ba(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!dt)if(n===null)a.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ut(t.type,n.memoizedProps);a.componentDidUpdate(i,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&Vd(t,d,a);break;case 3:var f=t.updateQueue;if(f!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Vd(t,f,n)}break;case 5:var b=t.stateNode;if(n===null&&t.flags&4){n=b;var k=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&n.focus();break;case"img":k.src&&(n.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var D=t.alternate;if(D!==null){var V=D.memoizedState;if(V!==null){var Q=V.dehydrated;Q!==null&&Wn(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(l(163))}dt||t.flags&512&&vo(t)}catch(W){Ve(t,t.return,W)}}if(t===e){re=null;break}if(n=t.sibling,n!==null){n.return=t.return,re=n;break}re=t.return}}function Vu(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var n=t.sibling;if(n!==null){n.return=t.return,re=n;break}re=t.return}}function Ku(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ba(4,t)}catch(k){Ve(t,n,k)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var i=t.return;try{a.componentDidMount()}catch(k){Ve(t,i,k)}}var d=t.return;try{vo(t)}catch(k){Ve(t,d,k)}break;case 5:var f=t.return;try{vo(t)}catch(k){Ve(t,f,k)}}}catch(k){Ve(t,t.return,k)}if(t===e){re=null;break}var b=t.sibling;if(b!==null){b.return=t.return,re=b;break}re=t.return}}var mf=Math.ceil,va=M.ReactCurrentDispatcher,jo=M.ReactCurrentOwner,Ot=M.ReactCurrentBatchConfig,Re=0,rt=null,Xe=null,at=0,Rt=0,kn=yr(0),et=0,fs=null,Br=0,wa=0,No=0,ps=null,yt=null,So=0,jn=1/0,ir=null,ka=!1,Co=null,Nr=null,ja=!1,Sr=null,Na=0,hs=0,Eo=null,Sa=-1,Ca=0;function ft(){return(Re&6)!==0?Qe():Sa!==-1?Sa:Sa=Qe()}function Cr(e){return(e.mode&1)===0?1:(Re&2)!==0&&at!==0?at&-at:Q0.transition!==null?(Ca===0&&(Ca=zi()),Ca):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:Qi(e.type)),e)}function Ht(e,t,n,a){if(50<hs)throw hs=0,Eo=null,Error(l(185));zn(e,n,a),((Re&2)===0||e!==rt)&&(e===rt&&((Re&2)===0&&(wa|=n),et===4&&Er(e,at)),bt(e,a),n===1&&Re===0&&(t.mode&1)===0&&(jn=Qe()+500,ea&&vr()))}function bt(e,t){var n=e.callbackNode;Qm(e,t);var a=Os(e,e===rt?at:0);if(a===0)n!==null&&Di(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(n!=null&&Di(n),t===1)e.tag===0?q0(Qu.bind(null,e)):Td(Qu.bind(null,e)),H0(function(){(Re&6)===0&&vr()}),n=null;else{switch(Ui(a)){case 1:n=al;break;case 4:n=Fi;break;case 16:n=Ls;break;case 536870912:n=Ii;break;default:n=Ls}n=rc(n,qu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function qu(e,t){if(Sa=-1,Ca=0,(Re&6)!==0)throw Error(l(327));var n=e.callbackNode;if(Nn()&&e.callbackNode!==n)return null;var a=Os(e,e===rt?at:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=Ea(e,a);else{t=a;var i=Re;Re|=2;var d=Ju();(rt!==e||at!==t)&&(ir=null,jn=Qe()+500,Wr(e,t));do try{hf();break}catch(b){Gu(e,b)}while(!0);Wl(),va.current=d,Re=i,Xe!==null?t=0:(rt=null,at=0,t=et)}if(t!==0){if(t===2&&(i=ll(e),i!==0&&(a=i,t=Po(e,i))),t===1)throw n=fs,Wr(e,0),Er(e,a),bt(e,Qe()),n;if(t===6)Er(e,a);else{if(i=e.current.alternate,(a&30)===0&&!ff(i)&&(t=Ea(e,a),t===2&&(d=ll(e),d!==0&&(a=d,t=Po(e,d))),t===1))throw n=fs,Wr(e,0),Er(e,a),bt(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=a,t){case 0:case 1:throw Error(l(345));case 2:Vr(e,yt,ir);break;case 3:if(Er(e,a),(a&130023424)===a&&(t=So+500-Qe(),10<t)){if(Os(e,0)!==0)break;if(i=e.suspendedLanes,(i&a)!==a){ft(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Tl(Vr.bind(null,e,yt,ir),t);break}Vr(e,yt,ir);break;case 4:if(Er(e,a),(a&4194240)===a)break;for(t=e.eventTimes,i=-1;0<a;){var f=31-Ft(a);d=1<<f,f=t[f],f>i&&(i=f),a&=~d}if(a=i,a=Qe()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*mf(a/1960))-a,10<a){e.timeoutHandle=Tl(Vr.bind(null,e,yt,ir),a);break}Vr(e,yt,ir);break;case 5:Vr(e,yt,ir);break;default:throw Error(l(329))}}}return bt(e,Qe()),e.callbackNode===n?qu.bind(null,e):null}function Po(e,t){var n=ps;return e.current.memoizedState.isDehydrated&&(Wr(e,t).flags|=256),e=Ea(e,t),e!==2&&(t=yt,yt=n,t!==null&&Ro(t)),e}function Ro(e){yt===null?yt=e:yt.push.apply(yt,e)}function ff(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var a=0;a<n.length;a++){var i=n[a],d=i.getSnapshot;i=i.value;try{if(!It(d(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Er(e,t){for(t&=~No,t&=~wa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ft(t),a=1<<n;e[n]=-1,t&=~a}}function Qu(e){if((Re&6)!==0)throw Error(l(327));Nn();var t=Os(e,0);if((t&1)===0)return bt(e,Qe()),null;var n=Ea(e,t);if(e.tag!==0&&n===2){var a=ll(e);a!==0&&(t=a,n=Po(e,a))}if(n===1)throw n=fs,Wr(e,0),Er(e,t),bt(e,Qe()),n;if(n===6)throw Error(l(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vr(e,yt,ir),bt(e,Qe()),null}function Ao(e,t){var n=Re;Re|=1;try{return e(t)}finally{Re=n,Re===0&&(jn=Qe()+500,ea&&vr())}}function Hr(e){Sr!==null&&Sr.tag===0&&(Re&6)===0&&Nn();var t=Re;Re|=1;var n=Ot.transition,a=Oe;try{if(Ot.transition=null,Oe=1,e)return e()}finally{Oe=a,Ot.transition=n,Re=t,(Re&6)===0&&vr()}}function Lo(){Rt=kn.current,ze(kn)}function Wr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,B0(n)),Xe!==null)for(n=Xe.return;n!==null;){var a=n;switch(zl(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Xs();break;case 3:bn(),ze(ht),ze(lt),Xl();break;case 5:Jl(a);break;case 4:bn();break;case 13:ze(Be);break;case 19:ze(Be);break;case 10:Vl(a.type._context);break;case 22:case 23:Lo()}n=n.return}if(rt=e,Xe=e=Pr(e.current,null),at=Rt=t,et=0,fs=null,No=wa=Br=0,yt=ps=null,zr!==null){for(t=0;t<zr.length;t++)if(n=zr[t],a=n.interleaved,a!==null){n.interleaved=null;var i=a.next,d=n.pending;if(d!==null){var f=d.next;d.next=i,a.next=f}n.pending=a}zr=null}return e}function Gu(e,t){do{var n=Xe;try{if(Wl(),ua.current=pa,ca){for(var a=He.memoizedState;a!==null;){var i=a.queue;i!==null&&(i.pending=null),a=a.next}ca=!1}if($r=0,tt=Ze=He=null,os=!1,is=0,jo.current=null,n===null||n.return===null){et=1,fs=t,Xe=null;break}e:{var d=e,f=n.return,b=n,k=t;if(t=at,b.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var D=k,V=b,Q=V.tag;if((V.mode&1)===0&&(Q===0||Q===11||Q===15)){var W=V.alternate;W?(V.updateQueue=W.updateQueue,V.memoizedState=W.memoizedState,V.lanes=W.lanes):(V.updateQueue=null,V.memoizedState=null)}var ee=vu(f);if(ee!==null){ee.flags&=-257,wu(ee,f,b,d,t),ee.mode&1&&bu(d,D,t),t=ee,k=D;var ne=t.updateQueue;if(ne===null){var ae=new Set;ae.add(k),t.updateQueue=ae}else ne.add(k);break e}else{if((t&1)===0){bu(d,D,t),_o();break e}k=Error(l(426))}}else if(Ue&&b.mode&1){var Ge=vu(f);if(Ge!==null){(Ge.flags&65536)===0&&(Ge.flags|=256),wu(Ge,f,b,d,t),Bl(vn(k,b));break e}}d=k=vn(k,b),et!==4&&(et=2),ps===null?ps=[d]:ps.push(d),d=f;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var L=gu(d,k,t);Wd(d,L);break e;case 1:b=k;var N=d.type,_=d.stateNode;if((d.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Nr===null||!Nr.has(_)))){d.flags|=65536,t&=-t,d.lanes|=t;var J=yu(d,b,t);Wd(d,J);break e}}d=d.return}while(d!==null)}Xu(n)}catch(le){t=le,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(!0)}function Ju(){var e=va.current;return va.current=pa,e===null?pa:e}function _o(){(et===0||et===3||et===2)&&(et=4),rt===null||(Br&268435455)===0&&(wa&268435455)===0||Er(rt,at)}function Ea(e,t){var n=Re;Re|=2;var a=Ju();(rt!==e||at!==t)&&(ir=null,Wr(e,t));do try{pf();break}catch(i){Gu(e,i)}while(!0);if(Wl(),Re=n,va.current=a,Xe!==null)throw Error(l(261));return rt=null,at=0,et}function pf(){for(;Xe!==null;)Yu(Xe)}function hf(){for(;Xe!==null&&!zm();)Yu(Xe)}function Yu(e){var t=tc(e.alternate,e,Rt);e.memoizedProps=e.pendingProps,t===null?Xu(e):Xe=t,jo.current=null}function Xu(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=lf(n,t,Rt),n!==null){Xe=n;return}}else{if(n=of(n,t),n!==null){n.flags&=32767,Xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{et=6,Xe=null;return}}if(t=t.sibling,t!==null){Xe=t;return}Xe=t=e}while(t!==null);et===0&&(et=5)}function Vr(e,t,n){var a=Oe,i=Ot.transition;try{Ot.transition=null,Oe=1,xf(e,t,n,a)}finally{Ot.transition=i,Oe=a}return null}function xf(e,t,n,a){do Nn();while(Sr!==null);if((Re&6)!==0)throw Error(l(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(l(177));e.callbackNode=null,e.callbackPriority=0;var d=n.lanes|n.childLanes;if(Gm(e,d),e===rt&&(Xe=rt=null,at=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||ja||(ja=!0,rc(Ls,function(){return Nn(),null})),d=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||d){d=Ot.transition,Ot.transition=null;var f=Oe;Oe=1;var b=Re;Re|=4,jo.current=null,uf(e,n),Bu(n,e),O0(Ll),Is=!!Al,Ll=Al=null,e.current=n,cf(n),Um(),Re=b,Oe=f,Ot.transition=d}else e.current=n;if(ja&&(ja=!1,Sr=e,Na=i),d=e.pendingLanes,d===0&&(Nr=null),Hm(n.stateNode),bt(e,Qe()),t!==null)for(a=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],a(i.value,{componentStack:i.stack,digest:i.digest});if(ka)throw ka=!1,e=Co,Co=null,e;return(Na&1)!==0&&e.tag!==0&&Nn(),d=e.pendingLanes,(d&1)!==0?e===Eo?hs++:(hs=0,Eo=e):hs=0,vr(),null}function Nn(){if(Sr!==null){var e=Ui(Na),t=Ot.transition,n=Oe;try{if(Ot.transition=null,Oe=16>e?16:e,Sr===null)var a=!1;else{if(e=Sr,Sr=null,Na=0,(Re&6)!==0)throw Error(l(331));var i=Re;for(Re|=4,re=e.current;re!==null;){var d=re,f=d.child;if((re.flags&16)!==0){var b=d.deletions;if(b!==null){for(var k=0;k<b.length;k++){var D=b[k];for(re=D;re!==null;){var V=re;switch(V.tag){case 0:case 11:case 15:ms(8,V,d)}var Q=V.child;if(Q!==null)Q.return=V,re=Q;else for(;re!==null;){V=re;var W=V.sibling,ee=V.return;if(Fu(V),V===D){re=null;break}if(W!==null){W.return=ee,re=W;break}re=ee}}}var ne=d.alternate;if(ne!==null){var ae=ne.child;if(ae!==null){ne.child=null;do{var Ge=ae.sibling;ae.sibling=null,ae=Ge}while(ae!==null)}}re=d}}if((d.subtreeFlags&2064)!==0&&f!==null)f.return=d,re=f;else e:for(;re!==null;){if(d=re,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:ms(9,d,d.return)}var L=d.sibling;if(L!==null){L.return=d.return,re=L;break e}re=d.return}}var N=e.current;for(re=N;re!==null;){f=re;var _=f.child;if((f.subtreeFlags&2064)!==0&&_!==null)_.return=f,re=_;else e:for(f=N;re!==null;){if(b=re,(b.flags&2048)!==0)try{switch(b.tag){case 0:case 11:case 15:ba(9,b)}}catch(le){Ve(b,b.return,le)}if(b===f){re=null;break e}var J=b.sibling;if(J!==null){J.return=b.return,re=J;break e}re=b.return}}if(Re=i,vr(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(_s,e)}catch{}a=!0}return a}finally{Oe=n,Ot.transition=t}}return!1}function Zu(e,t,n){t=vn(n,t),t=gu(e,t,1),e=kr(e,t,1),t=ft(),e!==null&&(zn(e,1,t),bt(e,t))}function Ve(e,t,n){if(e.tag===3)Zu(e,e,n);else for(;t!==null;){if(t.tag===3){Zu(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Nr===null||!Nr.has(a))){e=vn(n,e),e=yu(t,e,1),t=kr(t,e,1),e=ft(),t!==null&&(zn(t,1,e),bt(t,e));break}}t=t.return}}function gf(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),t=ft(),e.pingedLanes|=e.suspendedLanes&n,rt===e&&(at&n)===n&&(et===4||et===3&&(at&130023424)===at&&500>Qe()-So?Wr(e,0):No|=n),bt(e,t)}function ec(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ms,Ms<<=1,(Ms&130023424)===0&&(Ms=4194304)));var n=ft();e=ar(e,t),e!==null&&(zn(e,t,n),bt(e,n))}function yf(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ec(e,n)}function bf(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(l(314))}a!==null&&a.delete(t),ec(e,n)}var tc;tc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ht.current)gt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return gt=!1,af(e,t,n);gt=(e.flags&131072)!==0}else gt=!1,Ue&&(t.flags&1048576)!==0&&Md(t,ra,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;ga(e,t),e=t.pendingProps;var i=mn(t,lt.current);yn(t,n),i=to(null,t,a,e,i,n);var d=ro();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xt(a)?(d=!0,Zs(t)):d=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ql(t),i.updater=ha,t.stateNode=i,i._reactInternals=t,io(t,a,e,n),t=fo(null,t,a,!0,d,n)):(t.tag=0,Ue&&d&&Il(t),mt(null,t,i,n),t=t.child),t;case 16:a=t.elementType;e:{switch(ga(e,t),e=t.pendingProps,i=a._init,a=i(a._payload),t.type=a,i=t.tag=wf(a),e=Ut(a,e),i){case 0:t=mo(null,t,a,e,n);break e;case 1:t=Eu(null,t,a,e,n);break e;case 11:t=ku(null,t,a,e,n);break e;case 14:t=ju(null,t,a,Ut(a.type,e),n);break e}throw Error(l(306,a,""))}return t;case 0:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:Ut(a,i),mo(e,t,a,i,n);case 1:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:Ut(a,i),Eu(e,t,a,i,n);case 3:e:{if(Pu(t),e===null)throw Error(l(387));a=t.pendingProps,d=t.memoizedState,i=d.element,Hd(e,t),ia(t,a,null,n);var f=t.memoizedState;if(a=f.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){i=vn(Error(l(423)),t),t=Ru(e,t,a,n,i);break e}else if(a!==i){i=vn(Error(l(424)),t),t=Ru(e,t,a,n,i);break e}else for(Pt=gr(t.stateNode.containerInfo.firstChild),Et=t,Ue=!0,zt=null,n=$d(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hn(),a===i){t=or(e,t,n);break e}mt(e,t,a,n)}t=t.child}return t;case 5:return Kd(t),e===null&&$l(t),a=t.type,i=t.pendingProps,d=e!==null?e.memoizedProps:null,f=i.children,_l(a,i)?f=null:d!==null&&_l(a,d)&&(t.flags|=32),Cu(e,t),mt(e,t,f,n),t.child;case 6:return e===null&&$l(t),null;case 13:return Au(e,t,n);case 4:return Gl(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=xn(t,null,a,n):mt(e,t,a,n),t.child;case 11:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:Ut(a,i),ku(e,t,a,i,n);case 7:return mt(e,t,t.pendingProps,n),t.child;case 8:return mt(e,t,t.pendingProps.children,n),t.child;case 12:return mt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,i=t.pendingProps,d=t.memoizedProps,f=i.value,Fe(aa,a._currentValue),a._currentValue=f,d!==null)if(It(d.value,f)){if(d.children===i.children&&!ht.current){t=or(e,t,n);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var b=d.dependencies;if(b!==null){f=d.child;for(var k=b.firstContext;k!==null;){if(k.context===a){if(d.tag===1){k=lr(-1,n&-n),k.tag=2;var D=d.updateQueue;if(D!==null){D=D.shared;var V=D.pending;V===null?k.next=k:(k.next=V.next,V.next=k),D.pending=k}}d.lanes|=n,k=d.alternate,k!==null&&(k.lanes|=n),Kl(d.return,n,t),b.lanes|=n;break}k=k.next}}else if(d.tag===10)f=d.type===t.type?null:d.child;else if(d.tag===18){if(f=d.return,f===null)throw Error(l(341));f.lanes|=n,b=f.alternate,b!==null&&(b.lanes|=n),Kl(f,n,t),f=d.sibling}else f=d.child;if(f!==null)f.return=d;else for(f=d;f!==null;){if(f===t){f=null;break}if(d=f.sibling,d!==null){d.return=f.return,f=d;break}f=f.return}d=f}mt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,a=t.pendingProps.children,yn(t,n),i=Tt(i),a=a(i),t.flags|=1,mt(e,t,a,n),t.child;case 14:return a=t.type,i=Ut(a,t.pendingProps),i=Ut(a.type,i),ju(e,t,a,i,n);case 15:return Nu(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:Ut(a,i),ga(e,t),t.tag=1,xt(a)?(e=!0,Zs(t)):e=!1,yn(t,n),hu(t,a,i),io(t,a,i,n),fo(null,t,a,!0,e,n);case 19:return _u(e,t,n);case 22:return Su(e,t,n)}throw Error(l(156,t.tag))};function rc(e,t){return Oi(e,t)}function vf(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(e,t,n,a){return new vf(e,t,n,a)}function To(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wf(e){if(typeof e=="function")return To(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ue)return 11;if(e===$)return 14}return 2}function Pr(e,t){var n=e.alternate;return n===null?(n=Dt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pa(e,t,n,a,i,d){var f=2;if(a=e,typeof e=="function")To(e)&&(f=1);else if(typeof e=="string")f=5;else e:switch(e){case ie:return Kr(n.children,i,d,t);case pe:f=8,i|=8;break;case be:return e=Dt(12,n,t,i|2),e.elementType=be,e.lanes=d,e;case Se:return e=Dt(13,n,t,i),e.elementType=Se,e.lanes=d,e;case oe:return e=Dt(19,n,t,i),e.elementType=oe,e.lanes=d,e;case xe:return Ra(n,i,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case we:f=10;break e;case he:f=9;break e;case ue:f=11;break e;case $:f=14;break e;case te:f=16,a=null;break e}throw Error(l(130,e==null?e:typeof e,""))}return t=Dt(f,n,t,i),t.elementType=e,t.type=a,t.lanes=d,t}function Kr(e,t,n,a){return e=Dt(7,e,a,t),e.lanes=n,e}function Ra(e,t,n,a){return e=Dt(22,e,a,t),e.elementType=xe,e.lanes=n,e.stateNode={isHidden:!1},e}function Mo(e,t,n){return e=Dt(6,e,null,t),e.lanes=n,e}function Oo(e,t,n){return t=Dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kf(e,t,n,a,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ol(0),this.expirationTimes=ol(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ol(0),this.identifierPrefix=a,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Do(e,t,n,a,i,d,f,b,k){return e=new kf(e,t,n,b,k),t===1?(t=1,d===!0&&(t|=8)):t=0,d=Dt(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ql(d),e}function jf(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}function nc(e){if(!e)return br;e=e._reactInternals;e:{if(Mr(e)!==e||e.tag!==1)throw Error(l(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(l(171))}if(e.tag===1){var n=e.type;if(xt(n))return Ld(e,n,t)}return t}function sc(e,t,n,a,i,d,f,b,k){return e=Do(n,a,!0,e,i,d,f,b,k),e.context=nc(null),n=e.current,a=ft(),i=Cr(n),d=lr(a,i),d.callback=t??null,kr(n,d,i),e.current.lanes=i,zn(e,i,a),bt(e,a),e}function Aa(e,t,n,a){var i=t.current,d=ft(),f=Cr(i);return n=nc(n),t.context===null?t.context=n:t.pendingContext=n,t=lr(d,f),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=kr(i,t,f),e!==null&&(Ht(e,i,f,d),oa(e,i,f)),f}function La(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ac(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Fo(e,t){ac(e,t),(e=e.alternate)&&ac(e,t)}function Nf(){return null}var lc=typeof reportError=="function"?reportError:function(e){console.error(e)};function Io(e){this._internalRoot=e}_a.prototype.render=Io.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));Aa(e,t,null,null)},_a.prototype.unmount=Io.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hr(function(){Aa(null,e,null,null)}),t[tr]=null}};function _a(e){this._internalRoot=e}_a.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hi();e={blockedOn:null,target:e,priority:t};for(var n=0;n<pr.length&&t!==0&&t<pr[n].priority;n++);pr.splice(n,0,e),n===0&&Ki(e)}};function zo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ta(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function oc(){}function Sf(e,t,n,a,i){if(i){if(typeof a=="function"){var d=a;a=function(){var D=La(f);d.call(D)}}var f=sc(t,a,e,0,null,!1,!1,"",oc);return e._reactRootContainer=f,e[tr]=f.current,Zn(e.nodeType===8?e.parentNode:e),Hr(),f}for(;i=e.lastChild;)e.removeChild(i);if(typeof a=="function"){var b=a;a=function(){var D=La(k);b.call(D)}}var k=Do(e,0,!1,null,null,!1,!1,"",oc);return e._reactRootContainer=k,e[tr]=k.current,Zn(e.nodeType===8?e.parentNode:e),Hr(function(){Aa(t,k,n,a)}),k}function Ma(e,t,n,a,i){var d=n._reactRootContainer;if(d){var f=d;if(typeof i=="function"){var b=i;i=function(){var k=La(f);b.call(k)}}Aa(t,f,e,i)}else f=Sf(n,t,e,i,a);return La(f)}$i=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=In(t.pendingLanes);n!==0&&(il(t,n|1),bt(t,Qe()),(Re&6)===0&&(jn=Qe()+500,vr()))}break;case 13:Hr(function(){var a=ar(e,1);if(a!==null){var i=ft();Ht(a,e,1,i)}}),Fo(e,1)}},dl=function(e){if(e.tag===13){var t=ar(e,134217728);if(t!==null){var n=ft();Ht(t,e,134217728,n)}Fo(e,134217728)}},Bi=function(e){if(e.tag===13){var t=Cr(e),n=ar(e,t);if(n!==null){var a=ft();Ht(n,e,t,a)}Fo(e,t)}},Hi=function(){return Oe},Wi=function(e,t){var n=Oe;try{return Oe=e,t()}finally{Oe=n}},tl=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=Ys(a);if(!i)throw Error(l(90));ct(a),X(a,i)}}}break;case"textarea":Tn(e,n);break;case"select":t=n.value,t!=null&&qe(e,!!n.multiple,t,!1)}},Pi=Ao,Ri=Hr;var Cf={usingClientEntryPoint:!1,Events:[rs,un,Ys,Ci,Ei,Ao]},xs={findFiberByHostInstance:Or,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ef={bundleType:xs.bundleType,version:xs.version,rendererPackageName:xs.rendererPackageName,rendererConfig:xs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ti(e),e===null?null:e.stateNode},findFiberByHostInstance:xs.findFiberByHostInstance||Nf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oa.isDisabled&&Oa.supportsFiber)try{_s=Oa.inject(Ef),Gt=Oa}catch{}}return vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cf,vt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zo(t))throw Error(l(200));return jf(e,t,null,n)},vt.createRoot=function(e,t){if(!zo(e))throw Error(l(299));var n=!1,a="",i=lc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Do(e,1,!1,null,null,n,!1,a,i),e[tr]=t.current,Zn(e.nodeType===8?e.parentNode:e),new Io(t)},vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=Ti(t),e=e===null?null:e.stateNode,e},vt.flushSync=function(e){return Hr(e)},vt.hydrate=function(e,t,n){if(!Ta(t))throw Error(l(200));return Ma(null,e,t,!0,n)},vt.hydrateRoot=function(e,t,n){if(!zo(e))throw Error(l(405));var a=n!=null&&n.hydratedSources||null,i=!1,d="",f=lc;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(d=n.identifierPrefix),n.onRecoverableError!==void 0&&(f=n.onRecoverableError)),t=sc(t,null,e,1,n??null,i,!1,d,f),e[tr]=t.current,Zn(e),a)for(e=0;e<a.length;e++)n=a[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new _a(t)},vt.render=function(e,t,n){if(!Ta(t))throw Error(l(200));return Ma(null,e,t,!1,n)},vt.unmountComponentAtNode=function(e){if(!Ta(e))throw Error(l(40));return e._reactRootContainer?(Hr(function(){Ma(null,null,e,!1,function(){e._reactRootContainer=null,e[tr]=null})}),!0):!1},vt.unstable_batchedUpdates=Ao,vt.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Ta(n))throw Error(l(200));if(e==null||e._reactInternals===void 0)throw Error(l(38));return Ma(e,t,n,!1,a)},vt.version="18.3.1-next-f1338f8080-20240426",vt}var hc;function Of(){if(hc)return Bo.exports;hc=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(o){console.error(o)}}return s(),Bo.exports=Mf(),Bo.exports}var xc;function Df(){if(xc)return Da;xc=1;var s=Of();return Da.createRoot=s.createRoot,Da.hydrateRoot=s.hydrateRoot,Da}var Ff=Df();const If=Kc(Ff);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gc="popstate";function zf(s={}){function o(u,c){let{pathname:m,search:p,hash:h}=u.location;return Yo("",{pathname:m,search:p,hash:h},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function l(u,c){return typeof c=="string"?c:vs(c)}return $f(o,l,null,s)}function $e(s,o){if(s===!1||s===null||typeof s>"u")throw new Error(o)}function Wt(s,o){if(!s){typeof console<"u"&&console.warn(o);try{throw new Error(o)}catch{}}}function Uf(){return Math.random().toString(36).substring(2,10)}function yc(s,o){return{usr:s.state,key:s.key,idx:o}}function Yo(s,o,l=null,u){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof o=="string"?Cn(o):o,state:l,key:o&&o.key||u||Uf()}}function vs({pathname:s="/",search:o="",hash:l=""}){return o&&o!=="?"&&(s+=o.charAt(0)==="?"?o:"?"+o),l&&l!=="#"&&(s+=l.charAt(0)==="#"?l:"#"+l),s}function Cn(s){let o={};if(s){let l=s.indexOf("#");l>=0&&(o.hash=s.substring(l),s=s.substring(0,l));let u=s.indexOf("?");u>=0&&(o.search=s.substring(u),s=s.substring(0,u)),s&&(o.pathname=s)}return o}function $f(s,o,l,u={}){let{window:c=document.defaultView,v5Compat:m=!1}=u,p=c.history,h="POP",y=null,x=g();x==null&&(x=0,p.replaceState({...p.state,idx:x},""));function g(){return(p.state||{idx:null}).idx}function j(){h="POP";let w=g(),U=w==null?null:w-x;x=w,y&&y({action:h,location:T.location,delta:U})}function A(w,U){h="PUSH";let B=Yo(T.location,w,U);x=g()+1;let Y=yc(B,x),M=T.createHref(B);try{p.pushState(Y,"",M)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;c.location.assign(M)}m&&y&&y({action:h,location:T.location,delta:1})}function O(w,U){h="REPLACE";let B=Yo(T.location,w,U);x=g();let Y=yc(B,x),M=T.createHref(B);p.replaceState(Y,"",M),m&&y&&y({action:h,location:T.location,delta:0})}function R(w){return Bf(w)}let T={get action(){return h},get location(){return s(c,p)},listen(w){if(y)throw new Error("A history only accepts one active listener");return c.addEventListener(gc,j),y=w,()=>{c.removeEventListener(gc,j),y=null}},createHref(w){return o(c,w)},createURL:R,encodeLocation(w){let U=R(w);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:A,replace:O,go(w){return p.go(w)}};return T}function Bf(s,o=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),$e(l,"No window.location.(origin|href) available to create URL");let u=typeof s=="string"?s:vs(s);return u=u.replace(/ $/,"%20"),!o&&u.startsWith("//")&&(u=l+u),new URL(u,l)}function Qc(s,o,l="/"){return Hf(s,o,l,!1)}function Hf(s,o,l,u){let c=typeof o=="string"?Cn(o):o,m=ur(c.pathname||"/",l);if(m==null)return null;let p=Gc(s);Wf(p);let h=null;for(let y=0;h==null&&y<p.length;++y){let x=tp(m);h=Zf(p[y],x,u)}return h}function Gc(s,o=[],l=[],u="",c=!1){let m=(p,h,y=c,x)=>{let g={relativePath:x===void 0?p.path||"":x,caseSensitive:p.caseSensitive===!0,childrenIndex:h,route:p};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(u)&&y)return;$e(g.relativePath.startsWith(u),`Absolute route path "${g.relativePath}" nested under path "${u}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(u.length)}let j=dr([u,g.relativePath]),A=l.concat(g);p.children&&p.children.length>0&&($e(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${j}".`),Gc(p.children,o,A,j,y)),!(p.path==null&&!p.index)&&o.push({path:j,score:Yf(j,p.index),routesMeta:A})};return s.forEach((p,h)=>{if(p.path===""||!p.path?.includes("?"))m(p,h);else for(let y of Jc(p.path))m(p,h,!0,y)}),o}function Jc(s){let o=s.split("/");if(o.length===0)return[];let[l,...u]=o,c=l.endsWith("?"),m=l.replace(/\?$/,"");if(u.length===0)return c?[m,""]:[m];let p=Jc(u.join("/")),h=[];return h.push(...p.map(y=>y===""?m:[m,y].join("/"))),c&&h.push(...p),h.map(y=>s.startsWith("/")&&y===""?"/":y)}function Wf(s){s.sort((o,l)=>o.score!==l.score?l.score-o.score:Xf(o.routesMeta.map(u=>u.childrenIndex),l.routesMeta.map(u=>u.childrenIndex)))}var Vf=/^:[\w-]+$/,Kf=3,qf=2,Qf=1,Gf=10,Jf=-2,bc=s=>s==="*";function Yf(s,o){let l=s.split("/"),u=l.length;return l.some(bc)&&(u+=Jf),o&&(u+=qf),l.filter(c=>!bc(c)).reduce((c,m)=>c+(Vf.test(m)?Kf:m===""?Qf:Gf),u)}function Xf(s,o){return s.length===o.length&&s.slice(0,-1).every((u,c)=>u===o[c])?s[s.length-1]-o[o.length-1]:0}function Zf(s,o,l=!1){let{routesMeta:u}=s,c={},m="/",p=[];for(let h=0;h<u.length;++h){let y=u[h],x=h===u.length-1,g=m==="/"?o:o.slice(m.length)||"/",j=Va({path:y.relativePath,caseSensitive:y.caseSensitive,end:x},g),A=y.route;if(!j&&x&&l&&!u[u.length-1].route.index&&(j=Va({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},g)),!j)return null;Object.assign(c,j.params),p.push({params:c,pathname:dr([m,j.pathname]),pathnameBase:ap(dr([m,j.pathnameBase])),route:A}),j.pathnameBase!=="/"&&(m=dr([m,j.pathnameBase]))}return p}function Va(s,o){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[l,u]=ep(s.path,s.caseSensitive,s.end),c=o.match(l);if(!c)return null;let m=c[0],p=m.replace(/(.)\/+$/,"$1"),h=c.slice(1);return{params:u.reduce((x,{paramName:g,isOptional:j},A)=>{if(g==="*"){let R=h[A]||"";p=m.slice(0,m.length-R.length).replace(/(.)\/+$/,"$1")}const O=h[A];return j&&!O?x[g]=void 0:x[g]=(O||"").replace(/%2F/g,"/"),x},{}),pathname:m,pathnameBase:p,pattern:s}}function ep(s,o=!1,l=!0){Wt(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let u=[],c="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,h,y)=>(u.push({paramName:h,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(u.push({paramName:"*"}),c+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?c+="\\/*$":s!==""&&s!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,o?void 0:"i"),u]}function tp(s){try{return s.split("/").map(o=>decodeURIComponent(o).replace(/\//g,"%2F")).join("/")}catch(o){return Wt(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${o}).`),s}}function ur(s,o){if(o==="/")return s;if(!s.toLowerCase().startsWith(o.toLowerCase()))return null;let l=o.endsWith("/")?o.length-1:o.length,u=s.charAt(l);return u&&u!=="/"?null:s.slice(l)||"/"}function rp(s,o="/"){let{pathname:l,search:u="",hash:c=""}=typeof s=="string"?Cn(s):s;return{pathname:l?l.startsWith("/")?l:np(l,o):o,search:lp(u),hash:op(c)}}function np(s,o){let l=o.replace(/\/+$/,"").split("/");return s.split("/").forEach(c=>{c===".."?l.length>1&&l.pop():c!=="."&&l.push(c)}),l.length>1?l.join("/"):"/"}function Vo(s,o,l,u){return`Cannot include a '${s}' character in a manually specified \`to.${o}\` field [${JSON.stringify(u)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sp(s){return s.filter((o,l)=>l===0||o.route.path&&o.route.path.length>0)}function oi(s){let o=sp(s);return o.map((l,u)=>u===o.length-1?l.pathname:l.pathnameBase)}function ii(s,o,l,u=!1){let c;typeof s=="string"?c=Cn(s):(c={...s},$e(!c.pathname||!c.pathname.includes("?"),Vo("?","pathname","search",c)),$e(!c.pathname||!c.pathname.includes("#"),Vo("#","pathname","hash",c)),$e(!c.search||!c.search.includes("#"),Vo("#","search","hash",c)));let m=s===""||c.pathname==="",p=m?"/":c.pathname,h;if(p==null)h=l;else{let j=o.length-1;if(!u&&p.startsWith("..")){let A=p.split("/");for(;A[0]==="..";)A.shift(),j-=1;c.pathname=A.join("/")}h=j>=0?o[j]:"/"}let y=rp(c,h),x=p&&p!=="/"&&p.endsWith("/"),g=(m||p===".")&&l.endsWith("/");return!y.pathname.endsWith("/")&&(x||g)&&(y.pathname+="/"),y}var dr=s=>s.join("/").replace(/\/\/+/g,"/"),ap=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),lp=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,op=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function ip(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Yc=["POST","PUT","PATCH","DELETE"];new Set(Yc);var dp=["GET",...Yc];new Set(dp);var En=v.createContext(null);En.displayName="DataRouter";var qa=v.createContext(null);qa.displayName="DataRouterState";v.createContext(!1);var Xc=v.createContext({isTransitioning:!1});Xc.displayName="ViewTransition";var up=v.createContext(new Map);up.displayName="Fetchers";var cp=v.createContext(null);cp.displayName="Await";var Vt=v.createContext(null);Vt.displayName="Navigation";var ws=v.createContext(null);ws.displayName="Location";var Kt=v.createContext({outlet:null,matches:[],isDataRoute:!1});Kt.displayName="Route";var di=v.createContext(null);di.displayName="RouteError";function mp(s,{relative:o}={}){$e(Pn(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:u}=v.useContext(Vt),{hash:c,pathname:m,search:p}=ks(s,{relative:o}),h=m;return l!=="/"&&(h=m==="/"?l:dr([l,m])),u.createHref({pathname:h,search:p,hash:c})}function Pn(){return v.useContext(ws)!=null}function Lr(){return $e(Pn(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(ws).location}var Zc="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function em(s){v.useContext(Vt).static||v.useLayoutEffect(s)}function Rn(){let{isDataRoute:s}=v.useContext(Kt);return s?Ep():fp()}function fp(){$e(Pn(),"useNavigate() may be used only in the context of a <Router> component.");let s=v.useContext(En),{basename:o,navigator:l}=v.useContext(Vt),{matches:u}=v.useContext(Kt),{pathname:c}=Lr(),m=JSON.stringify(oi(u)),p=v.useRef(!1);return em(()=>{p.current=!0}),v.useCallback((y,x={})=>{if(Wt(p.current,Zc),!p.current)return;if(typeof y=="number"){l.go(y);return}let g=ii(y,JSON.parse(m),c,x.relative==="path");s==null&&o!=="/"&&(g.pathname=g.pathname==="/"?o:dr([o,g.pathname])),(x.replace?l.replace:l.push)(g,x.state,x)},[o,l,m,c,s])}var pp=v.createContext(null);function hp(s){let o=v.useContext(Kt).outlet;return v.useMemo(()=>o&&v.createElement(pp.Provider,{value:s},o),[o,s])}function ks(s,{relative:o}={}){let{matches:l}=v.useContext(Kt),{pathname:u}=Lr(),c=JSON.stringify(oi(l));return v.useMemo(()=>ii(s,JSON.parse(c),u,o==="path"),[s,c,u,o])}function xp(s,o){return tm(s,o)}function tm(s,o,l,u,c){$e(Pn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:m}=v.useContext(Vt),{matches:p}=v.useContext(Kt),h=p[p.length-1],y=h?h.params:{},x=h?h.pathname:"/",g=h?h.pathnameBase:"/",j=h&&h.route;{let B=j&&j.path||"";rm(x,!j||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let A=Lr(),O;if(o){let B=typeof o=="string"?Cn(o):o;$e(g==="/"||B.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${B.pathname}" was given in the \`location\` prop.`),O=B}else O=A;let R=O.pathname||"/",T=R;if(g!=="/"){let B=g.replace(/^\//,"").split("/");T="/"+R.replace(/^\//,"").split("/").slice(B.length).join("/")}let w=Qc(s,{pathname:T});Wt(j||w!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Wt(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=wp(w&&w.map(B=>Object.assign({},B,{params:Object.assign({},y,B.params),pathname:dr([g,m.encodeLocation?m.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?g:dr([g,m.encodeLocation?m.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),p,l,u,c);return o&&U?v.createElement(ws.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},U):U}function gp(){let s=Cp(),o=ip(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),l=s instanceof Error?s.stack:null,u="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:u},m={padding:"2px 4px",backgroundColor:u},p=null;return console.error("Error handled by React Router default ErrorBoundary:",s),p=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:m},"ErrorBoundary")," or"," ",v.createElement("code",{style:m},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},o),l?v.createElement("pre",{style:c},l):null,p)}var yp=v.createElement(gp,null),bp=class extends v.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,o){return o.location!==s.location||o.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:o.error,location:o.location,revalidation:s.revalidation||o.revalidation}}componentDidCatch(s,o){this.props.unstable_onError?this.props.unstable_onError(s,o):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?v.createElement(Kt.Provider,{value:this.props.routeContext},v.createElement(di.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vp({routeContext:s,match:o,children:l}){let u=v.useContext(En);return u&&u.static&&u.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=o.route.id),v.createElement(Kt.Provider,{value:s},l)}function wp(s,o=[],l=null,u=null,c=null){if(s==null){if(!l)return null;if(l.errors)s=l.matches;else if(o.length===0&&!l.initialized&&l.matches.length>0)s=l.matches;else return null}let m=s,p=l?.errors;if(p!=null){let x=m.findIndex(g=>g.route.id&&p?.[g.route.id]!==void 0);$e(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),m=m.slice(0,Math.min(m.length,x+1))}let h=!1,y=-1;if(l)for(let x=0;x<m.length;x++){let g=m[x];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(y=x),g.route.id){let{loaderData:j,errors:A}=l,O=g.route.loader&&!j.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||O){h=!0,y>=0?m=m.slice(0,y+1):m=[m[0]];break}}}return m.reduceRight((x,g,j)=>{let A,O=!1,R=null,T=null;l&&(A=p&&g.route.id?p[g.route.id]:void 0,R=g.route.errorElement||yp,h&&(y<0&&j===0?(rm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,T=null):y===j&&(O=!0,T=g.route.hydrateFallbackElement||null)));let w=o.concat(m.slice(0,j+1)),U=()=>{let B;return A?B=R:O?B=T:g.route.Component?B=v.createElement(g.route.Component,null):g.route.element?B=g.route.element:B=x,v.createElement(vp,{match:g,routeContext:{outlet:x,matches:w,isDataRoute:l!=null},children:B})};return l&&(g.route.ErrorBoundary||g.route.errorElement||j===0)?v.createElement(bp,{location:l.location,revalidation:l.revalidation,component:R,error:A,children:U(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:u}):U()},null)}function ui(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kp(s){let o=v.useContext(En);return $e(o,ui(s)),o}function jp(s){let o=v.useContext(qa);return $e(o,ui(s)),o}function Np(s){let o=v.useContext(Kt);return $e(o,ui(s)),o}function ci(s){let o=Np(s),l=o.matches[o.matches.length-1];return $e(l.route.id,`${s} can only be used on routes that contain a unique "id"`),l.route.id}function Sp(){return ci("useRouteId")}function Cp(){let s=v.useContext(di),o=jp("useRouteError"),l=ci("useRouteError");return s!==void 0?s:o.errors?.[l]}function Ep(){let{router:s}=kp("useNavigate"),o=ci("useNavigate"),l=v.useRef(!1);return em(()=>{l.current=!0}),v.useCallback(async(c,m={})=>{Wt(l.current,Zc),l.current&&(typeof c=="number"?s.navigate(c):await s.navigate(c,{fromRouteId:o,...m}))},[s,o])}var vc={};function rm(s,o,l){!o&&!vc[s]&&(vc[s]=!0,Wt(!1,l))}v.memo(Pp);function Pp({routes:s,future:o,state:l,unstable_onError:u}){return tm(s,void 0,l,u,o)}function mi({to:s,replace:o,state:l,relative:u}){$e(Pn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=v.useContext(Vt);Wt(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:m}=v.useContext(Kt),{pathname:p}=Lr(),h=Rn(),y=ii(s,oi(m),p,u==="path"),x=JSON.stringify(y);return v.useEffect(()=>{h(JSON.parse(x),{replace:o,state:l,relative:u})},[h,x,u,o,l]),null}function Rp(s){return hp(s.context)}function wt(s){$e(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ap({basename:s="/",children:o=null,location:l,navigationType:u="POP",navigator:c,static:m=!1}){$e(!Pn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=s.replace(/^\/*/,"/"),h=v.useMemo(()=>({basename:p,navigator:c,static:m,future:{}}),[p,c,m]);typeof l=="string"&&(l=Cn(l));let{pathname:y="/",search:x="",hash:g="",state:j=null,key:A="default"}=l,O=v.useMemo(()=>{let R=ur(y,p);return R==null?null:{location:{pathname:R,search:x,hash:g,state:j,key:A},navigationType:u}},[p,y,x,g,j,A,u]);return Wt(O!=null,`<Router basename="${p}"> is not able to match the URL "${y}${x}${g}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:v.createElement(Vt.Provider,{value:h},v.createElement(ws.Provider,{children:o,value:O}))}function Lp({children:s,location:o}){return xp(Xo(s),o)}function Xo(s,o=[]){let l=[];return v.Children.forEach(s,(u,c)=>{if(!v.isValidElement(u))return;let m=[...o,c];if(u.type===v.Fragment){l.push.apply(l,Xo(u.props.children,m));return}$e(u.type===wt,`[${typeof u.type=="string"?u.type:u.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$e(!u.props.index||!u.props.children,"An index route cannot have child routes.");let p={id:u.props.id||m.join("-"),caseSensitive:u.props.caseSensitive,element:u.props.element,Component:u.props.Component,index:u.props.index,path:u.props.path,middleware:u.props.middleware,loader:u.props.loader,action:u.props.action,hydrateFallbackElement:u.props.hydrateFallbackElement,HydrateFallback:u.props.HydrateFallback,errorElement:u.props.errorElement,ErrorBoundary:u.props.ErrorBoundary,hasErrorBoundary:u.props.hasErrorBoundary===!0||u.props.ErrorBoundary!=null||u.props.errorElement!=null,shouldRevalidate:u.props.shouldRevalidate,handle:u.props.handle,lazy:u.props.lazy};u.props.children&&(p.children=Xo(u.props.children,m)),l.push(p)}),l}var Ua="get",$a="application/x-www-form-urlencoded";function Qa(s){return s!=null&&typeof s.tagName=="string"}function _p(s){return Qa(s)&&s.tagName.toLowerCase()==="button"}function Tp(s){return Qa(s)&&s.tagName.toLowerCase()==="form"}function Mp(s){return Qa(s)&&s.tagName.toLowerCase()==="input"}function Op(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Dp(s,o){return s.button===0&&(!o||o==="_self")&&!Op(s)}var Fa=null;function Fp(){if(Fa===null)try{new FormData(document.createElement("form"),0),Fa=!1}catch{Fa=!0}return Fa}var Ip=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ko(s){return s!=null&&!Ip.has(s)?(Wt(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$a}"`),null):s}function zp(s,o){let l,u,c,m,p;if(Tp(s)){let h=s.getAttribute("action");u=h?ur(h,o):null,l=s.getAttribute("method")||Ua,c=Ko(s.getAttribute("enctype"))||$a,m=new FormData(s)}else if(_p(s)||Mp(s)&&(s.type==="submit"||s.type==="image")){let h=s.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=s.getAttribute("formaction")||h.getAttribute("action");if(u=y?ur(y,o):null,l=s.getAttribute("formmethod")||h.getAttribute("method")||Ua,c=Ko(s.getAttribute("formenctype"))||Ko(h.getAttribute("enctype"))||$a,m=new FormData(h,s),!Fp()){let{name:x,type:g,value:j}=s;if(g==="image"){let A=x?`${x}.`:"";m.append(`${A}x`,"0"),m.append(`${A}y`,"0")}else x&&m.append(x,j)}}else{if(Qa(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=Ua,u=null,c=$a,p=s}return m&&c==="text/plain"&&(p=m,m=void 0),{action:u,method:l.toLowerCase(),encType:c,formData:m,body:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fi(s,o){if(s===!1||s===null||typeof s>"u")throw new Error(o)}function Up(s,o,l){let u=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return u.pathname==="/"?u.pathname=`_root.${l}`:o&&ur(u.pathname,o)==="/"?u.pathname=`${o.replace(/\/$/,"")}/_root.${l}`:u.pathname=`${u.pathname.replace(/\/$/,"")}.${l}`,u}async function $p(s,o){if(s.id in o)return o[s.id];try{let l=await import(s.module);return o[s.id]=l,l}catch(l){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Bp(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Hp(s,o,l){let u=await Promise.all(s.map(async c=>{let m=o.routes[c.route.id];if(m){let p=await $p(m,l);return p.links?p.links():[]}return[]}));return qp(u.flat(1).filter(Bp).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function wc(s,o,l,u,c,m){let p=(y,x)=>l[x]?y.route.id!==l[x].route.id:!0,h=(y,x)=>l[x].pathname!==y.pathname||l[x].route.path?.endsWith("*")&&l[x].params["*"]!==y.params["*"];return m==="assets"?o.filter((y,x)=>p(y,x)||h(y,x)):m==="data"?o.filter((y,x)=>{let g=u.routes[y.route.id];if(!g||!g.hasLoader)return!1;if(p(y,x)||h(y,x))return!0;if(y.route.shouldRevalidate){let j=y.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:l[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof j=="boolean")return j}return!0}):[]}function Wp(s,o,{includeHydrateFallback:l}={}){return Vp(s.map(u=>{let c=o.routes[u.route.id];if(!c)return[];let m=[c.module];return c.clientActionModule&&(m=m.concat(c.clientActionModule)),c.clientLoaderModule&&(m=m.concat(c.clientLoaderModule)),l&&c.hydrateFallbackModule&&(m=m.concat(c.hydrateFallbackModule)),c.imports&&(m=m.concat(c.imports)),m}).flat(1))}function Vp(s){return[...new Set(s)]}function Kp(s){let o={},l=Object.keys(s).sort();for(let u of l)o[u]=s[u];return o}function qp(s,o){let l=new Set;return new Set(o),s.reduce((u,c)=>{let m=JSON.stringify(Kp(c));return l.has(m)||(l.add(m),u.push({key:m,link:c})),u},[])}function nm(){let s=v.useContext(En);return fi(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Qp(){let s=v.useContext(qa);return fi(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var pi=v.createContext(void 0);pi.displayName="FrameworkContext";function sm(){let s=v.useContext(pi);return fi(s,"You must render this element inside a <HydratedRouter> element"),s}function Gp(s,o){let l=v.useContext(pi),[u,c]=v.useState(!1),[m,p]=v.useState(!1),{onFocus:h,onBlur:y,onMouseEnter:x,onMouseLeave:g,onTouchStart:j}=o,A=v.useRef(null);v.useEffect(()=>{if(s==="render"&&p(!0),s==="viewport"){let T=U=>{U.forEach(B=>{p(B.isIntersecting)})},w=new IntersectionObserver(T,{threshold:.5});return A.current&&w.observe(A.current),()=>{w.disconnect()}}},[s]),v.useEffect(()=>{if(u){let T=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(T)}}},[u]);let O=()=>{c(!0)},R=()=>{c(!1),p(!1)};return l?s!=="intent"?[m,A,{}]:[m,A,{onFocus:ys(h,O),onBlur:ys(y,R),onMouseEnter:ys(x,O),onMouseLeave:ys(g,R),onTouchStart:ys(j,O)}]:[!1,A,{}]}function ys(s,o){return l=>{s&&s(l),l.defaultPrevented||o(l)}}function Jp({page:s,...o}){let{router:l}=nm(),u=v.useMemo(()=>Qc(l.routes,s,l.basename),[l.routes,s,l.basename]);return u?v.createElement(Xp,{page:s,matches:u,...o}):null}function Yp(s){let{manifest:o,routeModules:l}=sm(),[u,c]=v.useState([]);return v.useEffect(()=>{let m=!1;return Hp(s,o,l).then(p=>{m||c(p)}),()=>{m=!0}},[s,o,l]),u}function Xp({page:s,matches:o,...l}){let u=Lr(),{manifest:c,routeModules:m}=sm(),{basename:p}=nm(),{loaderData:h,matches:y}=Qp(),x=v.useMemo(()=>wc(s,o,y,c,u,"data"),[s,o,y,c,u]),g=v.useMemo(()=>wc(s,o,y,c,u,"assets"),[s,o,y,c,u]),j=v.useMemo(()=>{if(s===u.pathname+u.search+u.hash)return[];let R=new Set,T=!1;if(o.forEach(U=>{let B=c.routes[U.route.id];!B||!B.hasLoader||(!x.some(Y=>Y.route.id===U.route.id)&&U.route.id in h&&m[U.route.id]?.shouldRevalidate||B.hasClientLoader?T=!0:R.add(U.route.id))}),R.size===0)return[];let w=Up(s,p,"data");return T&&R.size>0&&w.searchParams.set("_routes",o.filter(U=>R.has(U.route.id)).map(U=>U.route.id).join(",")),[w.pathname+w.search]},[p,h,u,c,x,o,s,m]),A=v.useMemo(()=>Wp(g,c),[g,c]),O=Yp(g);return v.createElement(v.Fragment,null,j.map(R=>v.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...l})),A.map(R=>v.createElement("link",{key:R,rel:"modulepreload",href:R,...l})),O.map(({key:R,link:T})=>v.createElement("link",{key:R,nonce:l.nonce,...T})))}function Zp(...s){return o=>{s.forEach(l=>{typeof l=="function"?l(o):l!=null&&(l.current=o)})}}var am=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{am&&(window.__reactRouterVersion="7.9.5")}catch{}function eh({basename:s,children:o,window:l}){let u=v.useRef();u.current==null&&(u.current=zf({window:l,v5Compat:!0}));let c=u.current,[m,p]=v.useState({action:c.action,location:c.location}),h=v.useCallback(y=>{v.startTransition(()=>p(y))},[p]);return v.useLayoutEffect(()=>c.listen(h),[c,h]),v.createElement(Ap,{basename:s,children:o,location:m.location,navigationType:m.action,navigator:c})}var lm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,At=v.forwardRef(function({onClick:o,discover:l="render",prefetch:u="none",relative:c,reloadDocument:m,replace:p,state:h,target:y,to:x,preventScrollReset:g,viewTransition:j,...A},O){let{basename:R}=v.useContext(Vt),T=typeof x=="string"&&lm.test(x),w,U=!1;if(typeof x=="string"&&T&&(w=x,am))try{let be=new URL(window.location.href),we=x.startsWith("//")?new URL(be.protocol+x):new URL(x),he=ur(we.pathname,R);we.origin===be.origin&&he!=null?x=he+we.search+we.hash:U=!0}catch{Wt(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=mp(x,{relative:c}),[Y,M,H]=Gp(u,A),K=sh(x,{replace:p,state:h,target:y,preventScrollReset:g,relative:c,viewTransition:j});function ie(be){o&&o(be),be.defaultPrevented||K(be)}let pe=v.createElement("a",{...A,...H,href:w||B,onClick:U||m?o:ie,ref:Zp(O,M),target:y,"data-discover":!T&&l==="render"?"true":void 0});return Y&&!T?v.createElement(v.Fragment,null,pe,v.createElement(Jp,{page:B})):pe});At.displayName="Link";var th=v.forwardRef(function({"aria-current":o="page",caseSensitive:l=!1,className:u="",end:c=!1,style:m,to:p,viewTransition:h,children:y,...x},g){let j=ks(p,{relative:x.relative}),A=Lr(),O=v.useContext(qa),{navigator:R,basename:T}=v.useContext(Vt),w=O!=null&&dh(j)&&h===!0,U=R.encodeLocation?R.encodeLocation(j).pathname:j.pathname,B=A.pathname,Y=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;l||(B=B.toLowerCase(),Y=Y?Y.toLowerCase():null,U=U.toLowerCase()),Y&&T&&(Y=ur(Y,T)||Y);const M=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let H=B===U||!c&&B.startsWith(U)&&B.charAt(M)==="/",K=Y!=null&&(Y===U||!c&&Y.startsWith(U)&&Y.charAt(U.length)==="/"),ie={isActive:H,isPending:K,isTransitioning:w},pe=H?o:void 0,be;typeof u=="function"?be=u(ie):be=[u,H?"active":null,K?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let we=typeof m=="function"?m(ie):m;return v.createElement(At,{...x,"aria-current":pe,className:be,ref:g,style:we,to:p,viewTransition:h},typeof y=="function"?y(ie):y)});th.displayName="NavLink";var rh=v.forwardRef(({discover:s="render",fetcherKey:o,navigate:l,reloadDocument:u,replace:c,state:m,method:p=Ua,action:h,onSubmit:y,relative:x,preventScrollReset:g,viewTransition:j,...A},O)=>{let R=oh(),T=ih(h,{relative:x}),w=p.toLowerCase()==="get"?"get":"post",U=typeof h=="string"&&lm.test(h),B=Y=>{if(y&&y(Y),Y.defaultPrevented)return;Y.preventDefault();let M=Y.nativeEvent.submitter,H=M?.getAttribute("formmethod")||p;R(M||Y.currentTarget,{fetcherKey:o,method:H,navigate:l,replace:c,state:m,relative:x,preventScrollReset:g,viewTransition:j})};return v.createElement("form",{ref:O,method:w,action:T,onSubmit:u?y:B,...A,"data-discover":!U&&s==="render"?"true":void 0})});rh.displayName="Form";function nh(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function om(s){let o=v.useContext(En);return $e(o,nh(s)),o}function sh(s,{target:o,replace:l,state:u,preventScrollReset:c,relative:m,viewTransition:p}={}){let h=Rn(),y=Lr(),x=ks(s,{relative:m});return v.useCallback(g=>{if(Dp(g,o)){g.preventDefault();let j=l!==void 0?l:vs(y)===vs(x);h(s,{replace:j,state:u,preventScrollReset:c,relative:m,viewTransition:p})}},[y,h,x,l,u,o,s,c,m,p])}var ah=0,lh=()=>`__${String(++ah)}__`;function oh(){let{router:s}=om("useSubmit"),{basename:o}=v.useContext(Vt),l=Sp();return v.useCallback(async(u,c={})=>{let{action:m,method:p,encType:h,formData:y,body:x}=zp(u,o);if(c.navigate===!1){let g=c.fetcherKey||lh();await s.fetch(g,l,c.action||m,{preventScrollReset:c.preventScrollReset,formData:y,body:x,formMethod:c.method||p,formEncType:c.encType||h,flushSync:c.flushSync})}else await s.navigate(c.action||m,{preventScrollReset:c.preventScrollReset,formData:y,body:x,formMethod:c.method||p,formEncType:c.encType||h,replace:c.replace,state:c.state,fromRouteId:l,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,o,l])}function ih(s,{relative:o}={}){let{basename:l}=v.useContext(Vt),u=v.useContext(Kt);$e(u,"useFormAction must be used inside a RouteContext");let[c]=u.matches.slice(-1),m={...ks(s||".",{relative:o})},p=Lr();if(s==null){m.search=p.search;let h=new URLSearchParams(m.search),y=h.getAll("index");if(y.some(g=>g==="")){h.delete("index"),y.filter(j=>j).forEach(j=>h.append("index",j));let g=h.toString();m.search=g?`?${g}`:""}}return(!s||s===".")&&c.route.index&&(m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(m.pathname=m.pathname==="/"?l:dr([l,m.pathname])),vs(m)}function dh(s,{relative:o}={}){let l=v.useContext(Xc);$e(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:u}=om("useViewTransitionState"),c=ks(s,{relative:o});if(!l.isTransitioning)return!1;let m=ur(l.currentLocation.pathname,u)||l.currentLocation.pathname,p=ur(l.nextLocation.pathname,u)||l.nextLocation.pathname;return Va(c.pathname,p)!=null||Va(c.pathname,m)!=null}class uh extends qc.Component{constructor(o){super(o),this.state={hasError:!1,error:null}}static getDerivedStateFromError(o){return{hasError:!0,error:o}}componentDidCatch(o,l){console.error("Uncaught error:",o,l)}render(){return this.state.hasError?r.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-red-50 text-red-900",children:r.jsxs("div",{className:"max-w-xl text-center",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Something went wrong"}),r.jsx("pre",{className:"text-left whitespace-pre-wrap bg-white p-4 rounded shadow text-sm",children:String(this.state.error&&this.state.error.stack?this.state.error.stack:this.state.error)})]})}):this.props.children}}function ch(){const[s,o]=v.useState(()=>{try{const l=localStorage.getItem("theme");return l==="dark"?!0:l==="light"?!1:document.documentElement.classList.contains("dark")}catch{return!1}});return v.useEffect(()=>{try{s?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))}catch{}},[s]),r.jsx("button",{onClick:()=>o(l=>!l),className:"px-3 py-1 rounded-md bg-white/40 dark:bg-gray-700/40 text-sm",children:s?" Dark":" Light"})}function mh(){const s=Rn(),o=!!localStorage.getItem("token"),l=JSON.parse(localStorage.getItem("user")),u=()=>{localStorage.removeItem("token"),localStorage.removeItem("role"),localStorage.removeItem("user"),s("/login")},c=l?.name?l.name.split(" ").map(m=>m[0]).join("").toUpperCase():"...";return r.jsx("header",{className:"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"container mx-auto flex items-center justify-between p-4 font-sans",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h1",{className:"text-2xl font-extrabold text-primary-600 dark:text-primary-400",children:"Mercure"}),r.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-300",children:"Automation System"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"relative hidden sm:block",children:r.jsx("input",{placeholder:"Search members, loans...",className:"px-4 py-2 rounded-md border w-64 bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-200 placeholder-gray-400 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-400 dark:focus:ring-primary-300"})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ch,{}),o?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:u,className:"text-sm text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-300",children:"Logout"}),r.jsx("div",{className:"w-9 h-9 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-sm font-semibold text-gray-700 dark:text-gray-200",title:l?.name,children:c})]}):r.jsxs(r.Fragment,{children:[r.jsx(At,{to:"/login",className:"text-sm text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-300",children:"Login"}),r.jsx(At,{to:"/register",className:"text-sm text-white bg-primary-600 dark:bg-primary-500 px-3 py-1 rounded-md hover:bg-primary-700 dark:hover:bg-primary-400",children:"Register"})]})]})]})]})})}function fh(){const s=localStorage.getItem("role")?.toLowerCase(),o=s==="treasurer"||s==="chairperson";return r.jsxs("aside",{id:"app-sidebar",className:"w-64 bg-white/60 dark:bg-gray-900/70 backdrop-blur-md min-h-screen p-5 font-sans border-r border-gray-100 dark:border-gray-800",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-100",children:"Mercure"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Admin dashboard"})]}),r.jsxs("nav",{className:"flex flex-col gap-2",children:[r.jsxs(At,{to:"/",className:"flex items-center p-3 rounded-md text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-primary-600 dark:hover:text-primary-300 transition-all duration-200",children:[r.jsx("span",{className:"mr-3",children:""}),"Dashboard"]}),r.jsxs(At,{to:"/members",className:"flex items-center p-3 rounded-md text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-primary-600 dark:hover:text-primary-300 transition-all duration-200",children:[r.jsx("span",{className:"mr-3",children:""}),"Members"]}),r.jsxs(At,{to:"/savings",className:"flex items-center p-3 rounded-md text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-primary-600 dark:hover:text-primary-300 transition-all duration-200",children:[r.jsx("span",{className:"mr-3",children:""}),"Savings"]}),r.jsxs(At,{to:"/loans",className:"flex items-center p-3 rounded-md text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-primary-600 dark:hover:text-primary-300 transition-all duration-200",children:[r.jsx("span",{className:"mr-3",children:""}),"Loans"]}),r.jsxs(At,{to:"/fines",className:"flex items-center p-3 rounded-md text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-primary-600 dark:hover:text-primary-300 transition-all duration-200",children:[r.jsx("span",{className:"mr-3",children:""}),"Fines"]}),r.jsxs(At,{to:"/announcements",className:"flex items-center p-3 rounded-md text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-primary-600 dark:hover:text-primary-300 transition-all duration-200",children:[r.jsx("span",{className:"mr-3",children:""}),"Announcements"]}),r.jsxs(At,{to:"/leaderboard",className:"flex items-center p-3 rounded-md text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-primary-600 dark:hover:text-primary-300 transition-all duration-200",children:[r.jsx("span",{className:"mr-3",children:""}),"Leaderboard"]}),r.jsxs(At,{to:"/admin",className:"flex items-center p-3 rounded-md text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-primary-600 dark:hover:text-primary-300 transition-all duration-200",children:[r.jsx("span",{className:"mr-3",children:""}),"Admin Panel"]}),o&&r.jsxs(At,{to:"/superadminpanel",className:"flex items-center p-3 rounded-md bg-gradient-to-r from-purple-500/10 to-blue-500/10 text-purple-700 dark:text-purple-300 border border-purple-200 dark:border-purple-800 hover:from-purple-500/20 hover:to-blue-500/20 hover:border-purple-300 dark:hover:border-purple-600 transition-all duration-200 group",children:[r.jsx("span",{className:"mr-3 text-lg",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold",children:"Super Admin"}),r.jsx("div",{className:"text-xs text-purple-600 dark:text-purple-400 opacity-80",children:"STK Push Manager"})]}),r.jsx("span",{className:"ml-auto text-xs bg-purple-500 text-white px-2 py-1 rounded-full animate-pulse",children:"NEW"})]})]}),r.jsxs("div",{className:"mt-6 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Logged in as:"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 capitalize",children:s||"member"}),o&&r.jsx("span",{className:"text-xs bg-green-500 text-white px-2 py-1 rounded-full",children:"Super Admin"})]})]}),r.jsx("div",{className:"mt-auto pt-6",children:r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"v0.1.0"})})]})}function ph(){const[s,o]=v.useState(""),[l,u]=v.useState(!1),[c,m]=v.useState(!1),[p,h]=v.useState("");v.useEffect(()=>{try{const y=getComputedStyle(document.documentElement).fontFamily;o(y||"unknown"),u(document.documentElement.classList.contains("dark"));const x=document.getElementById("dashboard-title");m(!!x),x&&h(getComputedStyle(x).color||"")}catch{o("n/a")}},[])}function hh(){return Rn(),r.jsxs("div",{className:"min-h-screen bg-genz dark:bg-genz",children:[r.jsx(mh,{}),r.jsxs("div",{className:"flex",children:[r.jsx(fh,{}),r.jsx("main",{className:"flex-1 p-6 container mx-auto",children:r.jsx(Rp,{})})]}),r.jsx(ph,{})]})}function im(s,o){return function(){return s.apply(o,arguments)}}const{toString:xh}=Object.prototype,{getPrototypeOf:hi}=Object,{iterator:Ga,toStringTag:dm}=Symbol,Ja=(s=>o=>{const l=xh.call(o);return s[l]||(s[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),qt=s=>(s=s.toLowerCase(),o=>Ja(o)===s),Ya=s=>o=>typeof o===s,{isArray:An}=Array,Sn=Ya("undefined");function js(s){return s!==null&&!Sn(s)&&s.constructor!==null&&!Sn(s.constructor)&&kt(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const um=qt("ArrayBuffer");function gh(s){let o;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?o=ArrayBuffer.isView(s):o=s&&s.buffer&&um(s.buffer),o}const yh=Ya("string"),kt=Ya("function"),cm=Ya("number"),Ns=s=>s!==null&&typeof s=="object",bh=s=>s===!0||s===!1,Ba=s=>{if(Ja(s)!=="object")return!1;const o=hi(s);return(o===null||o===Object.prototype||Object.getPrototypeOf(o)===null)&&!(dm in s)&&!(Ga in s)},vh=s=>{if(!Ns(s)||js(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},wh=qt("Date"),kh=qt("File"),jh=qt("Blob"),Nh=qt("FileList"),Sh=s=>Ns(s)&&kt(s.pipe),Ch=s=>{let o;return s&&(typeof FormData=="function"&&s instanceof FormData||kt(s.append)&&((o=Ja(s))==="formdata"||o==="object"&&kt(s.toString)&&s.toString()==="[object FormData]"))},Eh=qt("URLSearchParams"),[Ph,Rh,Ah,Lh]=["ReadableStream","Request","Response","Headers"].map(qt),_h=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ss(s,o,{allOwnKeys:l=!1}={}){if(s===null||typeof s>"u")return;let u,c;if(typeof s!="object"&&(s=[s]),An(s))for(u=0,c=s.length;u<c;u++)o.call(null,s[u],u,s);else{if(js(s))return;const m=l?Object.getOwnPropertyNames(s):Object.keys(s),p=m.length;let h;for(u=0;u<p;u++)h=m[u],o.call(null,s[h],h,s)}}function mm(s,o){if(js(s))return null;o=o.toLowerCase();const l=Object.keys(s);let u=l.length,c;for(;u-- >0;)if(c=l[u],o===c.toLowerCase())return c;return null}const qr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,fm=s=>!Sn(s)&&s!==qr;function Zo(){const{caseless:s,skipUndefined:o}=fm(this)&&this||{},l={},u=(c,m)=>{const p=s&&mm(l,m)||m;Ba(l[p])&&Ba(c)?l[p]=Zo(l[p],c):Ba(c)?l[p]=Zo({},c):An(c)?l[p]=c.slice():(!o||!Sn(c))&&(l[p]=c)};for(let c=0,m=arguments.length;c<m;c++)arguments[c]&&Ss(arguments[c],u);return l}const Th=(s,o,l,{allOwnKeys:u}={})=>(Ss(o,(c,m)=>{l&&kt(c)?s[m]=im(c,l):s[m]=c},{allOwnKeys:u}),s),Mh=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),Oh=(s,o,l,u)=>{s.prototype=Object.create(o.prototype,u),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:o.prototype}),l&&Object.assign(s.prototype,l)},Dh=(s,o,l,u)=>{let c,m,p;const h={};if(o=o||{},s==null)return o;do{for(c=Object.getOwnPropertyNames(s),m=c.length;m-- >0;)p=c[m],(!u||u(p,s,o))&&!h[p]&&(o[p]=s[p],h[p]=!0);s=l!==!1&&hi(s)}while(s&&(!l||l(s,o))&&s!==Object.prototype);return o},Fh=(s,o,l)=>{s=String(s),(l===void 0||l>s.length)&&(l=s.length),l-=o.length;const u=s.indexOf(o,l);return u!==-1&&u===l},Ih=s=>{if(!s)return null;if(An(s))return s;let o=s.length;if(!cm(o))return null;const l=new Array(o);for(;o-- >0;)l[o]=s[o];return l},zh=(s=>o=>s&&o instanceof s)(typeof Uint8Array<"u"&&hi(Uint8Array)),Uh=(s,o)=>{const u=(s&&s[Ga]).call(s);let c;for(;(c=u.next())&&!c.done;){const m=c.value;o.call(s,m[0],m[1])}},$h=(s,o)=>{let l;const u=[];for(;(l=s.exec(o))!==null;)u.push(l);return u},Bh=qt("HTMLFormElement"),Hh=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,u,c){return u.toUpperCase()+c}),kc=(({hasOwnProperty:s})=>(o,l)=>s.call(o,l))(Object.prototype),Wh=qt("RegExp"),pm=(s,o)=>{const l=Object.getOwnPropertyDescriptors(s),u={};Ss(l,(c,m)=>{let p;(p=o(c,m,s))!==!1&&(u[m]=p||c)}),Object.defineProperties(s,u)},Vh=s=>{pm(s,(o,l)=>{if(kt(s)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const u=s[l];if(kt(u)){if(o.enumerable=!1,"writable"in o){o.writable=!1;return}o.set||(o.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},Kh=(s,o)=>{const l={},u=c=>{c.forEach(m=>{l[m]=!0})};return An(s)?u(s):u(String(s).split(o)),l},qh=()=>{},Qh=(s,o)=>s!=null&&Number.isFinite(s=+s)?s:o;function Gh(s){return!!(s&&kt(s.append)&&s[dm]==="FormData"&&s[Ga])}const Jh=s=>{const o=new Array(10),l=(u,c)=>{if(Ns(u)){if(o.indexOf(u)>=0)return;if(js(u))return u;if(!("toJSON"in u)){o[c]=u;const m=An(u)?[]:{};return Ss(u,(p,h)=>{const y=l(p,c+1);!Sn(y)&&(m[h]=y)}),o[c]=void 0,m}}return u};return l(s,0)},Yh=qt("AsyncFunction"),Xh=s=>s&&(Ns(s)||kt(s))&&kt(s.then)&&kt(s.catch),hm=((s,o)=>s?setImmediate:o?((l,u)=>(qr.addEventListener("message",({source:c,data:m})=>{c===qr&&m===l&&u.length&&u.shift()()},!1),c=>{u.push(c),qr.postMessage(l,"*")}))(`axios@${Math.random()}`,[]):l=>setTimeout(l))(typeof setImmediate=="function",kt(qr.postMessage)),Zh=typeof queueMicrotask<"u"?queueMicrotask.bind(qr):typeof process<"u"&&process.nextTick||hm,ex=s=>s!=null&&kt(s[Ga]),I={isArray:An,isArrayBuffer:um,isBuffer:js,isFormData:Ch,isArrayBufferView:gh,isString:yh,isNumber:cm,isBoolean:bh,isObject:Ns,isPlainObject:Ba,isEmptyObject:vh,isReadableStream:Ph,isRequest:Rh,isResponse:Ah,isHeaders:Lh,isUndefined:Sn,isDate:wh,isFile:kh,isBlob:jh,isRegExp:Wh,isFunction:kt,isStream:Sh,isURLSearchParams:Eh,isTypedArray:zh,isFileList:Nh,forEach:Ss,merge:Zo,extend:Th,trim:_h,stripBOM:Mh,inherits:Oh,toFlatObject:Dh,kindOf:Ja,kindOfTest:qt,endsWith:Fh,toArray:Ih,forEachEntry:Uh,matchAll:$h,isHTMLForm:Bh,hasOwnProperty:kc,hasOwnProp:kc,reduceDescriptors:pm,freezeMethods:Vh,toObjectSet:Kh,toCamelCase:Hh,noop:qh,toFiniteNumber:Qh,findKey:mm,global:qr,isContextDefined:fm,isSpecCompliantForm:Gh,toJSONObject:Jh,isAsyncFn:Yh,isThenable:Xh,setImmediate:hm,asap:Zh,isIterable:ex};function je(s,o,l,u,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",o&&(this.code=o),l&&(this.config=l),u&&(this.request=u),c&&(this.response=c,this.status=c.status?c.status:null)}I.inherits(je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.status}}});const xm=je.prototype,gm={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{gm[s]={value:s}});Object.defineProperties(je,gm);Object.defineProperty(xm,"isAxiosError",{value:!0});je.from=(s,o,l,u,c,m)=>{const p=Object.create(xm);I.toFlatObject(s,p,function(g){return g!==Error.prototype},x=>x!=="isAxiosError");const h=s&&s.message?s.message:"Error",y=o==null&&s?s.code:o;return je.call(p,h,y,l,u,c),s&&p.cause==null&&Object.defineProperty(p,"cause",{value:s,configurable:!0}),p.name=s&&s.name||"Error",m&&Object.assign(p,m),p};const tx=null;function ei(s){return I.isPlainObject(s)||I.isArray(s)}function ym(s){return I.endsWith(s,"[]")?s.slice(0,-2):s}function jc(s,o,l){return s?s.concat(o).map(function(c,m){return c=ym(c),!l&&m?"["+c+"]":c}).join(l?".":""):o}function rx(s){return I.isArray(s)&&!s.some(ei)}const nx=I.toFlatObject(I,{},null,function(o){return/^is[A-Z]/.test(o)});function Xa(s,o,l){if(!I.isObject(s))throw new TypeError("target must be an object");o=o||new FormData,l=I.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,w){return!I.isUndefined(w[T])});const u=l.metaTokens,c=l.visitor||g,m=l.dots,p=l.indexes,y=(l.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(o);if(!I.isFunction(c))throw new TypeError("visitor must be a function");function x(R){if(R===null)return"";if(I.isDate(R))return R.toISOString();if(I.isBoolean(R))return R.toString();if(!y&&I.isBlob(R))throw new je("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(R)||I.isTypedArray(R)?y&&typeof Blob=="function"?new Blob([R]):Buffer.from(R):R}function g(R,T,w){let U=R;if(R&&!w&&typeof R=="object"){if(I.endsWith(T,"{}"))T=u?T:T.slice(0,-2),R=JSON.stringify(R);else if(I.isArray(R)&&rx(R)||(I.isFileList(R)||I.endsWith(T,"[]"))&&(U=I.toArray(R)))return T=ym(T),U.forEach(function(Y,M){!(I.isUndefined(Y)||Y===null)&&o.append(p===!0?jc([T],M,m):p===null?T:T+"[]",x(Y))}),!1}return ei(R)?!0:(o.append(jc(w,T,m),x(R)),!1)}const j=[],A=Object.assign(nx,{defaultVisitor:g,convertValue:x,isVisitable:ei});function O(R,T){if(!I.isUndefined(R)){if(j.indexOf(R)!==-1)throw Error("Circular reference detected in "+T.join("."));j.push(R),I.forEach(R,function(U,B){(!(I.isUndefined(U)||U===null)&&c.call(o,U,I.isString(B)?B.trim():B,T,A))===!0&&O(U,T?T.concat(B):[B])}),j.pop()}}if(!I.isObject(s))throw new TypeError("data must be an object");return O(s),o}function Nc(s){const o={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(u){return o[u]})}function xi(s,o){this._pairs=[],s&&Xa(s,this,o)}const bm=xi.prototype;bm.append=function(o,l){this._pairs.push([o,l])};bm.toString=function(o){const l=o?function(u){return o.call(this,u,Nc)}:Nc;return this._pairs.map(function(c){return l(c[0])+"="+l(c[1])},"").join("&")};function sx(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function vm(s,o,l){if(!o)return s;const u=l&&l.encode||sx;I.isFunction(l)&&(l={serialize:l});const c=l&&l.serialize;let m;if(c?m=c(o,l):m=I.isURLSearchParams(o)?o.toString():new xi(o,l).toString(u),m){const p=s.indexOf("#");p!==-1&&(s=s.slice(0,p)),s+=(s.indexOf("?")===-1?"?":"&")+m}return s}class Sc{constructor(){this.handlers=[]}use(o,l,u){return this.handlers.push({fulfilled:o,rejected:l,synchronous:u?u.synchronous:!1,runWhen:u?u.runWhen:null}),this.handlers.length-1}eject(o){this.handlers[o]&&(this.handlers[o]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(o){I.forEach(this.handlers,function(u){u!==null&&o(u)})}}const wm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ax=typeof URLSearchParams<"u"?URLSearchParams:xi,lx=typeof FormData<"u"?FormData:null,ox=typeof Blob<"u"?Blob:null,ix={isBrowser:!0,classes:{URLSearchParams:ax,FormData:lx,Blob:ox},protocols:["http","https","file","blob","url","data"]},gi=typeof window<"u"&&typeof document<"u",ti=typeof navigator=="object"&&navigator||void 0,dx=gi&&(!ti||["ReactNative","NativeScript","NS"].indexOf(ti.product)<0),ux=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",cx=gi&&window.location.href||"http://localhost",mx=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:gi,hasStandardBrowserEnv:dx,hasStandardBrowserWebWorkerEnv:ux,navigator:ti,origin:cx},Symbol.toStringTag,{value:"Module"})),ut={...mx,...ix};function fx(s,o){return Xa(s,new ut.classes.URLSearchParams,{visitor:function(l,u,c,m){return ut.isNode&&I.isBuffer(l)?(this.append(u,l.toString("base64")),!1):m.defaultVisitor.apply(this,arguments)},...o})}function px(s){return I.matchAll(/\w+|\[(\w*)]/g,s).map(o=>o[0]==="[]"?"":o[1]||o[0])}function hx(s){const o={},l=Object.keys(s);let u;const c=l.length;let m;for(u=0;u<c;u++)m=l[u],o[m]=s[m];return o}function km(s){function o(l,u,c,m){let p=l[m++];if(p==="__proto__")return!0;const h=Number.isFinite(+p),y=m>=l.length;return p=!p&&I.isArray(c)?c.length:p,y?(I.hasOwnProp(c,p)?c[p]=[c[p],u]:c[p]=u,!h):((!c[p]||!I.isObject(c[p]))&&(c[p]=[]),o(l,u,c[p],m)&&I.isArray(c[p])&&(c[p]=hx(c[p])),!h)}if(I.isFormData(s)&&I.isFunction(s.entries)){const l={};return I.forEachEntry(s,(u,c)=>{o(px(u),c,l,0)}),l}return null}function xx(s,o,l){if(I.isString(s))try{return(o||JSON.parse)(s),I.trim(s)}catch(u){if(u.name!=="SyntaxError")throw u}return(l||JSON.stringify)(s)}const Cs={transitional:wm,adapter:["xhr","http","fetch"],transformRequest:[function(o,l){const u=l.getContentType()||"",c=u.indexOf("application/json")>-1,m=I.isObject(o);if(m&&I.isHTMLForm(o)&&(o=new FormData(o)),I.isFormData(o))return c?JSON.stringify(km(o)):o;if(I.isArrayBuffer(o)||I.isBuffer(o)||I.isStream(o)||I.isFile(o)||I.isBlob(o)||I.isReadableStream(o))return o;if(I.isArrayBufferView(o))return o.buffer;if(I.isURLSearchParams(o))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),o.toString();let h;if(m){if(u.indexOf("application/x-www-form-urlencoded")>-1)return fx(o,this.formSerializer).toString();if((h=I.isFileList(o))||u.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return Xa(h?{"files[]":o}:o,y&&new y,this.formSerializer)}}return m||c?(l.setContentType("application/json",!1),xx(o)):o}],transformResponse:[function(o){const l=this.transitional||Cs.transitional,u=l&&l.forcedJSONParsing,c=this.responseType==="json";if(I.isResponse(o)||I.isReadableStream(o))return o;if(o&&I.isString(o)&&(u&&!this.responseType||c)){const p=!(l&&l.silentJSONParsing)&&c;try{return JSON.parse(o,this.parseReviver)}catch(h){if(p)throw h.name==="SyntaxError"?je.from(h,je.ERR_BAD_RESPONSE,this,null,this.response):h}}return o}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ut.classes.FormData,Blob:ut.classes.Blob},validateStatus:function(o){return o>=200&&o<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],s=>{Cs.headers[s]={}});const gx=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yx=s=>{const o={};let l,u,c;return s&&s.split(`
`).forEach(function(p){c=p.indexOf(":"),l=p.substring(0,c).trim().toLowerCase(),u=p.substring(c+1).trim(),!(!l||o[l]&&gx[l])&&(l==="set-cookie"?o[l]?o[l].push(u):o[l]=[u]:o[l]=o[l]?o[l]+", "+u:u)}),o},Cc=Symbol("internals");function bs(s){return s&&String(s).trim().toLowerCase()}function Ha(s){return s===!1||s==null?s:I.isArray(s)?s.map(Ha):String(s)}function bx(s){const o=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let u;for(;u=l.exec(s);)o[u[1]]=u[2];return o}const vx=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function qo(s,o,l,u,c){if(I.isFunction(u))return u.call(this,o,l);if(c&&(o=l),!!I.isString(o)){if(I.isString(u))return o.indexOf(u)!==-1;if(I.isRegExp(u))return u.test(o)}}function wx(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(o,l,u)=>l.toUpperCase()+u)}function kx(s,o){const l=I.toCamelCase(" "+o);["get","set","has"].forEach(u=>{Object.defineProperty(s,u+l,{value:function(c,m,p){return this[u].call(this,o,c,m,p)},configurable:!0})})}let jt=class{constructor(o){o&&this.set(o)}set(o,l,u){const c=this;function m(h,y,x){const g=bs(y);if(!g)throw new Error("header name must be a non-empty string");const j=I.findKey(c,g);(!j||c[j]===void 0||x===!0||x===void 0&&c[j]!==!1)&&(c[j||y]=Ha(h))}const p=(h,y)=>I.forEach(h,(x,g)=>m(x,g,y));if(I.isPlainObject(o)||o instanceof this.constructor)p(o,l);else if(I.isString(o)&&(o=o.trim())&&!vx(o))p(yx(o),l);else if(I.isObject(o)&&I.isIterable(o)){let h={},y,x;for(const g of o){if(!I.isArray(g))throw TypeError("Object iterator must return a key-value pair");h[x=g[0]]=(y=h[x])?I.isArray(y)?[...y,g[1]]:[y,g[1]]:g[1]}p(h,l)}else o!=null&&m(l,o,u);return this}get(o,l){if(o=bs(o),o){const u=I.findKey(this,o);if(u){const c=this[u];if(!l)return c;if(l===!0)return bx(c);if(I.isFunction(l))return l.call(this,c,u);if(I.isRegExp(l))return l.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(o,l){if(o=bs(o),o){const u=I.findKey(this,o);return!!(u&&this[u]!==void 0&&(!l||qo(this,this[u],u,l)))}return!1}delete(o,l){const u=this;let c=!1;function m(p){if(p=bs(p),p){const h=I.findKey(u,p);h&&(!l||qo(u,u[h],h,l))&&(delete u[h],c=!0)}}return I.isArray(o)?o.forEach(m):m(o),c}clear(o){const l=Object.keys(this);let u=l.length,c=!1;for(;u--;){const m=l[u];(!o||qo(this,this[m],m,o,!0))&&(delete this[m],c=!0)}return c}normalize(o){const l=this,u={};return I.forEach(this,(c,m)=>{const p=I.findKey(u,m);if(p){l[p]=Ha(c),delete l[m];return}const h=o?wx(m):String(m).trim();h!==m&&delete l[m],l[h]=Ha(c),u[h]=!0}),this}concat(...o){return this.constructor.concat(this,...o)}toJSON(o){const l=Object.create(null);return I.forEach(this,(u,c)=>{u!=null&&u!==!1&&(l[c]=o&&I.isArray(u)?u.join(", "):u)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([o,l])=>o+": "+l).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(o){return o instanceof this?o:new this(o)}static concat(o,...l){const u=new this(o);return l.forEach(c=>u.set(c)),u}static accessor(o){const u=(this[Cc]=this[Cc]={accessors:{}}).accessors,c=this.prototype;function m(p){const h=bs(p);u[h]||(kx(c,p),u[h]=!0)}return I.isArray(o)?o.forEach(m):m(o),this}};jt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(jt.prototype,({value:s},o)=>{let l=o[0].toUpperCase()+o.slice(1);return{get:()=>s,set(u){this[l]=u}}});I.freezeMethods(jt);function Qo(s,o){const l=this||Cs,u=o||l,c=jt.from(u.headers);let m=u.data;return I.forEach(s,function(h){m=h.call(l,m,c.normalize(),o?o.status:void 0)}),c.normalize(),m}function jm(s){return!!(s&&s.__CANCEL__)}function Ln(s,o,l){je.call(this,s??"canceled",je.ERR_CANCELED,o,l),this.name="CanceledError"}I.inherits(Ln,je,{__CANCEL__:!0});function Nm(s,o,l){const u=l.config.validateStatus;!l.status||!u||u(l.status)?s(l):o(new je("Request failed with status code "+l.status,[je.ERR_BAD_REQUEST,je.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}function jx(s){const o=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return o&&o[1]||""}function Nx(s,o){s=s||10;const l=new Array(s),u=new Array(s);let c=0,m=0,p;return o=o!==void 0?o:1e3,function(y){const x=Date.now(),g=u[m];p||(p=x),l[c]=y,u[c]=x;let j=m,A=0;for(;j!==c;)A+=l[j++],j=j%s;if(c=(c+1)%s,c===m&&(m=(m+1)%s),x-p<o)return;const O=g&&x-g;return O?Math.round(A*1e3/O):void 0}}function Sx(s,o){let l=0,u=1e3/o,c,m;const p=(x,g=Date.now())=>{l=g,c=null,m&&(clearTimeout(m),m=null),s(...x)};return[(...x)=>{const g=Date.now(),j=g-l;j>=u?p(x,g):(c=x,m||(m=setTimeout(()=>{m=null,p(c)},u-j)))},()=>c&&p(c)]}const Ka=(s,o,l=3)=>{let u=0;const c=Nx(50,250);return Sx(m=>{const p=m.loaded,h=m.lengthComputable?m.total:void 0,y=p-u,x=c(y),g=p<=h;u=p;const j={loaded:p,total:h,progress:h?p/h:void 0,bytes:y,rate:x||void 0,estimated:x&&h&&g?(h-p)/x:void 0,event:m,lengthComputable:h!=null,[o?"download":"upload"]:!0};s(j)},l)},Ec=(s,o)=>{const l=s!=null;return[u=>o[0]({lengthComputable:l,total:s,loaded:u}),o[1]]},Pc=s=>(...o)=>I.asap(()=>s(...o)),Cx=ut.hasStandardBrowserEnv?((s,o)=>l=>(l=new URL(l,ut.origin),s.protocol===l.protocol&&s.host===l.host&&(o||s.port===l.port)))(new URL(ut.origin),ut.navigator&&/(msie|trident)/i.test(ut.navigator.userAgent)):()=>!0,Ex=ut.hasStandardBrowserEnv?{write(s,o,l,u,c,m,p){if(typeof document>"u")return;const h=[`${s}=${encodeURIComponent(o)}`];I.isNumber(l)&&h.push(`expires=${new Date(l).toUTCString()}`),I.isString(u)&&h.push(`path=${u}`),I.isString(c)&&h.push(`domain=${c}`),m===!0&&h.push("secure"),I.isString(p)&&h.push(`SameSite=${p}`),document.cookie=h.join("; ")},read(s){if(typeof document>"u")return null;const o=document.cookie.match(new RegExp("(?:^|; )"+s+"=([^;]*)"));return o?decodeURIComponent(o[1]):null},remove(s){this.write(s,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Px(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function Rx(s,o){return o?s.replace(/\/?\/$/,"")+"/"+o.replace(/^\/+/,""):s}function Sm(s,o,l){let u=!Px(o);return s&&(u||l==!1)?Rx(s,o):o}const Rc=s=>s instanceof jt?{...s}:s;function Jr(s,o){o=o||{};const l={};function u(x,g,j,A){return I.isPlainObject(x)&&I.isPlainObject(g)?I.merge.call({caseless:A},x,g):I.isPlainObject(g)?I.merge({},g):I.isArray(g)?g.slice():g}function c(x,g,j,A){if(I.isUndefined(g)){if(!I.isUndefined(x))return u(void 0,x,j,A)}else return u(x,g,j,A)}function m(x,g){if(!I.isUndefined(g))return u(void 0,g)}function p(x,g){if(I.isUndefined(g)){if(!I.isUndefined(x))return u(void 0,x)}else return u(void 0,g)}function h(x,g,j){if(j in o)return u(x,g);if(j in s)return u(void 0,x)}const y={url:m,method:m,data:m,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,withXSRFToken:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:h,headers:(x,g,j)=>c(Rc(x),Rc(g),j,!0)};return I.forEach(Object.keys({...s,...o}),function(g){const j=y[g]||c,A=j(s[g],o[g],g);I.isUndefined(A)&&j!==h||(l[g]=A)}),l}const Cm=s=>{const o=Jr({},s);let{data:l,withXSRFToken:u,xsrfHeaderName:c,xsrfCookieName:m,headers:p,auth:h}=o;if(o.headers=p=jt.from(p),o.url=vm(Sm(o.baseURL,o.url,o.allowAbsoluteUrls),s.params,s.paramsSerializer),h&&p.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),I.isFormData(l)){if(ut.hasStandardBrowserEnv||ut.hasStandardBrowserWebWorkerEnv)p.setContentType(void 0);else if(I.isFunction(l.getHeaders)){const y=l.getHeaders(),x=["content-type","content-length"];Object.entries(y).forEach(([g,j])=>{x.includes(g.toLowerCase())&&p.set(g,j)})}}if(ut.hasStandardBrowserEnv&&(u&&I.isFunction(u)&&(u=u(o)),u||u!==!1&&Cx(o.url))){const y=c&&m&&Ex.read(m);y&&p.set(c,y)}return o},Ax=typeof XMLHttpRequest<"u",Lx=Ax&&function(s){return new Promise(function(l,u){const c=Cm(s);let m=c.data;const p=jt.from(c.headers).normalize();let{responseType:h,onUploadProgress:y,onDownloadProgress:x}=c,g,j,A,O,R;function T(){O&&O(),R&&R(),c.cancelToken&&c.cancelToken.unsubscribe(g),c.signal&&c.signal.removeEventListener("abort",g)}let w=new XMLHttpRequest;w.open(c.method.toUpperCase(),c.url,!0),w.timeout=c.timeout;function U(){if(!w)return;const Y=jt.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),H={data:!h||h==="text"||h==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:Y,config:s,request:w};Nm(function(ie){l(ie),T()},function(ie){u(ie),T()},H),w=null}"onloadend"in w?w.onloadend=U:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(U)},w.onabort=function(){w&&(u(new je("Request aborted",je.ECONNABORTED,s,w)),w=null)},w.onerror=function(M){const H=M&&M.message?M.message:"Network Error",K=new je(H,je.ERR_NETWORK,s,w);K.event=M||null,u(K),w=null},w.ontimeout=function(){let M=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const H=c.transitional||wm;c.timeoutErrorMessage&&(M=c.timeoutErrorMessage),u(new je(M,H.clarifyTimeoutError?je.ETIMEDOUT:je.ECONNABORTED,s,w)),w=null},m===void 0&&p.setContentType(null),"setRequestHeader"in w&&I.forEach(p.toJSON(),function(M,H){w.setRequestHeader(H,M)}),I.isUndefined(c.withCredentials)||(w.withCredentials=!!c.withCredentials),h&&h!=="json"&&(w.responseType=c.responseType),x&&([A,R]=Ka(x,!0),w.addEventListener("progress",A)),y&&w.upload&&([j,O]=Ka(y),w.upload.addEventListener("progress",j),w.upload.addEventListener("loadend",O)),(c.cancelToken||c.signal)&&(g=Y=>{w&&(u(!Y||Y.type?new Ln(null,s,w):Y),w.abort(),w=null)},c.cancelToken&&c.cancelToken.subscribe(g),c.signal&&(c.signal.aborted?g():c.signal.addEventListener("abort",g)));const B=jx(c.url);if(B&&ut.protocols.indexOf(B)===-1){u(new je("Unsupported protocol "+B+":",je.ERR_BAD_REQUEST,s));return}w.send(m||null)})},_x=(s,o)=>{const{length:l}=s=s?s.filter(Boolean):[];if(o||l){let u=new AbortController,c;const m=function(x){if(!c){c=!0,h();const g=x instanceof Error?x:this.reason;u.abort(g instanceof je?g:new Ln(g instanceof Error?g.message:g))}};let p=o&&setTimeout(()=>{p=null,m(new je(`timeout ${o} of ms exceeded`,je.ETIMEDOUT))},o);const h=()=>{s&&(p&&clearTimeout(p),p=null,s.forEach(x=>{x.unsubscribe?x.unsubscribe(m):x.removeEventListener("abort",m)}),s=null)};s.forEach(x=>x.addEventListener("abort",m));const{signal:y}=u;return y.unsubscribe=()=>I.asap(h),y}},Tx=function*(s,o){let l=s.byteLength;if(l<o){yield s;return}let u=0,c;for(;u<l;)c=u+o,yield s.slice(u,c),u=c},Mx=async function*(s,o){for await(const l of Ox(s))yield*Tx(l,o)},Ox=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const o=s.getReader();try{for(;;){const{done:l,value:u}=await o.read();if(l)break;yield u}}finally{await o.cancel()}},Ac=(s,o,l,u)=>{const c=Mx(s,o);let m=0,p,h=y=>{p||(p=!0,u&&u(y))};return new ReadableStream({async pull(y){try{const{done:x,value:g}=await c.next();if(x){h(),y.close();return}let j=g.byteLength;if(l){let A=m+=j;l(A)}y.enqueue(new Uint8Array(g))}catch(x){throw h(x),x}},cancel(y){return h(y),c.return()}},{highWaterMark:2})},Lc=64*1024,{isFunction:Ia}=I,Dx=(({Request:s,Response:o})=>({Request:s,Response:o}))(I.global),{ReadableStream:_c,TextEncoder:Tc}=I.global,Mc=(s,...o)=>{try{return!!s(...o)}catch{return!1}},Fx=s=>{s=I.merge.call({skipUndefined:!0},Dx,s);const{fetch:o,Request:l,Response:u}=s,c=o?Ia(o):typeof fetch=="function",m=Ia(l),p=Ia(u);if(!c)return!1;const h=c&&Ia(_c),y=c&&(typeof Tc=="function"?(R=>T=>R.encode(T))(new Tc):async R=>new Uint8Array(await new l(R).arrayBuffer())),x=m&&h&&Mc(()=>{let R=!1;const T=new l(ut.origin,{body:new _c,method:"POST",get duplex(){return R=!0,"half"}}).headers.has("Content-Type");return R&&!T}),g=p&&h&&Mc(()=>I.isReadableStream(new u("").body)),j={stream:g&&(R=>R.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(R=>{!j[R]&&(j[R]=(T,w)=>{let U=T&&T[R];if(U)return U.call(T);throw new je(`Response type '${R}' is not supported`,je.ERR_NOT_SUPPORT,w)})});const A=async R=>{if(R==null)return 0;if(I.isBlob(R))return R.size;if(I.isSpecCompliantForm(R))return(await new l(ut.origin,{method:"POST",body:R}).arrayBuffer()).byteLength;if(I.isArrayBufferView(R)||I.isArrayBuffer(R))return R.byteLength;if(I.isURLSearchParams(R)&&(R=R+""),I.isString(R))return(await y(R)).byteLength},O=async(R,T)=>{const w=I.toFiniteNumber(R.getContentLength());return w??A(T)};return async R=>{let{url:T,method:w,data:U,signal:B,cancelToken:Y,timeout:M,onDownloadProgress:H,onUploadProgress:K,responseType:ie,headers:pe,withCredentials:be="same-origin",fetchOptions:we}=Cm(R),he=o||fetch;ie=ie?(ie+"").toLowerCase():"text";let ue=_x([B,Y&&Y.toAbortSignal()],M),Se=null;const oe=ue&&ue.unsubscribe&&(()=>{ue.unsubscribe()});let $;try{if(K&&x&&w!=="get"&&w!=="head"&&($=await O(pe,U))!==0){let S=new l(T,{method:"POST",body:U,duplex:"half"}),z;if(I.isFormData(U)&&(z=S.headers.get("content-type"))&&pe.setContentType(z),S.body){const[ce,se]=Ec($,Ka(Pc(K)));U=Ac(S.body,Lc,ce,se)}}I.isString(be)||(be=be?"include":"omit");const te=m&&"credentials"in l.prototype,xe={...we,signal:ue,method:w.toUpperCase(),headers:pe.normalize().toJSON(),body:U,duplex:"half",credentials:te?be:void 0};Se=m&&new l(T,xe);let E=await(m?he(Se,we):he(T,xe));const q=g&&(ie==="stream"||ie==="response");if(g&&(H||q&&oe)){const S={};["status","statusText","headers"].forEach(ge=>{S[ge]=E[ge]});const z=I.toFiniteNumber(E.headers.get("content-length")),[ce,se]=H&&Ec(z,Ka(Pc(H),!0))||[];E=new u(Ac(E.body,Lc,ce,()=>{se&&se(),oe&&oe()}),S)}ie=ie||"text";let G=await j[I.findKey(j,ie)||"text"](E,R);return!q&&oe&&oe(),await new Promise((S,z)=>{Nm(S,z,{data:G,headers:jt.from(E.headers),status:E.status,statusText:E.statusText,config:R,request:Se})})}catch(te){throw oe&&oe(),te&&te.name==="TypeError"&&/Load failed|fetch/i.test(te.message)?Object.assign(new je("Network Error",je.ERR_NETWORK,R,Se),{cause:te.cause||te}):je.from(te,te&&te.code,R,Se)}}},Ix=new Map,Em=s=>{let o=s&&s.env||{};const{fetch:l,Request:u,Response:c}=o,m=[u,c,l];let p=m.length,h=p,y,x,g=Ix;for(;h--;)y=m[h],x=g.get(y),x===void 0&&g.set(y,x=h?new Map:Fx(o)),g=x;return x};Em();const yi={http:tx,xhr:Lx,fetch:{get:Em}};I.forEach(yi,(s,o)=>{if(s){try{Object.defineProperty(s,"name",{value:o})}catch{}Object.defineProperty(s,"adapterName",{value:o})}});const Oc=s=>`- ${s}`,zx=s=>I.isFunction(s)||s===null||s===!1;function Ux(s,o){s=I.isArray(s)?s:[s];const{length:l}=s;let u,c;const m={};for(let p=0;p<l;p++){u=s[p];let h;if(c=u,!zx(u)&&(c=yi[(h=String(u)).toLowerCase()],c===void 0))throw new je(`Unknown adapter '${h}'`);if(c&&(I.isFunction(c)||(c=c.get(o))))break;m[h||"#"+p]=c}if(!c){const p=Object.entries(m).map(([y,x])=>`adapter ${y} `+(x===!1?"is not supported by the environment":"is not available in the build"));let h=l?p.length>1?`since :
`+p.map(Oc).join(`
`):" "+Oc(p[0]):"as no adapter specified";throw new je("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return c}const Pm={getAdapter:Ux,adapters:yi};function Go(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Ln(null,s)}function Dc(s){return Go(s),s.headers=jt.from(s.headers),s.data=Qo.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),Pm.getAdapter(s.adapter||Cs.adapter,s)(s).then(function(u){return Go(s),u.data=Qo.call(s,s.transformResponse,u),u.headers=jt.from(u.headers),u},function(u){return jm(u)||(Go(s),u&&u.response&&(u.response.data=Qo.call(s,s.transformResponse,u.response),u.response.headers=jt.from(u.response.headers))),Promise.reject(u)})}const Rm="1.13.1",Za={};["object","boolean","number","function","string","symbol"].forEach((s,o)=>{Za[s]=function(u){return typeof u===s||"a"+(o<1?"n ":" ")+s}});const Fc={};Za.transitional=function(o,l,u){function c(m,p){return"[Axios v"+Rm+"] Transitional option '"+m+"'"+p+(u?". "+u:"")}return(m,p,h)=>{if(o===!1)throw new je(c(p," has been removed"+(l?" in "+l:"")),je.ERR_DEPRECATED);return l&&!Fc[p]&&(Fc[p]=!0,console.warn(c(p," has been deprecated since v"+l+" and will be removed in the near future"))),o?o(m,p,h):!0}};Za.spelling=function(o){return(l,u)=>(console.warn(`${u} is likely a misspelling of ${o}`),!0)};function $x(s,o,l){if(typeof s!="object")throw new je("options must be an object",je.ERR_BAD_OPTION_VALUE);const u=Object.keys(s);let c=u.length;for(;c-- >0;){const m=u[c],p=o[m];if(p){const h=s[m],y=h===void 0||p(h,m,s);if(y!==!0)throw new je("option "+m+" must be "+y,je.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new je("Unknown option "+m,je.ERR_BAD_OPTION)}}const Wa={assertOptions:$x,validators:Za},er=Wa.validators;let Gr=class{constructor(o){this.defaults=o||{},this.interceptors={request:new Sc,response:new Sc}}async request(o,l){try{return await this._request(o,l)}catch(u){if(u instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const m=c.stack?c.stack.replace(/^.+\n/,""):"";try{u.stack?m&&!String(u.stack).endsWith(m.replace(/^.+\n.+\n/,""))&&(u.stack+=`
`+m):u.stack=m}catch{}}throw u}}_request(o,l){typeof o=="string"?(l=l||{},l.url=o):l=o||{},l=Jr(this.defaults,l);const{transitional:u,paramsSerializer:c,headers:m}=l;u!==void 0&&Wa.assertOptions(u,{silentJSONParsing:er.transitional(er.boolean),forcedJSONParsing:er.transitional(er.boolean),clarifyTimeoutError:er.transitional(er.boolean)},!1),c!=null&&(I.isFunction(c)?l.paramsSerializer={serialize:c}:Wa.assertOptions(c,{encode:er.function,serialize:er.function},!0)),l.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?l.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:l.allowAbsoluteUrls=!0),Wa.assertOptions(l,{baseUrl:er.spelling("baseURL"),withXsrfToken:er.spelling("withXSRFToken")},!0),l.method=(l.method||this.defaults.method||"get").toLowerCase();let p=m&&I.merge(m.common,m[l.method]);m&&I.forEach(["delete","get","head","post","put","patch","common"],R=>{delete m[R]}),l.headers=jt.concat(p,m);const h=[];let y=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(l)===!1||(y=y&&T.synchronous,h.unshift(T.fulfilled,T.rejected))});const x=[];this.interceptors.response.forEach(function(T){x.push(T.fulfilled,T.rejected)});let g,j=0,A;if(!y){const R=[Dc.bind(this),void 0];for(R.unshift(...h),R.push(...x),A=R.length,g=Promise.resolve(l);j<A;)g=g.then(R[j++],R[j++]);return g}A=h.length;let O=l;for(;j<A;){const R=h[j++],T=h[j++];try{O=R(O)}catch(w){T.call(this,w);break}}try{g=Dc.call(this,O)}catch(R){return Promise.reject(R)}for(j=0,A=x.length;j<A;)g=g.then(x[j++],x[j++]);return g}getUri(o){o=Jr(this.defaults,o);const l=Sm(o.baseURL,o.url,o.allowAbsoluteUrls);return vm(l,o.params,o.paramsSerializer)}};I.forEach(["delete","get","head","options"],function(o){Gr.prototype[o]=function(l,u){return this.request(Jr(u||{},{method:o,url:l,data:(u||{}).data}))}});I.forEach(["post","put","patch"],function(o){function l(u){return function(m,p,h){return this.request(Jr(h||{},{method:o,headers:u?{"Content-Type":"multipart/form-data"}:{},url:m,data:p}))}}Gr.prototype[o]=l(),Gr.prototype[o+"Form"]=l(!0)});let Bx=class Am{constructor(o){if(typeof o!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(m){l=m});const u=this;this.promise.then(c=>{if(!u._listeners)return;let m=u._listeners.length;for(;m-- >0;)u._listeners[m](c);u._listeners=null}),this.promise.then=c=>{let m;const p=new Promise(h=>{u.subscribe(h),m=h}).then(c);return p.cancel=function(){u.unsubscribe(m)},p},o(function(m,p,h){u.reason||(u.reason=new Ln(m,p,h),l(u.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(o){if(this.reason){o(this.reason);return}this._listeners?this._listeners.push(o):this._listeners=[o]}unsubscribe(o){if(!this._listeners)return;const l=this._listeners.indexOf(o);l!==-1&&this._listeners.splice(l,1)}toAbortSignal(){const o=new AbortController,l=u=>{o.abort(u)};return this.subscribe(l),o.signal.unsubscribe=()=>this.unsubscribe(l),o.signal}static source(){let o;return{token:new Am(function(c){o=c}),cancel:o}}};function Hx(s){return function(l){return s.apply(null,l)}}function Wx(s){return I.isObject(s)&&s.isAxiosError===!0}const ri={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ri).forEach(([s,o])=>{ri[o]=s});function Lm(s){const o=new Gr(s),l=im(Gr.prototype.request,o);return I.extend(l,Gr.prototype,o,{allOwnKeys:!0}),I.extend(l,o,null,{allOwnKeys:!0}),l.create=function(c){return Lm(Jr(s,c))},l}const We=Lm(Cs);We.Axios=Gr;We.CanceledError=Ln;We.CancelToken=Bx;We.isCancel=jm;We.VERSION=Rm;We.toFormData=Xa;We.AxiosError=je;We.Cancel=We.CanceledError;We.all=function(o){return Promise.all(o)};We.spread=Hx;We.isAxiosError=Wx;We.mergeConfig=Jr;We.AxiosHeaders=jt;We.formToJSON=s=>km(I.isHTMLForm(s)?new FormData(s):s);We.getAdapter=Pm.getAdapter;We.HttpStatusCode=ri;We.default=We;const{Axios:zg,AxiosError:Ug,CanceledError:$g,isCancel:Bg,CancelToken:Hg,VERSION:Wg,all:Vg,Cancel:Kg,isAxiosError:qg,spread:Qg,toFormData:Gg,AxiosHeaders:Jg,HttpStatusCode:Yg,formToJSON:Xg,getAdapter:Zg,mergeConfig:ey}=We,Vx="https://mercure-group.onrender.com",ve=We.create({baseURL:Vx,timeout:5e3,headers:{"Content-Type":"application/json"}});ve.interceptors.request.use(s=>{const o=localStorage.getItem("token");return o&&(s.headers.Authorization=`Bearer ${o}`),s.headers["Content-Type"]="application/json",s},s=>Promise.reject(s));ve.interceptors.response.use(s=>s,s=>(s.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("role"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(s)));const Qr=()=>ve.get("/api/members"),Kx=s=>ve.post("/api/members",s),qx=(s,o)=>ve.put(`/api/members/${s}`,o),Qx=s=>ve.delete(`/api/members/${s}`),Gx=s=>ve.put(`/api/members/${s}/approve`),Jx=()=>ve.get("/api/savings-with-members"),Yx=s=>ve.post("/api/add-saving",s),Ic=()=>ve.get("/api/get-total-savings"),Xx=s=>ve.post("/api/afterschool/pay",s),Zx=s=>ve.post("/api/add-afterschool",s),eg=()=>ve.get("/api/afterschool"),_m=()=>ve.get("/api/financial/summary"),tg=(s,o)=>ve.put(`/api/savings/${s}`,o),rg=s=>ve.delete(`/api/savings/${s}`),bi=()=>ve.get("/api/loans-with-members"),ng=s=>ve.post("/api/request-loan",s),sg=s=>ve.post("/api/request-loan-pending",s),ag=(s,o)=>ve.post(`/api/loans/${s}/repay`,{payment_amount:o}),Jo=s=>ve.put(`/api/loans/${s}/approve`),zc=(s,o)=>ve.put(`/api/loans/${s}/reject`,{reason:o}),lg=()=>ve.get("/api/loans/stats"),og=s=>ve.get(`/api/loans/${s}`),ig=s=>ve.post("/api/repay-loan-pending",s),dg=s=>ve.get(`/api/loans/${s}/repayments`),Uc=()=>ve.put("/api/loans/apply-interest"),$c=()=>ve.put("/api/loans/apply-penalty"),vi=()=>ve.get("/api/fines-with-members"),ug=()=>ve.put("/api/fines/flag-inactive"),cg=s=>ve.post("/api/add-fine",s),mg=s=>ve.post("/api/pay-fine-pending",s),fg=s=>ve.put(`/api/fines/${s}/pay`),pg=s=>ve.post("/api/announcements",s),hg=()=>ve.get("/api/announcements"),xg=s=>ve.delete(`/api/announcements/${s}`),wi=()=>ve.get("/api/leaderboard/top-savers"),ki=()=>ve.get("/api/group-progress"),ji=()=>ve.get("/api/members-dropdown"),Ni=()=>ve.get("/api/pending-transactions"),Bc=s=>ve.post("/api/pending-transactions",s),Tm=s=>ve.put(`/api/pending-transactions/${s}/approve`),_n=()=>localStorage.getItem("role"),gg=s=>ve.post("/api/register",s);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ni=function(s,o){return ni=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var c in u)u.hasOwnProperty(c)&&(l[c]=u[c])},ni(s,o)};function yg(s,o){ni(s,o);function l(){this.constructor=s}s.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}var bg=100,vg=100,Hc=50,si=50,ai=50;function Wc(s){var o=s.className,l=s.counterClockwise,u=s.dashRatio,c=s.pathRadius,m=s.strokeWidth,p=s.style;return v.createElement("path",{className:o,style:Object.assign({},p,kg({pathRadius:c,dashRatio:u,counterClockwise:l})),d:wg({pathRadius:c,counterClockwise:l}),strokeWidth:m,fillOpacity:0})}function wg(s){var o=s.pathRadius,l=s.counterClockwise,u=o,c=l?1:0;return`
      M `+si+","+ai+`
      m 0,-`+u+`
      a `+u+","+u+" "+c+" 1 1 0,"+2*u+`
      a `+u+","+u+" "+c+" 1 1 0,-"+2*u+`
    `}function kg(s){var o=s.counterClockwise,l=s.dashRatio,u=s.pathRadius,c=Math.PI*2*u,m=(1-l)*c;return{strokeDasharray:c+"px "+c+"px",strokeDashoffset:(o?-m:m)+"px"}}var jg=(function(s){yg(o,s);function o(){return s!==null&&s.apply(this,arguments)||this}return o.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},o.prototype.getPathRadius=function(){return Hc-this.props.strokeWidth/2-this.getBackgroundPadding()},o.prototype.getPathRatio=function(){var l=this.props,u=l.value,c=l.minValue,m=l.maxValue,p=Math.min(Math.max(u,c),m);return(p-c)/(m-c)},o.prototype.render=function(){var l=this.props,u=l.circleRatio,c=l.className,m=l.classes,p=l.counterClockwise,h=l.styles,y=l.strokeWidth,x=l.text,g=this.getPathRadius(),j=this.getPathRatio();return v.createElement("svg",{className:m.root+" "+c,style:h.root,viewBox:"0 0 "+bg+" "+vg,"data-test-id":"CircularProgressbar"},this.props.background?v.createElement("circle",{className:m.background,style:h.background,cx:si,cy:ai,r:Hc}):null,v.createElement(Wc,{className:m.trail,counterClockwise:p,dashRatio:u,pathRadius:g,strokeWidth:y,style:h.trail}),v.createElement(Wc,{className:m.path,counterClockwise:p,dashRatio:j*u,pathRadius:g,strokeWidth:y,style:h.path}),x?v.createElement("text",{className:m.text,style:h.text,x:si,y:ai},x):null)},o.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},o})(v.Component);function Ng(s){var o=s.rotation,l=s.strokeLinecap,u=s.textColor,c=s.textSize,m=s.pathColor,p=s.pathTransition,h=s.pathTransitionDuration,y=s.trailColor,x=s.backgroundColor,g=o==null?void 0:"rotate("+o+"turn)",j=o==null?void 0:"center center";return{root:{},path:za({stroke:m,strokeLinecap:l,transform:g,transformOrigin:j,transition:p,transitionDuration:h+"s"}),trail:za({stroke:y,strokeLinecap:l,transform:g,transformOrigin:j}),text:za({fill:u,fontSize:c}),background:za({fill:x})}}function za(s){return Object.keys(s).forEach(function(o){s[o]==null&&delete s[o]}),s}function Sg(){const[s,o]=v.useState([]),[l,u]=v.useState(0),[c,m]=v.useState([]),[p,h]=v.useState(null),[y]=v.useState(120450),[x,g]=v.useState(!0),[j,A]=v.useState({totalMembers:0,totalSavings:0,activeLoans:0,progress:0}),[O,R]=v.useState(""),[T,w]=v.useState(null),[U,B]=v.useState({}),[Y,M]=v.useState(null);v.useEffect(()=>{const he=_n(),ue=JSON.parse(localStorage.getItem("user"));R(he),w(ue),he==="Treasurer"||he==="admin"?H():K(ue)},[]);const H=async()=>{try{g(!0);const[he,ue,Se,oe,$,te]=await Promise.allSettled([Qr(),_m(),bi(),wi(),ki(),vi()]);let xe=[];he.status==="fulfilled"&&(xe=Array.isArray(he.value?.data)?he.value.data:he.value||[]),o(xe);let E=0;ue.status==="fulfilled"&&(E=ue.value.data.total_savings),u(E);let q=[];Se.status==="fulfilled"&&(q=Array.isArray(Se.value?.data)?Se.value.data:Se.value||[]);const G=q.filter(se=>se.status==="approved"||se.status==="pending").length;m(q);let S=[];oe.status==="fulfilled"&&(S=oe.value.data),h(S),$.status==="fulfilled"&&M($.value?.data||$.value);let z=[];te.status==="fulfilled"&&(z=te.value.data);const ce=Math.min(E/y*100,100);A({totalMembers:xe.length,totalSavings:E,activeLoans:G,progress:ce})}catch(he){console.error("Dashboard fetch error:",he)}finally{g(!1)}},K=async he=>{try{g(!0);const ue=await Qr(),oe=(Array.isArray(ue?.data)?ue.data:ue||[]).find($=>$.email===he?.email||$.member_code===he?.member_code||$.username===he?.username);if(oe){B({name:oe.name,memberCode:oe.member_code,balance:oe.balance||0,totalSavings:oe.total_savings||0,loans:oe.loans||0,fines:oe.fines||0,afterschool:oe.afterschool||0});const te=Math.min((oe.balance||0)/10950*100,100);A({totalMembers:1,totalSavings:oe.balance||0,activeLoans:oe.loans||0,progress:te})}else B({name:he?.name||"Member",memberCode:he?.member_code||"N/A",balance:0,totalSavings:0,loans:0,fines:0,afterschool:0})}catch(ue){console.error("User data fetch error:",ue)}finally{g(!1)}},ie=O==="member"?U.balance||0:l||0,pe=Math.min(ie/y*100,100),be=Array.isArray(p)?p:p?[p]:[],we=O==="member"?U.loans||0:j.activeLoans||0;return x?r.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-50 dark:bg-gray-900",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading dashboard..."})]})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50/30 dark:from-gray-900 dark:to-blue-900/20 p-4 sm:p-6 font-sans",children:[r.jsxs("div",{className:"mb-6 sm:mb-8",children:[r.jsx("h1",{className:"text-3xl sm:text-4xl font-bold bg-gradient-to-r from-purple-600 to-blue-500 bg-clip-text text-transparent dark:from-purple-400 dark:to-blue-400",children:O==="member"?"My Dashboard":"Group Dashboard"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2 text-sm sm:text-base",children:O==="member"?`Welcome back, ${U.name||"Member"}!`:"Welcome to your Mercure management dashboard"}),O==="member"&&r.jsx("div",{className:"mt-4 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-100 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Member Code"}),r.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:["#",U.memberCode]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Current Balance"}),r.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["Ksh ",U.balance?.toLocaleString()||"0"]})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[r.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-4 sm:p-6 shadow-lg border border-gray-100 dark:border-gray-700 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:O==="member"?"My Status":"Total Members"}),r.jsx("h3",{className:"text-2xl sm:text-3xl font-bold text-gray-800 dark:text-white mt-2",children:O==="member"?"Active":j.totalMembers||0}),r.jsxs("p",{className:"text-green-500 dark:text-green-400 text-sm mt-1 flex items-center",children:[r.jsx("span",{className:"w-2 h-2 bg-green-500 dark:bg-green-400 rounded-full mr-2"}),O==="member"?"Member in good standing":"Active community"]})]}),r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-purple-500 to-purple-600 dark:from-purple-600 dark:to-purple-700 rounded-xl flex items-center justify-center text-white",children:O==="member"?"":""})]})}),r.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-4 sm:p-6 shadow-lg border border-gray-100 dark:border-gray-700 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:O==="member"?"My Savings":"Total Savings"}),r.jsxs("h3",{className:"text-2xl sm:text-3xl font-bold text-gray-800 dark:text-white mt-2",children:["Ksh ",ie.toLocaleString()]}),r.jsxs("p",{className:"text-blue-500 dark:text-blue-400 text-sm mt-1 flex items-center",children:[r.jsx("span",{className:"w-2 h-2 bg-blue-500 dark:bg-blue-400 rounded-full mr-2"}),O==="member"?"Personal savings":"Group savings"]})]}),r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-green-500 to-green-600 dark:from-green-600 dark:to-green-700 rounded-xl flex items-center justify-center text-white",children:""})]})}),r.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-4 sm:p-6 shadow-lg border border-gray-100 dark:border-gray-700 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:O==="member"?"My Loans":"Active Loans"}),r.jsx("h3",{className:"text-2xl sm:text-3xl font-bold text-gray-800 dark:text-white mt-2",children:we}),r.jsxs("p",{className:"text-orange-500 dark:text-orange-400 text-sm mt-1 flex items-center",children:[r.jsx("span",{className:"w-2 h-2 bg-orange-500 dark:bg-orange-400 rounded-full mr-2"}),O==="member"?"Current loans":"Active loans"]})]}),r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-orange-500 to-orange-600 dark:from-orange-600 dark:to-orange-700 rounded-xl flex items-center justify-center text-white",children:""})]})}),r.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-4 sm:p-6 shadow-lg border border-gray-100 dark:border-gray-700 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:O==="member"?"My Progress":"Savings Goal"}),r.jsxs("h3",{className:"text-2xl sm:text-3xl font-bold text-gray-800 dark:text-white mt-2",children:[pe.toFixed(0),"%"]}),r.jsxs("p",{className:"text-purple-500 dark:text-purple-400 text-sm mt-1 flex items-center",children:[r.jsx("span",{className:"w-2 h-2 bg-purple-500 dark:bg-purple-400 rounded-full mr-2"}),O==="member"?"Personal target":`Target: Ksh ${y.toLocaleString()}`]})]}),r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-pink-500 to-pink-600 dark:from-pink-600 dark:to-pink-700 rounded-xl flex items-center justify-center text-white",children:""})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-4 sm:p-6 shadow-lg border border-gray-100 dark:border-gray-700",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 sm:mb-6 gap-2",children:[r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-800 dark:text-white",children:O==="member"?"My Savings Progress":"Group Savings Progress"}),r.jsxs("span",{className:"px-3 py-1 bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-400 rounded-full text-sm font-medium",children:[pe.toFixed(1),"% Complete"]})]}),r.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6 sm:gap-8",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{style:{width:120,height:120},children:r.jsx(jg,{value:pe,text:`${pe.toFixed(0)}%`,styles:Ng({textColor:"#7c3aed",pathColor:"#7c3aed",trailColor:"#e5e7eb",textSize:"16px",pathTransitionDuration:1})})})}),r.jsx("div",{className:"flex-1 w-full",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400 mb-1",children:[r.jsx("span",{children:O==="member"?"My Savings":"Current Savings"}),r.jsxs("span",{className:"font-semibold dark:text-white",children:["Ksh ",ie.toLocaleString()]})]}),r.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:r.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 h-3 rounded-full transition-all duration-1000 ease-out",style:{width:`${pe}%`}})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400 mb-1",children:[r.jsx("span",{children:O==="member"?"My Target":"Target Goal"}),r.jsxs("span",{className:"font-semibold dark:text-white",children:["Ksh ",y.toLocaleString()]})]}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:y-ie>0?`Ksh ${(y-ie).toLocaleString()} needed to reach goal`:" Goal achieved!"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4 pt-2",children:[r.jsxs("div",{className:"text-center p-3 bg-purple-50 dark:bg-purple-900/30 rounded-lg",children:[r.jsx("div",{className:"text-purple-600 dark:text-purple-400 font-bold text-base sm:text-lg",children:O==="member"?"You":j.totalMembers||0}),r.jsx("div",{className:"text-purple-500 dark:text-purple-300 text-xs",children:O==="member"?"Member":"Members"})]}),r.jsxs("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:[r.jsx("div",{className:"text-blue-600 dark:text-blue-400 font-bold text-base sm:text-lg",children:we}),r.jsx("div",{className:"text-blue-500 dark:text-blue-300 text-xs",children:O==="member"?"My Loans":"Active Loans"})]})]})]})})]})]}),(O==="Treasurer"||O==="admin")&&r.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-4 sm:p-6 shadow-lg border border-gray-100 dark:border-gray-700",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 sm:mb-6 gap-2",children:[r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-800 dark:text-white",children:"Top Savers"}),r.jsx("span",{className:"px-3 py-1 bg-yellow-100 dark:bg-yellow-900 text-yellow-600 dark:text-yellow-400 rounded-full text-sm font-medium",children:" Leaderboard"})]}),r.jsx("div",{className:"space-y-3 sm:space-y-4",children:be.length>0?be.slice(0,5).map((he,ue)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-gray-50 to-white dark:from-gray-700 dark:to-gray-800 rounded-xl border border-gray-100 dark:border-gray-600 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-bold ${ue===0?"bg-yellow-500":ue===1?"bg-gray-400":ue===2?"bg-orange-500":"bg-purple-500"}`,children:ue+1}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-800 dark:text-white text-sm sm:text-base",children:he.name||`Member ${ue+1}`}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["#",he.member_code||"N/A"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-bold text-green-600 dark:text-green-400 text-sm sm:text-base",children:["Ksh ",(he.balance||he.total_savings||he.savings||0).toLocaleString()]}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Savings"})]})]},he.id||ue)):r.jsxs("div",{className:"text-center py-6 sm:py-8 text-gray-500 dark:text-gray-400",children:[r.jsx("div",{className:"text-3xl sm:text-4xl mb-2",children:""}),r.jsx("p",{className:"text-sm sm:text-base",children:"No leaderboard data yet"}),r.jsx("p",{className:"text-xs sm:text-sm mt-1",children:"Start saving to appear here!"})]})}),be.length>5&&r.jsxs("button",{className:"w-full mt-4 text-center text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300 text-sm font-medium py-2",children:["View All ",be.length," Members "]})]}),O==="member"&&r.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-4 sm:p-6 shadow-lg border border-gray-100 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-800 dark:text-white",children:"Quick Actions"}),r.jsx("span",{className:"px-3 py-1 bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-400 rounded-full text-sm font-medium",children:" Actions"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("button",{onClick:()=>window.location.href="/savings",className:"w-full bg-gradient-to-r from-purple-500 to-blue-500 text-white py-3 px-4 rounded-xl font-semibold hover:from-purple-600 hover:to-blue-600 transform hover:scale-105 transition-all duration-300 shadow-lg",children:" Add Savings"}),r.jsx("button",{onClick:()=>window.location.href="/loans",className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 text-white py-3 px-4 rounded-xl font-semibold hover:from-green-600 hover:to-emerald-600 transform hover:scale-105 transition-all duration-300 shadow-lg",children:" View My Loans"}),r.jsx("button",{onClick:()=>window.location.href="/fines",className:"w-full bg-gradient-to-r from-orange-500 to-red-500 text-white py-3 px-4 rounded-xl font-semibold hover:from-orange-600 hover:to-red-600 transform hover:scale-105 transition-all duration-300 shadow-lg",children:" Check Fines"})]}),r.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/30 rounded-xl border border-blue-200 dark:border-blue-700",children:[r.jsx("h3",{className:"font-semibold text-blue-800 dark:text-blue-300 mb-2 text-sm sm:text-base",children:" Payment Information"}),r.jsxs("div",{className:"text-xs sm:text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Paybill:"})," 522522"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Account:"})," 1341299678"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Reference:"})," Your Member Code #",U.memberCode]})]})]})]})]}),r.jsxs("div",{className:"mt-6 sm:mt-8 grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4 text-center",children:[r.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 rounded-xl p-3 sm:p-4",children:[r.jsx("div",{className:"text-xl sm:text-2xl font-bold text-purple-600 dark:text-purple-400",children:O==="member"?"You":j.totalMembers||0}),r.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-xs sm:text-sm",children:O==="member"?"Member":"Total Members"})]}),r.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 rounded-xl p-3 sm:p-4",children:[r.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-green-600 dark:text-green-400",children:["Ksh ",ie.toLocaleString()]}),r.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-xs sm:text-sm",children:O==="member"?"My Savings":"Group Savings"})]}),r.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 rounded-xl p-3 sm:p-4",children:[r.jsx("div",{className:"text-xl sm:text-2xl font-bold text-orange-600 dark:text-orange-400",children:we}),r.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-xs sm:text-sm",children:O==="member"?"My Loans":"Active Loans"})]}),r.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 rounded-xl p-3 sm:p-4",children:[r.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-blue-600 dark:text-blue-400",children:[pe.toFixed(0),"%"]}),r.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-xs sm:text-sm",children:O==="member"?"My Progress":"Goal Progress"})]})]})]})}function Cg(){const[s,o]=v.useState([]),[l,u]=v.useState(!0),[c,m]=v.useState(""),[p,h]=v.useState("savers");v.useEffect(()=>{console.log(" Leaderboard component mounted"),y()},[]);const y=async()=>{u(!0),m("");try{console.log(" Making API call to backend...");const x=await wi();console.log(" API Response:",x),console.log(" API Data:",x.data);let g=[];Array.isArray(x?.data)?g=x.data:(console.warn(" Unexpected API response format:",x?.data),g=[]),console.log(" Final leaders data:",g),o(g)}catch(x){console.error(" Leaderboard fetch error:",x),m("Failed to load leaderboard: "+(x.message||"Check backend connection")),o([])}finally{u(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-purple-50/30 dark:from-gray-900 dark:via-gray-800 dark:to-purple-900/20 font-['Inter'] transition-colors duration-300",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-pink-500 bg-clip-text text-transparent mb-2",children:" Leaderboard"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"Track top performers in your community"})]}),c&&r.jsx("div",{className:"bg-red-50 dark:bg-red-900/50 border border-red-200 dark:border-red-700 text-red-700 dark:text-red-300 px-6 py-4 rounded-2xl mb-6 transition-colors duration-300",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"mr-3 text-xl",children:""}),r.jsxs("div",{children:[r.jsx("strong",{className:"font-semibold",children:"Error:"})," ",c,r.jsx("div",{className:"text-sm mt-1 text-red-600 dark:text-red-400",children:"Make sure your backend is running properly"})]})]})}),r.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-3xl shadow-xl border border-gray-200/50 dark:border-gray-700/50 overflow-hidden transition-all duration-300 hover:shadow-2xl",children:[r.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700/50 dark:to-gray-800/50",children:r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:" Top Savers"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Members with highest savings contributions"})]}),r.jsx("div",{className:"flex items-center gap-2 text-sm",children:r.jsxs("span",{className:"bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-300 px-3 py-1 rounded-full font-medium",children:[s.length," Members"]})})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700/80 dark:to-gray-800/80 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("th",{className:"text-left p-4 font-semibold text-gray-700 dark:text-gray-300 text-sm uppercase tracking-wider",children:"Rank"}),r.jsx("th",{className:"text-left p-4 font-semibold text-gray-700 dark:text-gray-300 text-sm uppercase tracking-wider",children:"Member"}),r.jsx("th",{className:"text-left p-4 font-semibold text-gray-700 dark:text-gray-300 text-sm uppercase tracking-wider",children:"Role"}),r.jsx("th",{className:"text-right p-4 font-semibold text-gray-700 dark:text-gray-300 text-sm uppercase tracking-wider",children:"Total Savings"})]})}),r.jsx("tbody",{children:l?r.jsx("tr",{children:r.jsx("td",{colSpan:"4",className:"p-8 text-center",children:r.jsxs("div",{className:"flex flex-col items-center justify-center",children:[r.jsx("div",{className:"w-12 h-12 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Loading leaderboard..."})]})})}):s.length>0?s.map((x,g)=>r.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50/50 dark:hover:bg-gray-700/30 transition-all duration-200 group",children:[r.jsx("td",{className:"p-4",children:r.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-sm transition-transform duration-300 group-hover:scale-110 ${g===0?"bg-gradient-to-br from-yellow-400 to-yellow-500 shadow-lg shadow-yellow-500/25":g===1?"bg-gradient-to-br from-gray-400 to-gray-500 shadow-lg shadow-gray-500/25":g===2?"bg-gradient-to-br from-orange-400 to-orange-500 shadow-lg shadow-orange-500/25":"bg-gradient-to-br from-purple-500 to-purple-600 shadow-lg shadow-purple-500/25"}`,children:g===0?"":g===1?"":g===2?"":g+1})}),r.jsxs("td",{className:"p-4",children:[r.jsx("div",{className:"font-semibold text-gray-800 dark:text-gray-100 text-lg",children:x.name||"Unknown Member"}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["ID: ",x.member_code||x.id||"N/A"]})]}),r.jsx("td",{className:"p-4",children:r.jsx("span",{className:`px-3 py-2 rounded-full text-sm font-medium border ${x.role==="Treasurer"?"bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/50 dark:text-purple-300 dark:border-purple-700":x.role==="Chairperson"?"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/50 dark:text-blue-300 dark:border-blue-700":x.role==="Organizer"?"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/50 dark:text-green-300 dark:border-green-700":x.role==="Secretary"?"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/50 dark:text-yellow-300 dark:border-yellow-700":"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-700/50 dark:text-gray-300 dark:border-gray-600"}`,children:x.role||"Member"})}),r.jsxs("td",{className:"p-4 text-right",children:[r.jsxs("div",{className:"font-bold text-xl text-green-600 dark:text-green-400",children:["Ksh ",(x.total_savings||x.balance||0).toLocaleString()]}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Total Contributions"})]})]},x.id||x._id||g)):r.jsx("tr",{children:r.jsx("td",{colSpan:"4",className:"p-8 text-center",children:r.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-500 dark:text-gray-400",children:[r.jsx("div",{className:"text-5xl mb-4",children:""}),r.jsx("p",{className:"text-lg font-medium mb-2",children:"No leaderboard data available"}),r.jsx("p",{className:"text-sm",children:"Start saving to appear on the leaderboard!"})]})})})})]})}),r.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 border-t border-gray-200 dark:border-gray-600 text-center",children:r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 text-sm",children:[r.jsxs("div",{className:"text-gray-600 dark:text-gray-400",children:[r.jsx("span",{className:"font-medium",children:"Last updated:"})," ",new Date().toLocaleDateString()]}),r.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:["Real data loaded from backend  ",s.length," records"]})]})})]}),r.jsx("div",{className:"text-center mt-8",children:r.jsx("button",{onClick:y,disabled:l,className:"bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 disabled:from-gray-400 disabled:to-gray-500 text-white font-semibold py-3 px-8 rounded-xl transition-all duration-300 transform hover:scale-105 disabled:scale-100 shadow-lg shadow-purple-500/25 disabled:shadow-none",children:l?r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Refreshing..."]}):" Refresh Leaderboard"})}),s.length>0&&r.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-gray-200/50 dark:border-gray-700/50 text-center transition-all duration-300 hover:shadow-xl",children:[r.jsx("div",{className:"text-3xl mb-2",children:""}),r.jsx("div",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:s[0]?.name||"N/A"}),r.jsxs("div",{className:"text-green-600 dark:text-green-400 font-semibold text-lg mt-1",children:["Ksh ",(s[0]?.total_savings||0).toLocaleString()]}),r.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm mt-2",children:"Top Saver"})]}),r.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-gray-200/50 dark:border-gray-700/50 text-center transition-all duration-300 hover:shadow-xl",children:[r.jsx("div",{className:"text-3xl mb-2",children:""}),r.jsx("div",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:s.length}),r.jsx("div",{className:"text-purple-600 dark:text-purple-400 font-semibold text-lg mt-1",children:"Active Members"}),r.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm mt-2",children:"On Leaderboard"})]}),r.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-gray-200/50 dark:border-gray-700/50 text-center transition-all duration-300 hover:shadow-xl",children:[r.jsx("div",{className:"text-3xl mb-2",children:""}),r.jsxs("div",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:["Ksh ",s.reduce((x,g)=>x+(g.total_savings||0),0).toLocaleString()]}),r.jsx("div",{className:"text-blue-600 dark:text-blue-400 font-semibold text-lg mt-1",children:"Total Savings"}),r.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm mt-2",children:"Combined"})]})]})]})})}function Eg(){const[s,o]=v.useState([]),[l,u]=v.useState({name:"",role:"Member",phone:"",email:"",idNumber:"",username:"",password:"",dob:""}),[c,m]=v.useState({}),[p,h]=v.useState(!1),[y,x]=v.useState(""),[g,j]=v.useState(null),[A,O]=v.useState({}),[R,T]=v.useState(null),[w,U]=v.useState(""),[B,Y]=v.useState("");v.useEffect(()=>{M(),Y(_n())},[]);const M=async()=>{h(!0),x("");try{const E=await Qr();console.log(" API Response:",E);let q=[];Array.isArray(E.data)?q=E.data:(console.warn(" Unexpected API response format:",E.data),q=[]),console.log(" Final members data:",q),o(q)}catch(E){console.error("Failed to fetch members",E),x("Failed to load members"),o([])}finally{h(!1)}},H=async()=>{const E={};if(l.name||(E.name="Name is required"),l.phone||(E.phone="Phone is required"),l.email||(E.email="Email is required"),l.member_code||(E.member_code="Member code is required"),l.username||(E.username="Username required"),(!l.password||l.password.length<6)&&(E.password="Password min 6 chars"),m(E),!(Object.keys(E).length>0))try{h(!0);const q={name:l.name,role:l.role,phone:l.phone,email:l.email,member_code:l.member_code,username:l.username,password:l.password};await Kx(q),u({name:"",role:"Member",phone:"",email:"",member_code:"",username:"",password:"",dob:""}),m({}),await M()}catch(q){console.error("Add member failed",q),x("Add member failed: "+(q.response?.data?.error||"Unknown error"))}finally{h(!1)}},K=async E=>{try{if(!window.confirm("Delete this member?"))return;await Qx(E),await M()}catch(q){console.error("Delete failed",q),x("Delete failed: "+(q.response?.data?.error||"Unknown error"))}},ie=async E=>{try{await Gx(E),await M()}catch(q){console.error("Approve failed",q),x("Approve failed: "+(q.response?.data?.error||"Unknown error"))}},pe=E=>{j(E.id),O({name:E.name||"",role:E.role||"Member",phone:E.phone||"",email:E.email||"",member_code:E.member_code||"",balance:E.balance||0})},be=()=>{j(null),O({})},we=(E,q)=>{O(G=>({...G,[E]:q}))},he=async()=>{try{h(!0);const E={name:A.name,role:A.role,phone:A.phone,email:A.email,member_code:A.member_code};await qx(g,E),await M(),be()}catch(E){console.error("Update failed",E),x("Update failed: "+(E.response?.data?.error||"Unknown error"))}finally{h(!1)}},ue=E=>{T(E)},Se=()=>{T(null)},oe=Array.isArray(s)?s.filter(E=>E?.name?.toLowerCase().includes(w.toLowerCase())||E?.email?.toLowerCase().includes(w.toLowerCase())||E?.role?.toLowerCase().includes(w.toLowerCase())||E?.member_code?.toLowerCase().includes(w.toLowerCase())):[],$=Array.isArray(s)?s.length:0,te=Array.isArray(oe)?oe.length:0,xe=B==="Treasurer"||B==="admin";return r.jsxs("div",{className:"p-4 sm:p-6 font-sans",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 sm:mb-8 gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-purple-600 to-blue-500 bg-clip-text text-transparent",children:"Members"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"Manage your community members"})]}),r.jsxs("div",{className:"relative w-full sm:w-64",children:[r.jsx("input",{type:"text",placeholder:"Search members...",value:w,onChange:E=>U(E.target.value),className:"w-full px-4 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:text-white"}),r.jsx("span",{className:"absolute right-3 top-2.5 text-gray-400",children:""})]})]}),(B==="Treasurer"||B==="admin")&&r.jsxs("div",{className:"mb-6 sm:mb-8 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-4 sm:p-6 shadow-lg border border-gray-100 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Add New Member"}),r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-purple-500 to-blue-500 flex items-center justify-center text-white text-sm",children:"+"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name"}),r.jsx("input",{type:"text",placeholder:"Enter full name",value:l.name,onChange:E=>u({...l,name:E.target.value}),className:"w-full p-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone"}),r.jsx("input",{type:"number",placeholder:"eg. 07********",value:l.phone,onChange:E=>u({...l,phone:E.target.value}),className:"w-full p-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),r.jsx("input",{type:"email",placeholder:"eg. mercure@gmail.com",value:l.email,onChange:E=>u({...l,email:E.target.value}),className:"w-full p-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Member Code"}),r.jsx("input",{type:"number",placeholder:"e.g., 001, 002",value:l.member_code,onChange:E=>u({...l,member_code:E.target.value}),className:"w-full p-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Date of Birth"}),r.jsx("input",{type:"date",value:l.dob,onChange:E=>u({...l,dob:E.target.value}),className:"w-full p-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Username"}),r.jsx("input",{type:"text",placeholder:"eg. @mercure",value:l.username,onChange:E=>u({...l,username:E.target.value}),className:"w-full p-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),r.jsx("input",{type:"password",placeholder:"Min 6 characters",value:l.password,onChange:E=>u({...l,password:E.target.value}),className:"w-full p-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Role"}),r.jsxs("select",{value:l.role,onChange:E=>u({...l,role:E.target.value}),className:"w-full p-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",children:[r.jsx("option",{value:"Chairperson",children:"Chairperson"}),r.jsx("option",{value:"Deputy Chairperson",children:"Deputy Chairperson"}),r.jsx("option",{value:"Secretary",children:"Secretary"}),r.jsx("option",{value:"Treasurer",children:"Treasurer"}),r.jsx("option",{value:"Organizer",children:"Organizer"}),r.jsx("option",{value:"Head of Security",children:"Head of Security"}),r.jsx("option",{value:"Editor",children:"Editor"}),r.jsx("option",{value:"Member",children:"Member"})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:H,disabled:p,className:"w-full bg-gradient-to-r from-purple-600 to-blue-500 hover:from-purple-700 hover:to-blue-600 disabled:from-gray-400 disabled:to-gray-500 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 transform hover:scale-105 disabled:scale-100 shadow-lg",children:p?r.jsxs("span",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Adding..."]}):"Add Member "})})]}),Object.values(c).map((E,q)=>r.jsxs("div",{className:"text-sm text-red-500 bg-red-50 p-2 rounded-lg mt-2 flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),E]},q))]}),r.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-4 sm:p-6 shadow-lg border border-gray-100 dark:border-gray-700",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 sm:mb-6 gap-4",children:[r.jsxs("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 dark:text-gray-100",children:["All Members (",te,")",w&&te!==$&&r.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 ml-2",children:["(of ",$," total)"]})]}),p&&r.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[r.jsx("div",{className:"w-3 h-3 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mr-2"}),"Loading..."]})]}),y&&r.jsxs("div",{className:"bg-red-50 dark:bg-red-900/50 border border-red-200 dark:border-red-700 text-red-700 dark:text-red-300 px-4 py-3 rounded-xl mb-4 flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),y]}),r.jsx("div",{className:"overflow-x-auto rounded-xl",children:r.jsxs("table",{className:"w-full min-w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700/50 dark:to-gray-800/50",children:[r.jsx("th",{className:"text-left p-3 sm:p-4 font-semibold text-gray-700 dark:text-gray-300 text-sm sm:text-base",children:"Member Code"}),r.jsx("th",{className:"text-left p-3 sm:p-4 font-semibold text-gray-700 dark:text-gray-300 text-sm sm:text-base",children:"Name"}),r.jsx("th",{className:"text-left p-3 sm:p-4 font-semibold text-gray-700 dark:text-gray-300 text-sm sm:text-base",children:"Role"}),r.jsx("th",{className:"text-left p-3 sm:p-4 font-semibold text-gray-700 dark:text-gray-300 text-sm sm:text-base",children:"Balance"}),(B==="Treasurer"||B==="admin")&&r.jsx("th",{className:"text-left p-3 sm:p-4 font-semibold text-gray-700 dark:text-gray-300 text-sm sm:text-base",children:"Actions"})]})}),r.jsx("tbody",{children:te>0?oe.map(E=>r.jsx("tr",{className:"border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50/50 dark:hover:bg-gray-700/20 transition-colors duration-150",children:g===E.id?r.jsxs(r.Fragment,{children:[r.jsx("td",{className:"p-3 sm:p-4",children:r.jsx("input",{value:A.member_code||"",onChange:q=>we("member_code",q.target.value),className:"w-full p-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-purple-500 text-sm",placeholder:"Member code"})}),r.jsx("td",{className:"p-3 sm:p-4",children:r.jsx("input",{value:A.name||"",onChange:q=>we("name",q.target.value),className:"w-full p-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-purple-500 text-sm",placeholder:"Full name"})}),r.jsx("td",{className:"p-3 sm:p-4",children:r.jsxs("select",{value:A.role||"",onChange:q=>we("role",q.target.value),className:"w-full p-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-purple-500 text-sm",children:[r.jsx("option",{value:"Chairperson",children:"Chairperson"}),r.jsx("option",{value:"Deputy Chairperson",children:"Deputy Chairperson"}),r.jsx("option",{value:"Secretary",children:"Secretary"}),r.jsx("option",{value:"Treasurer",children:"Treasurer"}),r.jsx("option",{value:"Organizer",children:"Organizer"}),r.jsx("option",{value:"Head of Security",children:"Head of Security"}),r.jsx("option",{value:"Editor",children:"Editor"}),r.jsx("option",{value:"Member",children:"Member"})]})}),r.jsx("td",{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"font-bold text-green-600 text-sm",children:["Ksh ",A.balance?.toLocaleString()||"0"]})}),r.jsxs("td",{className:"p-3 sm:p-4 space-x-2",children:[r.jsx("button",{onClick:he,className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded-lg transition-colors text-sm",children:" Save"}),r.jsx("button",{onClick:be,className:"bg-gray-500 hover:bg-gray-600 text-white px-3 py-1 rounded-lg transition-colors text-sm",children:" Cancel"})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("td",{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"font-bold text-purple-600 dark:text-purple-400 text-sm sm:text-base",children:["#",E.member_code]})}),r.jsx("td",{className:"p-3 sm:p-4 font-medium text-gray-800 dark:text-gray-100 text-sm sm:text-base",children:E.name}),r.jsx("td",{className:"p-3 sm:p-4",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E.role==="Treasurer"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300":E.role==="Chairperson"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300":E.role==="Organizer"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:E.role})}),r.jsx("td",{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"font-bold text-green-600 text-sm sm:text-base",children:["Ksh ",E.balance?.toLocaleString()||"0"]})}),(B==="Treasurer"||B==="admin")&&r.jsx("td",{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>ue(E),className:"bg-blue-500 hover:bg-blue-600 text-white p-2 rounded-lg transition-all duration-200 transform hover:scale-105 text-sm",title:"View Details",children:""}),r.jsx("button",{onClick:()=>pe(E),className:"bg-yellow-500 hover:bg-yellow-600 text-white p-2 rounded-lg transition-all duration-200 transform hover:scale-105 text-sm",title:"Edit",children:""}),r.jsx("button",{onClick:()=>K(E.id),className:"bg-red-500 hover:bg-red-600 text-white p-2 rounded-lg transition-all duration-200 transform hover:scale-105 text-sm",title:"Delete",children:""}),E.status==="pending"&&r.jsx("button",{onClick:()=>ie(E.id),className:"bg-green-500 hover:bg-green-600 text-white p-2 rounded-lg transition-all duration-200 transform hover:scale-105 text-sm",title:"Approve",children:""})]})})]})},E.id)):r.jsx("tr",{children:r.jsx("td",{colSpan:xe?"5":"4",className:"p-8 text-center text-gray-500 dark:text-gray-400",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("span",{className:"text-4xl mb-2",children:""}),r.jsx("p",{children:"No members found"}),w&&r.jsx("p",{className:"text-sm mt-1",children:"Try adjusting your search"})]})})})})]})})]}),R&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-md shadow-xl animate-in fade-in-zoom-in",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:"Member Details"}),r.jsx("button",{onClick:Se,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:""})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Member Code:"}),r.jsxs("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:["#",R.member_code]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Name:"}),r.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:R.name})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Role:"}),r.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:R.role})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Balance:"}),r.jsxs("span",{className:"font-medium text-green-600 dark:text-green-400",children:["Ksh ",R.balance?.toLocaleString()||"0"]})]}),(B==="Treasurer"||B==="admin")&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Phone:"}),r.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:R.phone||"-"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Email:"}),r.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:R.email||"-"})]})]})]}),r.jsx("button",{onClick:Se,className:"w-full mt-6 bg-gradient-to-r from-purple-600 to-blue-500 hover:from-purple-700 hover:to-blue-600 text-white font-semibold py-3 rounded-xl transition-all duration-200 transform hover:scale-105",children:"Close"})]})})]})}const Ar=[{member_code:"001",name:"Hemston Odege",role:"Chairperson",balance:2180,total_savings:2180,debts:0,afterschool:550,loans:0,fines:0,email:"hemstonodege@gmail.com",username:"morningstar",password:"pass001",phone:"0708692752"},{member_code:"002",name:"James Blessing",role:"Deputy Chairperson",balance:120,total_savings:120,debts:600,afterschool:250,loans:0,fines:0,email:"jamesblessings22122@gmail.com",username:"jay bless",password:"James2005",phone:"0759461630"},{member_code:"003",name:"Peter Omondi",role:"Secretary",balance:2100,total_savings:2100,debts:400,afterschool:400,loans:0,fines:0,email:"peteromondi@gmail.com",username:"sketcher7",password:"pass003",phone:"0727906729"},{member_code:"004",name:"Kevin Buxton",role:"Treasurer",balance:1890,total_savings:1890,debts:240,afterschool:400,loans:0,fines:0,email:"kevinbuxton2005@gmail.com",username:"delaquez",password:"@Delaquez6",phone:"0112009871"},{member_code:"005",name:"Phelix Odhiambo",role:"Organizer",balance:2850,total_savings:2850,debts:0,afterschool:250,loans:0,fines:0,email:"phelixodhiambo@gmail.com",username:"phelix",password:"pass005",phone:"0740499128"},{member_code:"006",name:"Meshack Odhiambo",role:"Head of Security",balance:3600,total_savings:3600,debts:440,afterschool:450,loans:0,fines:0,email:"okothmeshack15@gmail.com",username:"meshack",password:"pass006",phone:"0739669233"},{member_code:"007",name:"Ashley Isca",role:"Editor",balance:2240,total_savings:2240,debts:0,afterschool:450,loans:2e3,fines:0,email:"berylbaraza38@gmail.com",username:"isca",password:"1234..tems",phone:"0740136631"},{member_code:"008",name:"Bayden Phelix",role:"Member",balance:600,total_savings:600,debts:660,afterschool:150,loans:0,fines:100,email:"baydenphelix@gmail.com",username:"bayden",password:"pass008",phone:"0796437516"},{member_code:"009",name:"Jacob Onyango",role:"Member",balance:270,total_savings:270,debts:810,afterschool:0,loans:0,fines:100,email:"jacobonyango@gmail.com",username:"jacob",password:"pass009",phone:"0112978002"},{member_code:"010",name:"Martin Okello",role:"Member",balance:0,total_savings:0,debts:650,afterschool:0,loans:0,fines:0,email:"martin@gmail.com",username:"martin",password:"pass010",phone:"0701302727"},{member_code:"011",name:"Lenox Javan",role:"Member",balance:0,total_savings:0,debts:500,afterschool:100,loans:0,fines:100,email:"lenox@gmail.com",username:"lenox",password:"pass011",phone:"0757341511"}];function Pg(){const[s,o]=v.useState([]),[l,u]=v.useState(0),[c,m]=v.useState([]),[p,h]=v.useState({member_code:"",amount:""}),[y,x]=v.useState({member_code:"",amount:""}),[g,j]=v.useState(!1),[A,O]=v.useState(""),[R,T]=v.useState(""),[w,U]=v.useState(null),[B,Y]=v.useState("savings"),[M,H]=v.useState(""),[K,ie]=v.useState(null),[pe,be]=v.useState([]),[we,he]=v.useState([]),[ue,Se]=v.useState(null);v.useEffect(()=>{const P=_n(),Z=JSON.parse(localStorage.getItem("user"));H(P),ie(Z),console.log(" Fetching data for user:",Z),console.log(" User role:",P),console.log(" API Base URL:","Using proxy"),oe(),$(),te(),xe(),E(),q()},[]);const oe=async()=>{j(!0),O("");try{const P=await Jx(),Z=Array.isArray(P?.data)?P.data:[];let Pe=Z;if(M==="member"){const Ke=K?.member_code;Pe=Z.filter(Nt=>Nt.member_code===Ke)}o(Pe);const ct=Pe.reduce((Ke,Nt)=>Ke+Number(Nt.amount||0),0);u(ct)}catch(P){console.error("fetchSavings failed",P),o([]),u(0),O("Failed to load savings data ")}finally{j(!1)}},$=async()=>{try{const P=await eg(),Z=Array.isArray(P?.data)?P.data:[];let Pe=Z;if(M==="member"){const ct=K?.member_code;Pe=Z.filter(Ke=>Ke.member_code===ct)}m(Pe)}catch(P){console.error("fetchAfterschool failed",P),m([])}},te=async()=>{try{const P=await _m();U(P.data||{})}catch(P){console.error("fetchFinancialSummary failed",P)}},xe=async()=>{try{if(M==="admin"||M==="Treasurer"){const P=await Ni();be(P.data||[])}}catch(P){console.error("fetchPendingTransactions failed",P),be([])}},E=async()=>{try{const P=await ji();he(P.data||[])}catch(P){console.error("fetchMembersDropdown failed",P),he([])}},q=async()=>{try{const P=await ki();Se(P.data||{})}catch(P){console.error("fetchGroupProgress failed",P)}},G=async()=>{if(!p.amount){O("Please enter amount! ");return}if(Number(p.amount)<=0){O("Please enter a valid amount! ");return}try{const P=M==="member"?K.member_code:p.member_code;if(!P){O("Member code is required!");return}if(M==="member"){const Z={member_code:P,amount:Number(p.amount),type:"savings",proof_image:""};await Bc(Z),h({member_code:"",amount:""}),T("Savings submitted for admin approval!  We will notify you once approved.")}else await Yx({member_code:P,amount:Number(p.amount)}),h({member_code:"",amount:""}),T(`Savings of Ksh ${p.amount} added successfully! `);setTimeout(()=>T(""),5e3),await oe(),await te(),await xe()}catch{O("Failed to process savings request ")}},S=async P=>{const Z=prompt("Enter new amount:",P.amount);if(Z&&!isNaN(Z))try{await tg(P.id,{amount:parseFloat(Z)}),T("Savings updated successfully!"),setTimeout(()=>T(""),3e3),await oe(),await te()}catch(Pe){console.error("Error updating savings:",Pe),O("Error updating savings")}},z=async P=>{if(window.confirm("Are you sure you want to delete this savings record?"))try{await rg(P),T("Savings record deleted successfully!"),setTimeout(()=>T(""),3e3),await oe(),await te()}catch(Z){console.error("Error deleting savings:",Z),O("Error deleting savings")}},ce=async()=>{const P=M==="member"?K.member_code:y.member_code,Z=M==="member"?150:y.amount;if(!Z){O("Please enter amount! ");return}if(Number(Z)<=0){O("Please enter a valid amount! ");return}if(!P){O("Member code is required!");return}try{if(M==="member"){const Pe={member_code:P,amount:Number(Z),type:"afterschool",proof_image:""};await Bc(Pe),x({member_code:"",amount:""}),T("After-school contribution submitted for approval! ")}else await Zx({member_code:P,amount:Number(Z)}),x({member_code:"",amount:""}),T(`After-school contribution of Ksh ${Z} added successfully! `);setTimeout(()=>T(""),3e3),await $(),await te(),await xe()}catch{O("Failed to add after-school contribution ")}},se=async(P,Z)=>{try{await Xx(P),T("Payment marked as completed! "),setTimeout(()=>T(""),3e3),await $(),await te()}catch{O("Payment update failed ")}},ge=async P=>{try{await Tm(P),T("Transaction approved and balance updated! "),setTimeout(()=>T(""),3e3),await oe(),await $(),await te(),await xe()}catch{O("Approval failed ")}},ke={totalSavings:l,totalAfterSchool:c.reduce((P,Z)=>P+Number(Z.amount||0),0),pendingAfterSchool:c.filter(P=>!P.paid).length,totalAfterSchoolAmount:c.filter(P=>!P.paid).reduce((P,Z)=>P+Number(Z.amount||0),0),totalMembers:we.length,expectedAfterSchool:we.length*150,afterSchoolProgress:we.length>0?c.reduce((P,Z)=>P+Number(Z.amount||0),0)/(we.length*150)*100:0},Ne=M==="member"?s.filter(P=>P.member_code===K?.member_code):s,Ce=M==="member"?c.filter(P=>P.member_code===K?.member_code):c;return r.jsx("div",{className:"p-4 sm:p-6 bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-900 dark:to-blue-950 min-h-screen font-['Inter']",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[r.jsx("h1",{className:"text-3xl sm:text-4xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent mb-2",children:M==="member"?"My Savings":"Finance Dashboard"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm sm:text-base",children:M==="member"?"Manage your personal savings and contributions":"Manage savings and after-school payments"}),r.jsxs("button",{onClick:()=>{oe(),$(),te(),xe(),T("Data refreshed!"),setTimeout(()=>T(""),2e3)},className:"mt-4 bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2 mx-auto",children:[r.jsx("span",{children:""})," Refresh Data"]})]}),ue&&r.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 rounded-3xl p-4 sm:p-6 text-white shadow-xl mb-6 sm:mb-8",children:[r.jsxs("h3",{className:"text-lg sm:text-xl font-bold mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-xl sm:text-2xl",children:""}),"Group Savings Progress"]}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-lg sm:text-2xl font-bold",children:["Ksh ",ue.current_total?.toLocaleString()||"0"]}),r.jsx("div",{className:"text-xs sm:text-sm text-green-100",children:"Current Total"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-lg sm:text-2xl font-bold",children:["Ksh ",ue.yearly_target?.toLocaleString()||"0"]}),r.jsx("div",{className:"text-xs sm:text-sm text-green-100",children:"Yearly Target"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-lg sm:text-2xl font-bold",children:[ue.progress_percentage||"0","%"]}),r.jsx("div",{className:"text-xs sm:text-sm text-green-100",children:"Progress"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg sm:text-2xl font-bold",children:ue.total_members||"11"}),r.jsx("div",{className:"text-xs sm:text-sm text-green-100",children:"Members"})]})]}),r.jsx("div",{className:"mt-4 bg-white/20 rounded-2xl p-3",children:r.jsx("div",{className:"text-sm text-green-100",children:ue.message||"Track your group savings progress"})})]}),(M==="Treasurer"||M==="admin")&&pe.length>0&&r.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 dark:from-orange-900/50 dark:to-amber-900/50 rounded-3xl p-4 sm:p-6 shadow-xl border border-orange-200 dark:border-orange-800 mb-6 sm:mb-8",children:[r.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-xl sm:text-2xl",children:""})," Pending Approvals (",pe.length,")"]}),r.jsx("div",{className:"space-y-3",children:pe.map(P=>r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center bg-white dark:bg-gray-800 rounded-2xl p-4 border border-orange-200 dark:border-orange-700",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"font-semibold text-gray-800 dark:text-gray-100",children:["Member #",P.member_code," - ",P.type==="savings"?"Savings":"After-school"]}),r.jsxs("div",{className:"text-orange-600 dark:text-orange-400 font-bold",children:["Ksh ",P.amount]}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Submitted: ",new Date(P.created_at).toLocaleDateString()]})]}),r.jsx("button",{onClick:()=>ge(P.id),className:"mt-2 sm:mt-0 bg-green-500 text-white px-4 py-2 rounded-xl font-semibold hover:bg-green-600 transform hover:scale-105 transition-all duration-300 shadow-lg shadow-green-500/25 text-sm",children:"Approve "})]},P.id))})]}),w&&r.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-3xl p-4 sm:p-6 text-white shadow-xl mb-6 sm:mb-8",children:[r.jsxs("h3",{className:"text-lg sm:text-xl font-bold mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-xl sm:text-2xl",children:""}),M==="member"?"My Financial Summary":"Financial Summary"]}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-lg sm:text-2xl font-bold",children:["Ksh ",M==="member"?K?.balance||"0":w.total_savings?.toLocaleString()||"0"]}),r.jsx("div",{className:"text-xs sm:text-sm text-blue-100",children:M==="member"?"My Balance":"Total Savings"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-lg sm:text-2xl font-bold",children:["Ksh ",M==="member"?Ne.reduce((P,Z)=>P+Number(Z.amount||0),0).toLocaleString():w.total_loans?.toLocaleString()||"0"]}),r.jsx("div",{className:"text-xs sm:text-sm text-blue-100",children:M==="member"?"My Contributions":"Total Loans"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg sm:text-2xl font-bold",children:M==="member"?Ce.filter(P=>!P.paid).length:w.total_fines?.toLocaleString()||"0"}),r.jsx("div",{className:"text-xs sm:text-sm text-blue-100",children:M==="member"?"Pending":"Total Fines"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-lg sm:text-2xl font-bold",children:["Ksh ",M==="member"?K?.balance||"0":((w.total_savings||0)+(w.total_loans||0)).toLocaleString()]}),r.jsx("div",{className:"text-xs sm:text-sm text-blue-100",children:M==="member"?"Available":"Grand Total"})]})]})]}),M==="member"&&r.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/50 dark:to-emerald-900/50 rounded-3xl p-4 sm:p-6 shadow-xl border border-green-200 dark:border-green-800 mb-6 sm:mb-8",children:[r.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 dark:text-gray-100 mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"text-xl sm:text-2xl",children:""})," Payment Information"]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm sm:text-base",children:[r.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 rounded-2xl p-4 border border-green-200 dark:border-green-700 text-gray-800 dark:text-gray-200",children:[r.jsx("div",{className:"font-semibold text-green-800 dark:text-green-300 mb-2",children:"Bank Transfer"}),r.jsxs("div",{children:[r.jsx("strong",{children:"Paybill:"})," 522522"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Account:"})," 1341299678"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Reference:"})," #",K?.member_code]})]}),r.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 rounded-2xl p-4 border border-green-200 dark:border-green-700 text-gray-800 dark:text-gray-200",children:[r.jsx("div",{className:"font-semibold text-green-800 dark:text-green-300 mb-2",children:"After Payment"}),r.jsx("div",{children:"1. Make payment using above details"}),r.jsx("div",{children:"2. Submit your payment here"}),r.jsx("div",{children:"3. Wait for admin approval (1-2 hours)"}),r.jsx("div",{children:"4. Receive confirmation email"})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-purple-500 via-pink-500 to-red-500 rounded-3xl p-6 sm:p-8 text-white shadow-2xl mb-6 sm:mb-8 relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 opacity-10",children:[r.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-white rounded-full -translate-x-16 -translate-y-16"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-white rounded-full translate-x-20 translate-y-20"}),r.jsx("div",{className:"absolute top-1/2 left-1/2 w-24 h-24 bg-white rounded-full -translate-x-1/2 -translate-y-1/2"})]}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h3",{className:"text-xl sm:text-2xl font-bold flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl sm:text-3xl",children:""}),"Payment Instructions"]}),r.jsx("div",{className:"bg-white/20 rounded-2xl px-4 py-2",children:r.jsx("span",{className:"text-sm font-semibold",children:" M-Pesa"})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-white/20 rounded-2xl p-5 backdrop-blur-sm border border-white/30",children:[r.jsxs("h4",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[r.jsx("span",{children:""})," Bank Transfer Details"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/20",children:[r.jsx("span",{className:"font-semibold",children:"Paybill Number:"}),r.jsx("span",{className:"font-bold text-lg bg-white/20 px-3 py-1 rounded-lg",children:"522522"})]}),r.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/20",children:[r.jsx("span",{className:"font-semibold",children:"Account Number:"}),r.jsx("span",{className:"font-bold text-lg bg-white/20 px-3 py-1 rounded-lg",children:"1341299678"})]}),r.jsxs("div",{className:"flex justify-between items-center py-2",children:[r.jsx("span",{className:"font-semibold",children:"Reference:"}),r.jsxs("span",{className:"font-bold text-white bg-red-500/50 px-3 py-1 rounded-lg",children:["#",K?.member_code||"YOUR_CODE"]})]})]})]}),r.jsxs("div",{className:"bg-white/10 rounded-2xl p-4 border border-white/20",children:[r.jsxs("h5",{className:"font-bold mb-3 flex items-center gap-2",children:[r.jsx("span",{children:""})," Quick Steps"]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"bg-white text-purple-600 rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold",children:"1"}),r.jsx("span",{children:"Go to M-Pesa on your phone"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"bg-white text-purple-600 rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold",children:"2"}),r.jsx("span",{children:'Select "Pay Bill"'})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"bg-white text-purple-600 rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold",children:"3"}),r.jsxs("span",{children:["Enter Business No: ",r.jsx("strong",{children:"522522"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"bg-white text-purple-600 rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold",children:"4"}),r.jsxs("span",{children:["Enter Account No: ",r.jsx("strong",{children:"1341299678"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"bg-white text-purple-600 rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold",children:"5"}),r.jsx("span",{children:"Enter Amount and complete"})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-white/20 rounded-2xl p-5 backdrop-blur-sm border border-white/30",children:[r.jsxs("h4",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[r.jsx("span",{children:""})," Payment Reference Guide"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-yellow-500/20 rounded-xl p-4 border border-yellow-400/30",children:[r.jsx("div",{className:"font-semibold text-yellow-200 mb-2",children:" Important"}),r.jsxs("p",{className:"text-sm text-white/90",children:["Always use your member code ",r.jsxs("strong",{children:["#",K?.member_code||"YOUR_CODE"]})," as reference for easy tracking"]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{className:"bg-green-500/20 rounded-xl p-3 text-center border border-green-400/30",children:[r.jsx("div",{className:"text-2xl mb-1",children:""}),r.jsx("div",{className:"text-xs font-semibold",children:"Instant"}),r.jsx("div",{className:"text-xs opacity-90",children:"Processing"})]}),r.jsxs("div",{className:"bg-blue-500/20 rounded-xl p-3 text-center border border-blue-400/30",children:[r.jsx("div",{className:"text-2xl mb-1",children:""}),r.jsx("div",{className:"text-xs font-semibold",children:"Secure"}),r.jsx("div",{className:"text-xs opacity-90",children:"Payment"})]})]}),r.jsx("div",{className:"bg-white/10 rounded-xl p-3 mt-4",children:r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Need help? Contact Treasurer"})]})})]})]}),r.jsxs("button",{onClick:()=>{const P=`Paybill: 522522
Account: 1341299678
Reference: ${K?.member_code||"YOUR_CODE"}`;navigator.clipboard.writeText(P),T("Payment details copied to clipboard! "),setTimeout(()=>T(""),3e3)},className:"w-full bg-white text-purple-600 py-3 rounded-xl font-bold hover:bg-gray-100 transform hover:scale-105 transition-all duration-300 shadow-lg flex items-center justify-center gap-2",children:[r.jsx("span",{children:""}),"Copy Payment Details"]})]})]})]})]}),(A||R)&&r.jsx("div",{className:`mb-4 sm:mb-6 p-3 sm:p-4 rounded-2xl text-center font-medium transition-all duration-300 text-sm sm:text-base ${R?"bg-green-500/20 text-green-700 border border-green-500/30":"bg-red-500/20 text-red-700 border border-red-500/30"}`,children:R||A}),r.jsxs("div",{className:"flex bg-white/50 dark:bg-gray-800/50 rounded-2xl p-1 mb-6 sm:mb-8 shadow-lg border border-white/60 dark:border-gray-700",children:[r.jsxs("button",{onClick:()=>Y("savings"),className:`flex-1 py-2 sm:py-3 px-4 rounded-xl font-semibold transition-all duration-300 text-sm sm:text-base ${B==="savings"?"bg-gradient-to-r from-purple-500 to-blue-500 text-white shadow-lg":"text-gray-600 hover:text-gray-800 dark:text-gray-300 dark:hover:text-white"}`,children:[" ",M==="member"?"My Savings":"Regular Savings"]}),r.jsxs("button",{onClick:()=>Y("afterschool"),className:`flex-1 py-2 sm:py-3 px-4 rounded-xl font-semibold transition-all duration-300 text-sm sm:text-base ${B==="afterschool"?"bg-gradient-to-r from-purple-500 to-blue-500 text-white shadow-lg":"text-gray-600 hover:text-gray-800 dark:text-gray-300 dark:hover:text-white"}`,children:[" ",M==="member"?"My Contributions":"After-school"]})]}),B==="savings"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-3xl p-4 sm:p-6 shadow-xl border border-white/60 dark:border-gray-700 mb-6 sm:mb-8",children:[r.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-xl sm:text-2xl",children:M==="member"?"":""}),"Add New Savings"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 sm:gap-4 items-end",children:[M!=="member"&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mb-2 block",children:"Member"}),r.jsxs("select",{value:p.member_code,onChange:P=>h({...p,member_code:P.target.value}),className:"w-full bg-white dark:bg-gray-700 dark:text-white border border-gray-200 dark:border-gray-600 rounded-xl p-3 text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300",children:[r.jsx("option",{value:"",children:"Select Member"}),we.map(P=>r.jsxs("option",{value:P.member_code,children:[P.name," (",P.member_code,")"]},P.member_code))]})]}),M==="member"&&r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mb-2 block",children:"Your Member Code"}),r.jsxs("div",{className:"w-full bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl p-3 text-sm sm:text-base font-bold text-purple-600 dark:text-purple-400",children:["#",K?.member_code," - ",K?.name]})]}),r.jsxs("div",{className:M==="member"?"md:col-span-1":"",children:[r.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mb-2 block",children:"Amount (Ksh)"}),r.jsx("input",{type:"number",placeholder:"Amount ",value:p.amount,onChange:P=>h({...p,amount:P.target.value}),className:"w-full bg-white dark:bg-gray-700 dark:text-white border border-gray-200 dark:border-gray-600 rounded-xl p-3 text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300"})]}),r.jsx("button",{onClick:G,disabled:g,className:`bg-gradient-to-r from-purple-500 to-blue-500 text-white py-3 px-4 sm:px-6 rounded-xl font-semibold hover:from-purple-600 hover:to-blue-600 transform hover:scale-105 transition-all duration-300 shadow-lg shadow-purple-500/25 text-sm sm:text-base ${M==="member"?"md:col-span-1":""}`,children:g?"Processing...":M==="member"?"Submit for Approval ":"Add Saving "})]}),M==="member"&&r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-3",children:" Your savings will be added after admin verification (1-2 hours)"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-blue-500 rounded-3xl p-4 sm:p-6 text-white shadow-xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg sm:text-xl font-bold",children:M==="member"?"My Total Savings":"Total Savings"}),r.jsx("span",{className:"text-xl sm:text-2xl",children:""})]}),r.jsxs("p",{className:"text-2xl sm:text-3xl font-bold mb-4",children:["Ksh ",M==="member"?K?.balance?.toLocaleString()||"0":ke.totalSavings.toLocaleString()]}),r.jsxs("div",{className:"bg-white/20 rounded-2xl p-3 sm:p-4",children:[r.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2 text-sm sm:text-base",children:[r.jsx("span",{children:""})," Recent ",M==="member"?"My ":"","Transactions"]}),r.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:Ne.length>0?Ne.slice(0,5).map((P,Z)=>r.jsxs("div",{className:"flex justify-between items-center bg-white/10 rounded-xl p-2 sm:p-3",children:[r.jsx("span",{className:"font-medium text-xs sm:text-sm",children:M==="member"?"Savings":`${P.name} (${P.member_code})`}),r.jsxs("span",{className:"font-bold text-xs sm:text-sm",children:["Ksh ",P.amount]})]},P.id||Z)):r.jsx("p",{className:"text-white/70 text-center py-2 text-sm",children:"No savings yet "})})]})]}),r.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-3xl p-4 sm:p-6 shadow-xl border border-white/60 dark:border-gray-700",children:[r.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-xl sm:text-2xl",children:""}),M==="member"?"My Savings Overview":"Savings Overview"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 dark:bg-green-900/50 rounded-2xl border border-green-200 dark:border-green-800",children:[r.jsx("span",{className:"text-green-700 dark:text-green-300 font-semibold text-sm sm:text-base",children:M==="member"?"My Total Saved":"Total Members Saved"}),r.jsx("span",{className:"text-green-700 dark:text-green-300 font-bold text-sm sm:text-base",children:M==="member"?Ne.length:new Set(Ne.map(P=>P.member_code)).size})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 dark:bg-blue-900/50 rounded-2xl border border-blue-200 dark:border-blue-800",children:[r.jsx("span",{className:"text-blue-700 dark:text-blue-300 font-semibold text-sm sm:text-base",children:M==="member"?"My Transactions":"Total Transactions"}),r.jsx("span",{className:"text-blue-700 dark:text-blue-300 font-bold text-sm sm:text-base",children:Ne.length})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 dark:bg-purple-900/50 rounded-2xl border border-purple-200 dark:border-purple-800",children:[r.jsx("span",{className:"text-purple-700 dark:text-purple-300 font-semibold text-sm sm:text-base",children:M==="member"?"My Average":"Average Saving"}),r.jsxs("span",{className:"text-purple-700 dark:text-purple-300 font-bold text-sm sm:text-base",children:["Ksh ",Ne.length>0?Math.round(ke.totalSavings/Ne.length).toLocaleString():"0"]})]})]})]})]})]}),(M==="admin"||M==="Treasurer")&&Ne.length>0&&r.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-3xl p-4 sm:p-6 shadow-xl border border-white/60 dark:border-gray-700 mt-6",children:[r.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-xl sm:text-2xl",children:""}),"All Savings Records"]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-gray-800 dark:text-gray-200",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Member"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Amount"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Date"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Actions"})]})}),r.jsx("tbody",{children:Ne.map(P=>r.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[r.jsxs("td",{className:"py-3 px-4 text-sm",children:[r.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-100",children:P.name}),r.jsxs("div",{className:"text-gray-500 dark:text-gray-400 text-xs",children:["#",P.member_code]})]}),r.jsxs("td",{className:"py-3 px-4 text-sm font-semibold text-green-600 dark:text-green-400",children:["Ksh ",P.amount?.toLocaleString()]}),r.jsx("td",{className:"py-3 px-4 text-sm text-gray-600 dark:text-gray-400",children:P.date?new Date(P.date).toLocaleDateString():"N/A"}),r.jsx("td",{className:"py-3 px-4 text-sm",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>S(P),className:"text-blue-500 hover:text-blue-700 text-xs font-medium px-3 py-1 border border-blue-200 rounded-lg hover:bg-blue-50 transition-colors",children:"Edit"}),r.jsx("button",{onClick:()=>z(P.id),className:"text-red-500 hover:text-red-700 text-xs font-medium px-3 py-1 border border-red-200 rounded-lg hover:bg-red-50 transition-colors",children:"Delete"})]})})]},P.id))})]})})]}),B==="afterschool"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-3xl p-4 sm:p-6 shadow-xl border border-white/60 dark:border-gray-700 mb-6 sm:mb-8",children:[r.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-xl sm:text-2xl",children:M==="member"?"":""}),M==="member"?"Add My Contribution":"Add After-school Contribution"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 sm:gap-4 items-end",children:[M!=="member"&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mb-2 block",children:"Member"}),r.jsxs("select",{value:y.member_code,onChange:P=>x({...y,member_code:P.target.value}),className:"w-full bg-white dark:bg-gray-700 dark:text-white border border-gray-200 dark:border-gray-600 rounded-xl p-3 text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",children:[r.jsx("option",{value:"",children:"Select Member"}),we.map(P=>r.jsxs("option",{value:P.member_code,children:[P.name," (",P.member_code,")"]},P.member_code))]})]}),M==="member"&&r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mb-2 block",children:"Your Member Code"}),r.jsxs("div",{className:"w-full bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl p-3 text-sm sm:text-base font-bold text-blue-600 dark:text-blue-400",children:["#",K?.member_code," - ",K?.name]})]}),r.jsxs("div",{className:M==="member"?"md:col-span-1":"",children:[r.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mb-2 block",children:"Amount (Ksh)"}),r.jsx("input",{type:"number",placeholder:"Amount ",value:y.amount,onChange:P=>x({...y,amount:P.target.value}),className:"w-full bg-white dark:bg-gray-700 dark:text-white border border-gray-200 dark:border-gray-600 rounded-xl p-3 text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300"})]}),r.jsx("button",{onClick:ce,disabled:g,className:`bg-gradient-to-r from-blue-500 to-cyan-500 text-white py-3 px-4 sm:px-6 rounded-xl font-semibold hover:from-blue-600 hover:to-cyan-600 transform hover:scale-105 transition-all duration-300 shadow-lg shadow-blue-500/25 text-sm sm:text-base ${M==="member"?"md:col-span-1":""}`,children:g?"Processing...":M==="member"?"Submit for Approval ":"Add Contribution "})]}),M==="member"&&r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-3",children:" Your contribution will be added after admin verification"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl p-6 text-white shadow-xl mb-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-2xl font-bold mb-2 flex items-center gap-3",children:[r.jsx("span",{className:"text-3xl",children:""}),"After-School Records"]}),r.jsx("p",{className:"text-blue-100",children:"5 Payments per year: Feb, Apr, Jul, Aug, Nov  Ksh 150 each"})]}),r.jsx("div",{className:"bg-white/20 rounded-xl px-4 py-2 mt-4 md:mt-0",children:r.jsx("span",{className:"font-semibold",children:"Total: Ksh 4,650"})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white/10 rounded-xl p-5 backdrop-blur-sm",children:[r.jsxs("h4",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[r.jsx("span",{children:""})," Group Progress"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"grid grid-cols-5 gap-2",children:["Feb","Apr","Jul","Aug","Nov"].map((P,Z)=>{const Pe=Ar.filter(Ke=>Ke.afterschool>=(Z+1)*150).length,ct=Pe/Ar.length*100;return r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-semibold text-sm mb-1",children:P}),r.jsx("div",{className:"w-full bg-white/20 rounded-full h-2",children:r.jsx("div",{className:"bg-green-400 h-2 rounded-full transition-all",style:{width:`${ct}%`}})}),r.jsxs("div",{className:"text-xs mt-1",children:[Pe,"/",Ar.length]})]},P)})}),r.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[r.jsxs("div",{className:"bg-green-500/30 rounded-lg p-3",children:[r.jsx("div",{className:"text-lg font-bold",children:Ar.filter(P=>P.afterschool>=150).length}),r.jsx("div",{className:"text-xs",children:"Current"})]}),r.jsxs("div",{className:"bg-blue-500/30 rounded-lg p-3",children:[r.jsx("div",{className:"text-lg font-bold",children:Ar.filter(P=>P.afterschool>=750).length}),r.jsx("div",{className:"text-xs",children:"Fully Paid"})]}),r.jsxs("div",{className:"bg-purple-500/30 rounded-lg p-3",children:[r.jsx("div",{className:"text-lg font-bold",children:Ar.reduce((P,Z)=>P+Z.afterschool,0)/150}),r.jsx("div",{className:"text-xs",children:"Total Months"})]})]})]})]}),r.jsxs("div",{className:"bg-white/10 rounded-xl p-5 backdrop-blur-sm",children:[r.jsxs("h4",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[r.jsx("span",{children:""})," Your Progress"]}),K?(()=>{const P=Ar.find(Ke=>Ke.member_code===K.member_code),Z=P?P.afterschool:0,Pe=Math.floor(Z/150),ct=5-Pe;return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-lg",children:P?.name}),r.jsxs("div",{className:"text-blue-100 text-sm",children:["#",P?.member_code,"  ",P?.role]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold text-yellow-300",children:["Ksh ",Z]}),r.jsxs("div",{className:"text-sm text-blue-100",children:[Pe,"/5 months"]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Payment Progress:"}),r.jsxs("span",{className:"font-semibold",children:[Pe*20,"% complete"]})]}),r.jsx("div",{className:"w-full bg-white/20 rounded-full h-3",children:r.jsx("div",{className:"bg-yellow-400 h-3 rounded-full transition-all",style:{width:`${Pe*20}%`}})})]}),r.jsx("div",{className:"grid grid-cols-5 gap-2",children:["Feb","Apr","Jul","Aug","Nov"].map((Ke,Nt)=>{const Qt=Z>=(Nt+1)*150;return r.jsxs("div",{className:`text-center p-2 rounded-lg ${Qt?"bg-green-500/40":"bg-red-500/40"}`,children:[r.jsx("div",{className:"font-semibold text-sm",children:Ke}),r.jsx("div",{className:"text-xs",children:Qt?" Paid":" Due"})]},Ke)})}),r.jsx("div",{className:"text-center",children:Pe===5?r.jsx("div",{className:"bg-green-500/40 rounded-lg p-3",children:r.jsx("div",{className:"font-semibold",children:" Fully Paid for 2024!"})}):r.jsxs("div",{className:"bg-yellow-500/40 rounded-lg p-3",children:[r.jsxs("div",{className:"font-semibold",children:[ct," payment",ct>1?"s":""," remaining"]}),r.jsxs("div",{className:"text-sm",children:["Next due: ",["February","April","July","August","November"][Pe]]})]})})]})})():r.jsx("div",{className:"text-center py-4 text-blue-100",children:"Please log in to view your progress"})]})]}),(M==="admin"||M==="Treasurer")&&r.jsxs("div",{className:"mt-6 bg-white/10 rounded-xl p-5 backdrop-blur-sm",children:[r.jsxs("h4",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[r.jsx("span",{children:""})," All Members Payment Status"]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-white/20",children:[r.jsx("th",{className:"text-left py-2 font-semibold",children:"Member"}),r.jsx("th",{className:"text-center py-2 font-semibold",children:"Total"}),r.jsx("th",{className:"text-center py-2 font-semibold",children:"Months"}),r.jsx("th",{className:"text-center py-2 font-semibold",children:"Status"}),r.jsx("th",{className:"text-center py-2 font-semibold",children:"Due"})]})}),r.jsx("tbody",{children:Ar.map(P=>{const Z=Math.floor(P.afterschool/150),Pe=["February","April","July","August","November"][Z];return r.jsxs("tr",{className:"border-b border-white/10",children:[r.jsxs("td",{className:"py-2",children:[r.jsx("div",{className:"font-medium",children:P.name}),r.jsxs("div",{className:"text-blue-100 text-xs",children:["#",P.member_code]})]}),r.jsxs("td",{className:"text-center py-2 font-semibold",children:["Ksh ",P.afterschool]}),r.jsxs("td",{className:"text-center py-2",children:[Z,"/5"]}),r.jsx("td",{className:"text-center py-2",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${Z===5?"bg-green-500/40":Z>=3?"bg-yellow-500/40":"bg-red-500/40"}`,children:Z===5?"Fully Paid":Z>=3?"Good":"Behind"})}),r.jsx("td",{className:"text-center py-2 text-sm",children:Z===5?"None":Pe})]},P.member_code)})})]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-cyan-500 to-blue-500 rounded-3xl p-4 sm:p-6 text-white shadow-xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg sm:text-xl font-bold",children:M==="member"?"My Contributions":"After-school Fund"}),r.jsx("span",{className:"text-xl sm:text-2xl",children:""})]}),r.jsxs("p",{className:"text-2xl sm:text-3xl font-bold mb-4",children:["Ksh ",M==="member"?Ce.reduce((P,Z)=>P+Number(Z.amount||0),0).toLocaleString():ke.totalAfterSchool.toLocaleString()]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center bg-white/20 rounded-xl p-3",children:[r.jsx("span",{className:"text-cyan-100 text-sm sm:text-base",children:M==="member"?"My Pending":"Pending Payments"}),r.jsx("span",{className:"font-bold text-sm sm:text-base",children:M==="member"?Ce.filter(P=>!P.paid).length:ke.pendingAfterSchool})]}),r.jsxs("div",{className:"flex justify-between items-center bg-white/20 rounded-xl p-3",children:[r.jsx("span",{className:"text-cyan-100 text-sm sm:text-base",children:M==="member"?"My Pending Amount":"Pending Amount"}),r.jsxs("span",{className:"font-bold text-sm sm:text-base",children:["Ksh ",M==="member"?Ce.filter(P=>!P.paid).reduce((P,Z)=>P+Number(Z.amount||0),0).toLocaleString():ke.totalAfterSchoolAmount.toLocaleString()]})]})]})]}),r.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-3xl p-4 sm:p-6 shadow-xl border border-white/60 dark:border-gray-700",children:[r.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-xl sm:text-2xl",children:""}),M==="member"?"My Payments":"Pending Payments"]}),r.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:Ce.filter(P=>!P.paid).length>0?Ce.filter(P=>!P.paid).map(P=>r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center bg-gray-50 dark:bg-gray-900/50 rounded-2xl p-3 sm:p-4 border border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600 transition-all duration-300",children:[r.jsxs("div",{className:"flex-1 mb-2 sm:mb-0",children:[r.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-100 text-sm sm:text-base",children:M==="member"?"My Contribution":`${P.name} (${P.member_code})`}),r.jsxs("p",{className:"text-base sm:text-lg font-bold text-blue-600 dark:text-blue-400",children:["Ksh ",P.amount]}),P.date&&r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Added: ",new Date(P.date).toLocaleDateString()]})]}),(M==="Treasurer"||M==="admin")&&r.jsx("button",{onClick:()=>se(P.id,P.amount),className:"bg-green-500 text-white px-3 sm:px-4 py-2 rounded-xl font-semibold hover:bg-green-600 transform hover:scale-105 transition-all duration-300 shadow-lg shadow-green-500/25 text-xs sm:text-sm w-full sm:w-auto",children:"Mark Paid "}),M==="member"&&r.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-xs font-medium",children:"Pending Approval"})]},P.id)):r.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[r.jsx("span",{className:"text-4xl mb-2 block",children:""}),r.jsx("p",{className:"text-sm sm:text-base",children:"No pending payments"}),r.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:M==="member"?"All your payments are completed!":"All after-school payments are completed!"})]})})]})]})]})]})})}function Rg(){const[s,o]=v.useState([]),[l,u]=v.useState(null),[c,m]=v.useState({memberId:"",amount:"",reason:"",purpose:""}),[p,h]=v.useState(!1),[y,x]=v.useState(""),[g,j]=v.useState(""),[A,O]=v.useState("all"),[R,T]=v.useState(!1),[w,U]=v.useState(""),[B,Y]=v.useState(null),[M,H]=v.useState({}),[K,ie]=v.useState([]),[pe,be]=v.useState([]),[we,he]=v.useState(!1),[ue,Se]=v.useState(null),[oe,$]=v.useState("loans"),[te,xe]=v.useState(""),[E,q]=v.useState([]),[G,S]=v.useState("");v.useEffect(()=>{const C=_n(),de=JSON.parse(localStorage.getItem("user"));U(C),Y(de),z(),ge(),se(),(C==="admin"||C==="Treasurer"||C==="Chairperson")&&ce()},[]);const z=async()=>{try{h(!0);const C=await bi();console.log(" Loans API Response:",C);const Me=(Array.isArray(C?.data)?C.data:[]).map(_e=>{const pt=new Date(_e.created_at||_e.timestamp),St=Math.floor((new Date-pt)/(1e3*60*60*24)),el=St>30,Mn=Math.max(0,St-30),Es=Math.floor(Mn/7),Ps=_e.interest||0,Yr=_e.penalty||0,Xr=_e.total_amount||_e.amount,Zr=_e.paid_amount||0,Tr=Xr+Ps+Yr-Zr;return{..._e,isOverdue:el,daysSinceLoan:St,daysOverdue:Mn,weeklyPenalties:Es,dueDate:new Date(pt.getTime()+720*60*60*1e3),totalOwed:Number(Xr)+Number(Ps)+Number(Yr),paidAmount:Zr,remainingAmount:Tr>0?Tr:0,isFullyPaid:Tr<=0,lastUpdated:new Date().toISOString()}});if(w==="member"){const _e=Me.filter(pt=>pt.member_code===B?.member_code||pt.memberId===B?.member_code);o(_e)}else o(Me)}catch(C){console.error(" fetchLoans failed",C),x("Failed to load loans"),o([])}finally{h(!1)}},ce=async()=>{try{const C=await ji();C?.data&&be(C.data)}catch(C){console.error("Failed to fetch members:",C)}},se=async()=>{try{const C=await lg();C?.data&&Se(C.data)}catch(C){console.error("Failed to fetch loan stats:",C)}},ge=async()=>{try{if(w==="admin"||w==="Treasurer"||w==="Chairperson"){const C=await Ni(),de=Array.isArray(C?.data)?C.data.filter(Me=>Me.type==="loan_request"):[];ie(de)}}catch(C){console.error("fetchPendingLoans failed",C),ie([])}},ke=async C=>{try{const de=await og(C);if(de?.data?.success){const Me=await Ne(C);u({...de.data.loan,repayments:Me?.data||[]}),T(!0)}else x("Failed to fetch loan details ")}catch{x("Failed to fetch loan details ")}},Ne=async C=>{try{return await dg(C)}catch(de){return console.error("Failed to fetch repayments:",de),{data:[]}}},Ce=async()=>{if(!c.amount||!c.reason){x("Please fill all required fields! ");return}if(Number(c.amount)<=0){x("Please enter a valid amount! ");return}try{h(!0),x("");const C=w==="member"?B.member_code:c.memberId;if(!C){x("Member code is required!");return}w==="member"?(await sg({member_code:C,amount:Number(c.amount),purpose:c.purpose||"General",reason:c.reason,due_date:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0]}),j("Loan request submitted for admin approval!  We will notify you once reviewed.")):(await ng({memberId:C,amount:c.amount,reason:c.reason,purpose:c.purpose}),j("Loan approved and created successfully! ")),m({memberId:"",amount:"",reason:"",purpose:""}),setTimeout(()=>j(""),5e3),await z(),await ge(),await se()}catch(C){console.error("Loan request failed:",C),x("Failed to submit loan request . Please try again.")}finally{h(!1)}},P=async(C,de)=>{if(!de||Number(de)<=0){x("Please enter a valid repayment amount! ");return}const Me=s.find(_e=>_e.id===C);if(Me&&Number(de)>Me.remainingAmount){x(`Repayment amount cannot exceed remaining balance of Ksh ${Me.remainingAmount}!`);return}try{h(!0),x(""),w==="member"?(await ig({member_code:B.member_code,loan_id:C,amount:Number(de)}),j("Repayment submitted for admin approval! ")):(await ag(C,de),j("Payment processed successfully! ")),H(_e=>({..._e,[C]:""})),setTimeout(()=>j(""),3e3),await z(),await se()}catch(_e){console.error("Repayment failed:",_e),x("Payment failed . Please check the amount and try again.")}finally{h(!1)}},Z=async()=>{if(window.confirm("Apply 10% interest to all active loans? This action cannot be undone."))try{h(!0);const C=await Uc();await new Promise(de=>setTimeout(de,1e3)),await z(),await se(),C?.data?.success?j(` ${C.data.message} - Total interest: Ksh ${C.data.total_interest_applied}`):j("10% interest applied to all active loans! "),setTimeout(()=>j(""),5e3),await z(),await se()}catch(C){console.error("Interest application failed:",C),x("Failed to apply interest ")}finally{h(!1)}},Pe=async()=>{if(window.confirm("Apply Ksh 50 weekly penalties to all overdue loans?"))try{h(!0);const C=await $c();C?.data?.success?j(` ${C.data.message} - Total penalties: Ksh ${C.data.total_penalties_applied}`):j("Ksh 50 penalty applied to overdue loans! "),setTimeout(()=>j(""),5e3),await z(),await se()}catch(C){console.error("Penalty application failed:",C),x("Failed to apply penalties ")}finally{h(!1)}},ct=async()=>{if(window.confirm("Apply both 10% interest and weekly penalties to all applicable loans?"))try{h(!0),x(""),await Uc(),await $c(),j(" All automated charges applied successfully! Interest and penalties updated."),setTimeout(()=>j(""),5e3),await z(),await se()}catch(C){console.error("Auto-apply failed:",C),x("Failed to apply automated charges ")}finally{h(!1)}},Ke=async()=>{if(!te||E.length===0){x("Please select loans and an action!");return}try{h(!0),x("");let C=0,de=0;for(const Me of E)try{te==="approve"?(await Jo(Me),C++):te==="reject"&&(await zc(Me),C++)}catch(_e){console.error(`Failed to process loan ${Me}:`,_e),de++}j(` Bulk action completed: ${C} successful, ${de} failed`),xe(""),q([]),setTimeout(()=>j(""),5e3),await z(),await ge(),await se()}catch(C){console.error("Bulk action failed:",C),x("Bulk action failed ")}finally{h(!1)}},Nt=C=>{q(de=>de.includes(C)?de.filter(Me=>Me!==C):[...de,C])},Qt=()=>{q(Ye.map(C=>C.id))},F=()=>{q([])},X=async C=>{try{h(!0),await Jo(C),j("Loan approved successfully! "),setTimeout(()=>j(""),3e3),await z(),await ge(),await se()}catch(de){console.error("Approval failed:",de),x("Approval failed ")}finally{h(!1)}},Le=async C=>{try{h(!0),await Jo(C),j("Pending loan approved! "),setTimeout(()=>j(""),3e3),await z(),await ge(),await se()}catch(de){console.error("Pending approval failed:",de),x("Approval failed ")}finally{h(!1)}},Je=async C=>{try{h(!0),await zc(C),j("Loan rejected! "),setTimeout(()=>j(""),3e3),await z(),await ge(),await se()}catch(de){console.error("Rejection failed:",de),x("Rejection failed ")}finally{h(!1)}},Ye=s.filter(C=>{const de=A==="all"?!0:A==="overdue"?C.isOverdue:A==="completed"?C.isFullyPaid:C.status===A,Me=G===""||C.member_code?.toLowerCase().includes(G.toLowerCase())||C.purpose?.toLowerCase().includes(G.toLowerCase())||C.reason?.toLowerCase().includes(G.toLowerCase());return de&&Me}),qe=w==="member"?s.filter(C=>C.member_code===B?.member_code||C.memberId===B?.member_code):s,Te={total:qe.length,pending:qe.filter(C=>C.status==="pending").length,approved:qe.filter(C=>C.status==="approved"&&!C.isFullyPaid).length,completed:qe.filter(C=>C.isFullyPaid).length,rejected:qe.filter(C=>C.status==="rejected").length,totalAmount:qe.reduce((C,de)=>C+Number(de.amount||0),0),totalInterest:qe.reduce((C,de)=>C+Number(de.interest||0),0),totalPenalty:qe.reduce((C,de)=>C+Number(de.penalty||0),0),totalOwed:qe.reduce((C,de)=>C+Number(de.totalOwed||0),0),totalPaid:qe.reduce((C,de)=>C+Number(de.paidAmount||0),0),overdue:qe.filter(C=>C.isOverdue).length,pendingApprovals:K.length},_r=(C,de=!1,Me=!1)=>{if(Me)return"text-green-600 bg-green-100 border border-green-200 dark:text-green-400 dark:bg-green-900/30";if(de)return"text-red-600 bg-red-100 border border-red-200 dark:text-red-400 dark:bg-red-900/30";switch(C){case"approved":return"text-blue-600 bg-blue-100 border border-blue-200 dark:text-blue-400 dark:bg-blue-900/30";case"rejected":return"text-red-600 bg-red-100 border border-red-200 dark:text-red-400 dark:bg-red-900/30";case"pending":return"text-yellow-600 bg-yellow-100 border border-yellow-200 dark:text-yellow-400 dark:bg-yellow-900/30";default:return"text-gray-600 bg-gray-100 border border-gray-200 dark:text-gray-400 dark:bg-gray-800"}},Tn=()=>{const C=Ye.map(De=>({"Member Code":De.member_code,Amount:De.amount,Purpose:De.purpose,Status:De.status,Interest:De.interest||0,Penalty:De.penalty||0,"Total Owed":De.totalOwed,"Paid Amount":De.paidAmount,Remaining:De.remainingAmount,"Days Active":De.daysSinceLoan,Overdue:De.isOverdue?"Yes":"No","Due Date":De.dueDate.toLocaleDateString()})),de=[Object.keys(C[0]).join(","),...C.map(De=>Object.values(De).join(","))].join(`
`),Me=new Blob([de],{type:"text/csv"}),_e=window.URL.createObjectURL(Me),pt=document.createElement("a");pt.href=_e,pt.download=`loans-export-${new Date().toISOString().split("T")[0]}.csv`,pt.click(),window.URL.revokeObjectURL(_e),j(" Loans data exported successfully!"),setTimeout(()=>j(""),3e3)};return r.jsx("div",{className:"p-4 sm:p-6 bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-900 dark:to-blue-900 min-h-screen font-['Inter']",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[r.jsx("h1",{className:"text-3xl sm:text-4xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent mb-2",children:w==="member"?"My Loans":"Advanced Loan Management System"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm sm:text-base",children:w==="member"?"Manage your loan applications and repayments":"Comprehensive loan management with automated interest, penalties, and bulk actions"})]}),(w==="Treasurer"||w==="admin"||w==="Chairperson")&&r.jsxs("div",{className:"flex bg-white/50 dark:bg-gray-800/50 rounded-2xl p-1 mb-6 sm:mb-8 shadow-lg border border-white/60 dark:border-gray-700",children:[r.jsx("button",{onClick:()=>$("loans"),className:`flex-1 py-3 px-4 rounded-xl font-semibold transition-all duration-300 ${oe==="loans"?"bg-gradient-to-r from-purple-500 to-blue-500 text-white shadow-lg":"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white"}`,children:" All Loans"}),r.jsxs("button",{onClick:()=>$("pending"),className:`flex-1 py-3 px-4 rounded-xl font-semibold transition-all duration-300 ${oe==="pending"?"bg-gradient-to-r from-purple-500 to-blue-500 text-white shadow-lg":"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white"}`,children:[" Pending (",K.length,")"]}),r.jsx("button",{onClick:()=>$("automation"),className:`flex-1 py-3 px-4 rounded-xl font-semibold transition-all duration-300 ${oe==="automation"?"bg-gradient-to-r from-purple-500 to-blue-500 text-white shadow-lg":"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white"}`,children:" Automation"})]}),(w==="Treasurer"||w==="admin"||w==="Chairperson")&&K.length>0&&oe==="pending"&&r.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 dark:from-orange-900/20 dark:to-amber-900/20 rounded-3xl p-4 sm:p-6 shadow-xl border border-orange-200 dark:border-orange-700 mb-6 sm:mb-8",children:[r.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-xl sm:text-2xl",children:""})," Pending Loan Approvals (",K.length,")"]}),r.jsx("div",{className:"space-y-3",children:K.map(C=>r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center bg-white dark:bg-gray-800 rounded-2xl p-4 border border-orange-200 dark:border-orange-600",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"font-semibold text-gray-800 dark:text-white",children:["Member #",C.member_code," - Ksh ",C.amount]}),r.jsx("div",{className:"text-orange-600 dark:text-orange-400 text-sm",children:C.purpose||"General"}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Submitted: ",new Date(C.timestamp).toLocaleDateString()]}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Reason: ",C.reason]})]}),r.jsxs("div",{className:"flex space-x-2 mt-2 sm:mt-0",children:[r.jsx("button",{onClick:()=>Le(C.id),className:"bg-green-500 text-white px-4 py-2 rounded-xl font-semibold hover:bg-green-600 transform hover:scale-105 transition-all duration-300 shadow-lg shadow-green-500/25 text-sm",children:"Approve "}),r.jsx("button",{onClick:()=>Je(C.id),className:"bg-red-500 text-white px-4 py-2 rounded-xl font-semibold hover:bg-red-600 transform hover:scale-105 transition-all duration-300 shadow-lg shadow-red-500/25 text-sm",children:"Reject "})]})]},C.id))})]}),(w==="Treasurer"||w==="admin"||w==="Chairperson")&&oe==="automation"&&r.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-3xl p-4 sm:p-6 shadow-xl border border-purple-200 dark:border-purple-700 mb-6 sm:mb-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[r.jsx("span",{className:"text-xl sm:text-2xl",children:""})," Automated Loan Management"]}),r.jsx("button",{onClick:()=>he(!we),className:"text-sm bg-purple-500 text-white px-3 py-1 rounded-lg hover:bg-purple-600 transition-colors",children:we?"Hide Stats":"Show Stats"})]}),we&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[r.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 rounded-xl p-3 text-center",children:[r.jsx("div",{className:"text-blue-500 text-sm",children:"Active Loans"}),r.jsx("div",{className:"font-bold text-lg",children:Te.approved})]}),r.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 rounded-xl p-3 text-center",children:[r.jsx("div",{className:"text-orange-500 text-sm",children:"Overdue"}),r.jsx("div",{className:"font-bold text-lg",children:Te.overdue})]}),r.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 rounded-xl p-3 text-center",children:[r.jsx("div",{className:"text-green-500 text-sm",children:"Total Interest"}),r.jsxs("div",{className:"font-bold text-lg",children:["Ksh ",Te.totalInterest]})]}),r.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 rounded-xl p-3 text-center",children:[r.jsx("div",{className:"text-red-500 text-sm",children:"Total Penalties"}),r.jsxs("div",{className:"font-bold text-lg",children:["Ksh ",Te.totalPenalty]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 sm:gap-4",children:[r.jsxs("button",{onClick:Z,disabled:p,className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white py-3 px-4 rounded-xl font-semibold hover:from-green-600 hover:to-emerald-600 transform hover:scale-105 transition-all duration-300 shadow-lg shadow-green-500/25 flex items-center justify-center gap-2 text-sm disabled:opacity-50",children:[r.jsx("span",{children:""})," Apply 10% Interest"]}),r.jsxs("button",{onClick:Pe,disabled:p,className:"bg-gradient-to-r from-orange-500 to-red-500 text-white py-3 px-4 rounded-xl font-semibold hover:from-orange-600 hover:to-red-600 transform hover:scale-105 transition-all duration-300 shadow-lg shadow-orange-500/25 flex items-center justify-center gap-2 text-sm disabled:opacity-50",children:[r.jsx("span",{children:""})," Apply Weekly Penalties"]}),r.jsxs("button",{onClick:ct,disabled:p,className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white py-3 px-4 rounded-xl font-semibold hover:from-purple-600 hover:to-blue-600 transform hover:scale-105 transition-all duration-300 shadow-lg shadow-purple-500/25 flex items-center justify-center gap-2 text-sm disabled:opacity-50",children:[r.jsx("span",{children:""})," Auto-Apply All"]})]}),r.jsxs("div",{className:"mt-3 text-xs text-gray-600 dark:text-gray-400 grid grid-cols-1 md:grid-cols-3 gap-2",children:[r.jsx("div",{children:" 10% monthly interest on active loans"}),r.jsx("div",{children:" Ksh 50 weekly penalty for overdue loans"}),r.jsx("div",{children:" Automatic status updates"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-7 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-3 sm:p-4 shadow-lg border border-gray-200 dark:border-gray-700 text-center",children:[r.jsx("div",{className:"text-xl sm:text-2xl mb-1",children:""}),r.jsx("div",{className:"text-lg sm:text-2xl font-bold text-gray-800 dark:text-white",children:Te.total}),r.jsx("div",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:"Total"})]}),r.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-2xl p-3 sm:p-4 shadow-lg border border-yellow-200 dark:border-yellow-700 text-center",children:[r.jsx("div",{className:"text-xl sm:text-2xl mb-1",children:""}),r.jsx("div",{className:"text-lg sm:text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:Te.pending}),r.jsx("div",{className:"text-xs sm:text-sm text-yellow-600 dark:text-yellow-400",children:"Pending"})]}),r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-2xl p-3 sm:p-4 shadow-lg border border-blue-200 dark:border-blue-700 text-center",children:[r.jsx("div",{className:"text-xl sm:text-2xl mb-1",children:""}),r.jsx("div",{className:"text-lg sm:text-2xl font-bold text-blue-600 dark:text-blue-400",children:Te.approved}),r.jsx("div",{className:"text-xs sm:text-sm text-blue-600 dark:text-blue-400",children:"Active"})]}),r.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-2xl p-3 sm:p-4 shadow-lg border border-green-200 dark:border-green-700 text-center",children:[r.jsx("div",{className:"text-xl sm:text-2xl mb-1",children:""}),r.jsx("div",{className:"text-lg sm:text-2xl font-bold text-green-600 dark:text-green-400",children:Te.completed}),r.jsx("div",{className:"text-xs sm:text-sm text-green-600 dark:text-green-400",children:"Paid"})]}),r.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-2xl p-3 sm:p-4 shadow-lg border border-red-200 dark:border-red-700 text-center",children:[r.jsx("div",{className:"text-xl sm:text-2xl mb-1",children:""}),r.jsx("div",{className:"text-lg sm:text-2xl font-bold text-red-600 dark:text-red-400",children:Te.rejected}),r.jsx("div",{className:"text-xs sm:text-sm text-red-600 dark:text-red-400",children:"Rejected"})]}),r.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-2xl p-3 sm:p-4 shadow-lg border border-orange-200 dark:border-orange-700 text-center",children:[r.jsx("div",{className:"text-xl sm:text-2xl mb-1",children:""}),r.jsx("div",{className:"text-lg sm:text-2xl font-bold text-orange-600 dark:text-orange-400",children:Te.overdue}),r.jsx("div",{className:"text-xs sm:text-sm text-orange-600 dark:text-orange-400",children:"Overdue"})]}),r.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-2xl p-3 sm:p-4 shadow-lg border border-purple-200 dark:border-purple-700 text-center",children:[r.jsx("div",{className:"text-xl sm:text-2xl mb-1",children:""}),r.jsxs("div",{className:"text-lg sm:text-2xl font-bold text-purple-600 dark:text-purple-400",children:["Ksh ",Te.totalOwed.toLocaleString()]}),r.jsx("div",{className:"text-xs sm:text-sm text-purple-600 dark:text-purple-400",children:"Total Owed"})]})]}),w==="member"&&r.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-3xl p-4 sm:p-6 shadow-xl border border-green-200 dark:border-green-700 mb-6 sm:mb-8",children:[r.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 dark:text-white mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"text-xl sm:text-2xl",children:""})," Loan Payment Information"]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm sm:text-base",children:[r.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 rounded-2xl p-4 border border-green-200 dark:border-green-600",children:[r.jsx("div",{className:"font-semibold text-green-800 dark:text-green-400 mb-2",children:"Bank Transfer"}),r.jsxs("div",{className:"text-gray-700 dark:text-gray-300",children:[r.jsx("strong",{children:"Paybill:"})," 522522"]}),r.jsxs("div",{className:"text-gray-700 dark:text-gray-300",children:[r.jsx("strong",{children:"Account:"})," 1341299678"]}),r.jsxs("div",{className:"text-gray-700 dark:text-gray-300",children:[r.jsx("strong",{children:"Reference:"})," LOAN-#",B?.member_code]})]}),r.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 rounded-2xl p-4 border border-green-200 dark:border-green-600",children:[r.jsx("div",{className:"font-semibold text-green-800 dark:text-green-400 mb-2",children:"After Payment"}),r.jsx("div",{className:"text-gray-700 dark:text-gray-300",children:"1. Make payment using above details"}),r.jsx("div",{className:"text-gray-700 dark:text-gray-300",children:"2. Submit your repayment here"}),r.jsx("div",{className:"text-gray-700 dark:text-gray-300",children:"3. Wait for admin approval"}),r.jsx("div",{className:"text-gray-700 dark:text-gray-300",children:"4. Receive confirmation email"})]})]})]}),(y||g)&&r.jsx("div",{className:`mb-4 sm:mb-6 p-3 sm:p-4 rounded-2xl text-center font-medium transition-all duration-300 text-sm sm:text-base ${g?"bg-green-500/20 text-green-700 dark:text-green-300 border border-green-500/30":"bg-red-500/20 text-red-700 dark:text-red-300 border border-red-500/30"}`,children:g||y}),(oe==="loans"||oe==="pending")&&r.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-3xl p-4 sm:p-6 shadow-xl border border-white/60 dark:border-gray-700 mb-6 sm:mb-8",children:[r.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-xl sm:text-2xl",children:""}),w==="member"?"Apply for Loan":"Process New Loan"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[w!=="member"&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mb-2 block",children:"Member Code"}),r.jsxs("select",{value:c.memberId,onChange:C=>m({...c,memberId:C.target.value}),className:"w-full bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl p-3 text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 text-gray-800 dark:text-white",children:[r.jsx("option",{value:"",children:"Select Member"}),pe.map(C=>r.jsxs("option",{value:C.member_code,children:[C.name," (#",C.member_code,")"]},C.member_code))]})]}),w==="member"&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mb-2 block",children:"Your Member Code"}),r.jsxs("div",{className:"w-full bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl p-3 text-sm sm:text-base font-bold text-purple-600 dark:text-purple-400",children:["#",B?.member_code]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mb-2 block",children:"Amount (Ksh)"}),r.jsx("input",{type:"number",placeholder:"Loan amount ",value:c.amount,onChange:C=>m({...c,amount:C.target.value}),className:"w-full bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl p-3 text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 text-gray-800 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mb-2 block",children:"Purpose"}),r.jsxs("select",{value:c.purpose,onChange:C=>m({...c,purpose:C.target.value}),className:"w-full bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl p-3 text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 text-gray-800 dark:text-white",children:[r.jsx("option",{value:"General",children:"General"}),r.jsx("option",{value:"Emergency",children:"Emergency"}),r.jsx("option",{value:"Business",children:"Business"}),r.jsx("option",{value:"Education",children:"Education"}),r.jsx("option",{value:"Medical",children:"Medical"}),r.jsx("option",{value:"Personal",children:"Personal"})]})]}),r.jsxs("div",{className:w==="member"?"md:col-span-2":"",children:[r.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mb-2 block",children:"Reason"}),r.jsx("input",{type:"text",placeholder:"Detailed reason ",value:c.reason,onChange:C=>m({...c,reason:C.target.value}),className:"w-full bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl p-3 text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 text-gray-800 dark:text-white"})]}),r.jsx("button",{onClick:Ce,disabled:p,className:`bg-gradient-to-r from-purple-500 to-blue-500 text-white py-3 px-4 sm:px-6 rounded-xl font-semibold hover:from-purple-600 hover:to-blue-600 transform hover:scale-105 transition-all duration-300 shadow-lg shadow-purple-500/25 text-sm sm:text-base disabled:opacity-50 ${w==="member"?"md:col-span-2":"md:col-span-4"}`,children:p?"Processing...":w==="member"?"Submit Loan Application ":"Process Loan Request "})]}),w==="member"&&r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-3",children:" Your loan application will be reviewed by admin (1-2 business days)"})]}),(w==="Treasurer"||w==="admin"||w==="Chairperson")&&E.length>0&&r.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 dark:from-orange-900/20 dark:to-amber-900/20 rounded-3xl p-4 sm:p-6 shadow-xl border border-orange-200 dark:border-orange-700 mb-6 sm:mb-8",children:[r.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-xl sm:text-2xl",children:""})," Bulk Actions (",E.length," loans selected)"]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 items-center",children:[r.jsxs("select",{value:te,onChange:C=>xe(C.target.value),className:"bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl p-3 text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-purple-500 w-full sm:w-auto text-gray-800 dark:text-white",children:[r.jsx("option",{value:"",children:"Select Action"}),r.jsx("option",{value:"approve",children:"Approve Selected"}),r.jsx("option",{value:"reject",children:"Reject Selected"})]}),r.jsx("button",{onClick:Ke,disabled:p||!te,className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white py-3 px-6 rounded-xl font-semibold hover:from-purple-600 hover:to-blue-600 transform hover:scale-105 transition-all duration-300 shadow-lg shadow-purple-500/25 text-sm sm:text-base disabled:opacity-50 w-full sm:w-auto",children:p?"Processing...":"Execute Bulk Action "}),r.jsx("button",{onClick:F,className:"bg-gray-500 text-white py-3 px-6 rounded-xl font-semibold hover:bg-gray-600 transition-all duration-300 text-sm sm:text-base w-full sm:w-auto",children:"Clear Selection"})]})]}),(oe==="loans"||oe==="pending")&&r.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-3xl p-4 sm:p-6 shadow-xl border border-white/60 dark:border-gray-700",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4 sm:mb-6 gap-4",children:[r.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[r.jsx("span",{className:"text-xl sm:text-2xl",children:""}),w==="member"?"My Loan Applications":"Loan Applications",r.jsxs("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-400",children:["(",Ye.length," found)"]})]}),r.jsxs("div",{className:"flex gap-3 sm:gap-4 items-center w-full md:w-auto",children:[r.jsx("input",{type:"text",placeholder:"Search loans...",value:G,onChange:C=>S(C.target.value),className:"bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl p-2 text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-purple-500 w-full md:w-64 text-gray-800 dark:text-white"}),r.jsxs("select",{value:A,onChange:C=>O(C.target.value),className:"bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl p-2 text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-purple-500 w-full md:w-auto text-gray-800 dark:text-white",children:[r.jsx("option",{value:"all",children:"All Loans"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"approved",children:"Active"}),r.jsx("option",{value:"completed",children:"Paid Off"}),r.jsx("option",{value:"rejected",children:"Rejected"}),r.jsx("option",{value:"overdue",children:"Overdue"})]}),(w==="Treasurer"||w==="admin"||w==="Chairperson")&&r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:Qt,className:"bg-blue-500 text-white px-3 py-2 rounded-xl font-semibold hover:bg-blue-600 transition-colors text-sm",children:"Select All"}),r.jsx("button",{onClick:F,className:"bg-gray-500 text-white px-3 py-2 rounded-xl font-semibold hover:bg-gray-600 transition-colors text-sm",children:"Clear"}),r.jsx("button",{onClick:Tn,className:"bg-green-500 text-white px-3 py-2 rounded-xl font-semibold hover:bg-green-600 transition-colors text-sm",children:"Export "})]})]})]}),p?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-12 h-12 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Loading loans..."})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full min-w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50/80 dark:bg-gray-700/80 border-b border-gray-200 dark:border-gray-600",children:[(w==="Treasurer"||w==="admin"||w==="Chairperson")&&r.jsx("th",{className:"text-left p-3 sm:p-4 font-semibold text-gray-700 dark:text-gray-300 text-sm sm:text-base w-12",children:r.jsx("input",{type:"checkbox",checked:E.length===Ye.length&&Ye.length>0,onChange:Qt,className:"w-4 h-4 text-purple-600 focus:ring-purple-500"})}),r.jsx("th",{className:"text-left p-3 sm:p-4 font-semibold text-gray-700 dark:text-gray-300 text-sm sm:text-base",children:w==="member"?"My Loan":"Member"}),r.jsx("th",{className:"text-left p-3 sm:p-4 font-semibold text-gray-700 dark:text-gray-300 text-sm sm:text-base",children:"Amount"}),r.jsx("th",{className:"text-left p-3 sm:p-4 font-semibold text-gray-700 dark:text-gray-300 text-sm sm:text-base",children:"Purpose"}),r.jsx("th",{className:"text-left p-3 sm:p-4 font-semibold text-gray-700 dark:text-gray-300 text-sm sm:text-base",children:"Status"}),r.jsx("th",{className:"text-left p-3 sm:p-4 font-semibold text-gray-700 dark:text-gray-300 text-sm sm:text-base",children:"Actions"})]})}),r.jsx("tbody",{children:Ye.length>0?Ye.map((C,de)=>r.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50/50 dark:hover:bg-gray-700/50 transition-colors",children:[(w==="Treasurer"||w==="admin"||w==="Chairperson")&&r.jsx("td",{className:"p-3 sm:p-4",children:r.jsx("input",{type:"checkbox",checked:E.includes(C.id),onChange:()=>Nt(C.id),className:"w-4 h-4 text-purple-600 focus:ring-purple-500"})}),r.jsxs("td",{className:"p-3 sm:p-4",children:[r.jsx("div",{className:"font-semibold text-gray-800 dark:text-white text-sm sm:text-base",children:w==="member"?"My Application":`#${C.member_code||C.memberId}`}),C.daysSinceLoan!==void 0&&r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[C.daysSinceLoan," days ago",C.isOverdue&&r.jsx("span",{className:"text-red-500 ml-1",children:"(Overdue)"})]}),r.jsx("button",{onClick:()=>ke(C.id),className:"text-xs text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 mt-1",children:"View Details "})]}),r.jsxs("td",{className:"p-3 sm:p-4",children:[r.jsxs("div",{className:"font-bold text-purple-600 dark:text-purple-400 text-sm sm:text-base",children:["Ksh ",C.amount]}),r.jsx("div",{className:"text-xs font-bold text-blue-600 dark:text-blue-400"}),C.interest>0&&r.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400",children:["+",C.interest," interest"]}),C.penalty>0&&r.jsxs("div",{className:"text-xs text-red-500 dark:text-red-400",children:["+",C.penalty," penalty"]}),C.remainingAmount>0&&r.jsxs("div",{className:"text-xs text-orange-600 dark:text-orange-400",children:["Remaining: Ksh ",C.remainingAmount]}),r.jsxs("div",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 mt-1",children:["Total: Ksh ",C.totalOwed]})]}),r.jsx("td",{className:"p-3 sm:p-4 text-gray-600 dark:text-gray-300 text-sm sm:text-base",children:C.purpose||C.reason}),r.jsxs("td",{className:"p-3 sm:p-4",children:[r.jsxs("span",{className:`px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium ${_r(C.status,C.isOverdue,C.isFullyPaid)}`,children:[C.isFullyPaid?"Paid Off":C.status,C.isOverdue&&" "]}),C.daysOverdue>0&&r.jsxs("div",{className:"text-xs text-red-500 dark:text-red-400 mt-1",children:[C.daysOverdue," days overdue"]})]}),r.jsx("td",{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[C.status==="pending"&&(w==="Treasurer"||w==="admin"||w==="Chairperson")&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>X(C.id),disabled:p,className:"bg-green-500 text-white px-2 sm:px-3 py-1 rounded-lg text-xs sm:text-sm hover:bg-green-600 transition-colors disabled:opacity-50",children:"Approve "}),r.jsx("button",{onClick:()=>Je(C.id),disabled:p,className:"bg-red-500 text-white px-2 sm:px-3 py-1 rounded-lg text-xs sm:text-sm hover:bg-red-600 transition-colors disabled:opacity-50",children:"Reject "})]}),C.status==="approved"&&!C.isFullyPaid&&r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[r.jsx("input",{type:"number",placeholder:"Amount",value:M[C.id]||"",onChange:Me=>H(_e=>({..._e,[C.id]:Me.target.value})),className:"w-20 sm:w-24 p-1 sm:p-2 border border-gray-300 dark:border-gray-600 rounded text-xs sm:text-sm bg-white dark:bg-gray-700 text-gray-800 dark:text-white"}),r.jsx("button",{onClick:()=>P(C.id,M[C.id]),disabled:p,className:"bg-blue-500 text-white px-2 sm:px-3 py-1 rounded-lg text-xs sm:text-sm hover:bg-blue-600 transition-colors whitespace-nowrap disabled:opacity-50",children:w==="member"?"Submit Repay ":"Process Repay "})]}),C.status==="pending"&&w==="member"&&r.jsx("span",{className:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-400 px-2 py-1 rounded-full text-xs font-medium",children:"Under Review"}),C.isFullyPaid&&r.jsx("span",{className:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400 px-2 py-1 rounded-full text-xs font-medium",children:"Paid Off "})]})})]},C.id??de)):r.jsx("tr",{children:r.jsxs("td",{colSpan:w==="Treasurer"||w==="admin"||w==="Chairperson"?6:5,className:"p-8 text-center text-gray-500 dark:text-gray-400",children:[r.jsx("div",{className:"text-3xl sm:text-4xl mb-2",children:""}),r.jsx("p",{className:"text-sm sm:text-base",children:w==="member"?"No loan applications found":"No loans found"}),w==="member"&&Ye.length===0&&r.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"You haven't applied for any loans yet"})]})})})]})})]}),R&&l&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-4 sm:p-6 max-w-2xl w-full shadow-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 dark:text-white",children:"Loan Details"}),r.jsx("button",{onClick:()=>T(!1),className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 text-2xl",children:""})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{className:"space-y-3 text-sm sm:text-base",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Member Code:"}),r.jsxs("span",{className:"font-semibold text-gray-800 dark:text-white",children:["#",l.member_code||l.memberId]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Principal Amount:"}),r.jsxs("span",{className:"font-bold text-purple-600 dark:text-purple-400",children:["Ksh ",l.amount]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Interest:"}),r.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["Ksh ",l.interest||"0"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Penalty:"}),r.jsxs("span",{className:"text-red-600 dark:text-red-400",children:["Ksh ",l.penalty||"0"]})]})]}),r.jsxs("div",{className:"space-y-3 text-sm sm:text-base",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Owed:"}),r.jsxs("span",{className:"font-bold text-blue-600 dark:text-blue-400",children:["Ksh ",((l.total_amount||l.amount)+(l.interest||0)+(l.penalty||0)).toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Paid Amount:"}),r.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["Ksh ",l.paid_amount||"0"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Remaining:"}),r.jsxs("span",{className:"font-bold text-orange-600 dark:text-orange-400",children:["Ksh ",l.remaining_amount||(l.total_amount||l.amount)+(l.interest||0)+(l.penalty||0)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Status:"}),r.jsxs("span",{className:`px-2 py-1 rounded-full text-xs ${_r(l.status,l.isOverdue,l.isFullyPaid)}`,children:[l.isFullyPaid?"Paid Off":l.status,l.isOverdue&&" "]})]})]})]}),r.jsxs("div",{className:"border-t pt-4 dark:border-gray-600",children:[r.jsx("h4",{className:"font-semibold text-gray-800 dark:text-white mb-3",children:" Loan Timeline"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Loan Date:"}),r.jsx("span",{className:"font-medium",children:new Date(l.created_at||l.timestamp).toLocaleDateString()})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Due Date:"}),r.jsx("span",{className:"font-medium",children:new Date(l.due_date).toLocaleDateString()})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Days Active:"}),r.jsxs("span",{className:"font-medium",children:[l.daysSinceLoan," days"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Days Overdue:"}),r.jsxs("span",{className:`font-medium ${l.daysOverdue>0?"text-red-600":"text-green-600"}`,children:[l.daysOverdue," days"]})]}),l.weeklyPenalties>0&&r.jsxs("div",{className:"flex justify-between md:col-span-2",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Weekly Penalties Applied:"}),r.jsx("span",{className:"font-medium text-red-600",children:l.weeklyPenalties})]})]})]}),l.repayments&&l.repayments.length>0&&r.jsxs("div",{className:"border-t pt-4 dark:border-gray-600 mt-4",children:[r.jsx("h4",{className:"font-semibold text-gray-800 dark:text-white mb-3",children:" Repayment History"}),r.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:l.repayments.map((C,de)=>r.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-700 rounded-lg p-2",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"text-sm font-medium",children:["Ksh ",C.amount]}),r.jsx("div",{className:"text-xs text-gray-500",children:new Date(C.payment_date).toLocaleDateString()})]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Balance: Ksh ",C.remaining_balance]})]},de))})]}),r.jsxs("div",{className:"border-t pt-4 dark:border-gray-600 mt-4",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Purpose:"}),r.jsx("p",{className:"text-gray-800 dark:text-white mt-1",children:l.purpose||"Not specified"})]}),l.reason&&r.jsxs("div",{className:"border-t pt-4 dark:border-gray-600 mt-4",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Reason:"}),r.jsx("p",{className:"text-gray-800 dark:text-white mt-1",children:l.reason})]})]})})]})})}function Ag(){const[s,o]=v.useState([]),[l,u]=v.useState(!1),[c,m]=v.useState(""),[p,h]=v.useState(""),[y,x]=v.useState({memberId:"",amount:"",reason:""}),[g,j]=v.useState("all"),[A,O]=v.useState(""),[R,T]=v.useState(null),[w,U]=v.useState([]),[B,Y]=v.useState([]);v.useEffect(()=>{const $=_n(),te=JSON.parse(localStorage.getItem("user"));O($),T(te),H(),K(),M()},[]);const M=async()=>{try{const $=await ji();Y(Array.isArray($?.data)?$.data:[])}catch($){console.error("Failed to fetch members:",$)}},H=async()=>{u(!0),m("");try{const $=await vi(),te=Array.isArray($?.data)?$.data:[];let xe=te;if(A==="member"){const G=R?.member_code;xe=te.filter(S=>S.member_code===G)}const E=new Date,q=xe.map(G=>{const S=new Date(G.date||G.created_at||E),z=Math.floor((E-S)/(1e3*60*60*24)),ce=G.paid===1?"Paid":z>90?"Flagged (MIA)":"Unpaid",se=B.find(ge=>ge.member_code===G.member_code);return{...G,status:ce,daysInactive:z,member_name:se?.name||G.member_name||"Unknown Member"}});o(q)}catch($){console.error("fetchFines failed",$),o([]),m("Failed to load fines data ")}finally{u(!1)}},K=async()=>{try{if(A==="admin"||A==="Treasurer"){const $=await Ni(),xe=(Array.isArray($?.data)?$.data.filter(E=>E.type==="fine_payment"):[]).map(E=>{const q=B.find(G=>G.member_code===E.member_code);return{...E,member_name:q?.name||"Unknown Member"}});U(xe)}}catch($){console.error("fetchPendingPayments failed",$),U([])}},ie=async()=>{if(!y.memberId||!y.amount||!y.reason){m("Please fill all fields! ");return}if(Number(y.amount)<=0){m("Please enter a valid amount! ");return}try{await cg({member_code:y.memberId,amount:Number(y.amount),reason:y.reason}),x({memberId:"",amount:"",reason:""}),h("Fine added successfully! "),setTimeout(()=>h(""),3e3),await H()}catch($){console.error("addFine failed",$),m("Failed to add fine ")}},pe=async($,te)=>{try{A==="member"?(await mg({member_code:R.member_code,fine_id:$,amount:Number(te)}),h("Fine payment submitted for admin approval! ")):(await fg($),h("Fine marked as paid successfully! ")),setTimeout(()=>h(""),3e3),await H(),await K()}catch(xe){console.error("payFine failed",xe),m("Payment failed ")}},be=async()=>{try{await ug(),h("Inactive members flagged successfully! "),setTimeout(()=>h(""),3e3),await H()}catch{m("Failed to flag inactive members ")}},we=async $=>{try{await Tm($),h("Fine payment approved! "),setTimeout(()=>h(""),3e3),await H(),await K()}catch{m("Approval failed ")}},he=s.filter($=>g==="all"?!0:$.status.toLowerCase().includes(g.toLowerCase())),ue=A==="member"?s.filter($=>$.member_code===R?.member_code):s,Se={total:ue.length,unpaid:ue.filter($=>$.status==="Unpaid").length,paid:ue.filter($=>$.status==="Paid").length,flagged:ue.filter($=>$.status==="Flagged (MIA)").length,totalAmount:ue.reduce(($,te)=>$+Number(te.amount||0),0),unpaidAmount:ue.filter($=>$.status==="Unpaid").reduce(($,te)=>$+Number(te.amount||0),0),flaggedAmount:ue.filter($=>$.status==="Flagged (MIA)").reduce(($,te)=>$+Number(te.amount||0),0)},oe=$=>{switch($){case"Paid":return"bg-green-100 text-green-800 border border-green-200 dark:bg-green-900/50 dark:text-green-300 dark:border-green-700";case"Unpaid":return"bg-yellow-100 text-yellow-800 border border-yellow-200 dark:bg-yellow-900/50 dark:text-yellow-300 dark:border-yellow-700";case"Flagged (MIA)":return"bg-red-100 text-red-800 border border-red-200 dark:bg-red-900/50 dark:text-red-300 dark:border-red-700";default:return"bg-gray-100 text-gray-800 border border-gray-200 dark:bg-gray-700/50 dark:text-gray-300 dark:border-gray-600"}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-orange-50/30 dark:from-gray-900 dark:via-gray-800 dark:to-orange-900/20 font-['Inter'] transition-colors duration-300",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent mb-2",children:A==="member"?"My Fines":"Fines & Discipline"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:A==="member"?"View and manage your fines":"Manage member fines and compliance"}),A&&r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-2",children:["Logged in as: ",r.jsx("span",{className:"font-semibold text-orange-600 dark:text-orange-400",children:A})]})]}),(A==="Treasurer"||A==="admin")&&w.length>0&&r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/50 dark:to-cyan-900/50 rounded-3xl p-6 shadow-xl border border-blue-200 dark:border-blue-800 mb-8 transition-all duration-300 hover:shadow-2xl",children:[r.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:""})," Pending Fine Payments (",w.length,")"]}),r.jsx("div",{className:"space-y-4",children:w.map($=>r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center bg-white dark:bg-gray-800 rounded-2xl p-4 border border-blue-200 dark:border-blue-700 transition-all duration-300 hover:border-blue-300 dark:hover:border-blue-600",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-semibold text-gray-800 dark:text-gray-100 text-lg",children:$.member_name}),r.jsxs("div",{className:"text-blue-600 dark:text-blue-400 font-bold text-xl",children:["Ksh ",$.amount?.toLocaleString()]}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Member Code: #",$.member_code,"  Fine ID: #",$.fine_id]}),r.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:["Submitted: ",new Date($.created_at||$.timestamp).toLocaleDateString()]})]}),r.jsx("button",{onClick:()=>we($.id),className:"mt-3 sm:mt-0 bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white px-6 py-3 rounded-xl font-semibold transform hover:scale-105 transition-all duration-300 shadow-lg shadow-green-500/25",children:"Approve Payment "})]},$.id))})]}),(A==="Treasurer"||A==="admin")&&r.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-900/50 dark:to-orange-900/50 rounded-3xl p-6 shadow-xl border border-orange-200 dark:border-orange-800 mb-8 transition-all duration-300 hover:shadow-2xl",children:[r.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:""})," Automated Actions"]}),r.jsx("button",{onClick:be,className:"bg-gradient-to-r from-red-500 to-orange-500 hover:from-red-600 hover:to-orange-600 text-white font-semibold py-3 px-8 rounded-xl transform hover:scale-105 transition-all duration-300 shadow-lg shadow-orange-500/25",children:" Flag Inactive Members (90+ Days)"})]}),A==="member"&&r.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/50 dark:to-emerald-900/50 rounded-3xl p-6 shadow-xl border border-green-200 dark:border-green-800 mb-8 transition-all duration-300 hover:shadow-2xl",children:[r.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:""})," Fine Payment Information"]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-6 border border-green-200 dark:border-green-700 text-gray-800 dark:text-gray-200 transition-all duration-300 hover:shadow-lg",children:[r.jsx("div",{className:"font-semibold text-green-800 dark:text-green-300 text-lg mb-3",children:"Bank Transfer"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{className:"text-gray-700 dark:text-gray-300",children:"Paybill:"})," 522522"]}),r.jsxs("div",{children:[r.jsx("strong",{className:"text-gray-700 dark:text-gray-300",children:"Account:"})," 1341299678"]}),r.jsxs("div",{children:[r.jsx("strong",{className:"text-gray-700 dark:text-gray-300",children:"Reference:"})," FINE-#",R?.member_code]})]})]}),r.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-6 border border-green-200 dark:border-green-700 text-gray-800 dark:text-gray-200 transition-all duration-300 hover:shadow-lg",children:[r.jsx("div",{className:"font-semibold text-green-800 dark:text-green-300 text-lg mb-3",children:"After Payment"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsx("div",{children:"1. Make payment using above details"}),r.jsx("div",{children:"2. Submit your payment here"}),r.jsx("div",{children:"3. Wait for admin approval"}),r.jsx("div",{children:"4. Receive confirmation email"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-6 gap-4 mb-8",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-200 dark:border-gray-700 text-center transition-all duration-300 hover:shadow-xl",children:[r.jsx("div",{className:"text-3xl mb-2",children:""}),r.jsx("div",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:Se.total}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:A==="member"?"My Fines":"Total Fines"})]}),r.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/50 rounded-2xl p-6 shadow-lg border border-yellow-200 dark:border-yellow-700 text-center transition-all duration-300 hover:shadow-xl",children:[r.jsx("div",{className:"text-3xl mb-2",children:""}),r.jsx("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:Se.unpaid}),r.jsx("div",{className:"text-sm text-yellow-600 dark:text-yellow-400 mt-1",children:"Unpaid"})]}),r.jsxs("div",{className:"bg-green-50 dark:bg-green-900/50 rounded-2xl p-6 shadow-lg border border-green-200 dark:border-green-700 text-center transition-all duration-300 hover:shadow-xl",children:[r.jsx("div",{className:"text-3xl mb-2",children:""}),r.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:Se.paid}),r.jsx("div",{className:"text-sm text-green-600 dark:text-green-400 mt-1",children:"Paid"})]}),r.jsxs("div",{className:"bg-red-50 dark:bg-red-900/50 rounded-2xl p-6 shadow-lg border border-red-200 dark:border-red-700 text-center transition-all duration-300 hover:shadow-xl",children:[r.jsx("div",{className:"text-3xl mb-2",children:""}),r.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:Se.flagged}),r.jsx("div",{className:"text-sm text-red-600 dark:text-red-400 mt-1",children:"Flagged"})]}),r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/50 rounded-2xl p-6 shadow-lg border border-blue-200 dark:border-blue-700 text-center col-span-2 transition-all duration-300 hover:shadow-xl",children:[r.jsx("div",{className:"text-3xl mb-2",children:""}),r.jsxs("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["Ksh ",Se.unpaidAmount.toLocaleString()]}),r.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400 mt-1",children:A==="member"?"My Pending":"Pending Collection"})]})]}),(c||p)&&r.jsx("div",{className:`mb-6 p-4 rounded-2xl text-center font-medium transition-all duration-300 ${p?"bg-green-500/20 text-green-700 border border-green-500/30 dark:bg-green-500/20 dark:text-green-300 dark:border-green-500/30":"bg-red-500/20 text-red-700 border border-red-500/30 dark:bg-red-500/20 dark:text-red-300 dark:border-red-500/30"}`,children:p||c}),(A==="Treasurer"||A==="admin")&&r.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-3xl p-6 shadow-xl border border-gray-200/50 dark:border-gray-700/50 mb-8 transition-all duration-300 hover:shadow-2xl",children:[r.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-6 flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:""})," Issue New Fine"]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Member"}),r.jsxs("select",{value:y.memberId,onChange:$=>x({...y,memberId:$.target.value}),className:"w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded-xl p-3 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-300",children:[r.jsx("option",{value:"",children:"Select Member "}),B.map($=>r.jsxs("option",{value:$.member_code,children:["#",$.member_code," - ",$.name]},$.member_code))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Amount (Ksh)"}),r.jsx("input",{type:"number",placeholder:"Fine amount ",value:y.amount,onChange:$=>x({...y,amount:$.target.value}),className:"w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded-xl p-3 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-300 placeholder-gray-500 dark:placeholder-gray-400"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Reason"}),r.jsx("input",{type:"text",placeholder:"Reason for fine ",value:y.reason,onChange:$=>x({...y,reason:$.target.value}),className:"w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded-xl p-3 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-300 placeholder-gray-500 dark:placeholder-gray-400"})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:ie,className:"w-full bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white font-semibold py-3 px-6 rounded-xl transform hover:scale-105 transition-all duration-300 shadow-lg shadow-orange-500/25",children:"Add Fine "})})]})]}),r.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-3xl p-6 shadow-xl border border-gray-200/50 dark:border-gray-700/50 transition-colors duration-300",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:[r.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:""}),A==="member"?"My Fines":"All Fines",r.jsxs("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-400 ml-2",children:["(",he.length," ",g!=="all"?g:"total",")"]})]}),r.jsxs("select",{value:g,onChange:$=>j($.target.value),className:"bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded-xl p-3 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-300 w-full lg:w-auto",children:[r.jsx("option",{value:"all",children:"All Fines"}),r.jsx("option",{value:"unpaid",children:"Unpaid"}),r.jsx("option",{value:"paid",children:"Paid"}),r.jsx("option",{value:"flagged",children:"Flagged"})]})]}),l?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg font-medium",children:"Loading fines..."})]}):he.length>0?r.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-200 dark:border-gray-700",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700/80 dark:to-gray-800/80 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("th",{className:"text-left p-4 font-semibold text-gray-700 dark:text-gray-300 text-sm uppercase tracking-wider",children:"Member"}),r.jsx("th",{className:"text-left p-4 font-semibold text-gray-700 dark:text-gray-300 text-sm uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"text-left p-4 font-semibold text-gray-700 dark:text-gray-300 text-sm uppercase tracking-wider",children:"Reason"}),r.jsx("th",{className:"text-left p-4 font-semibold text-gray-700 dark:text-gray-300 text-sm uppercase tracking-wider",children:"Days"}),r.jsx("th",{className:"text-left p-4 font-semibold text-gray-700 dark:text-gray-300 text-sm uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"text-left p-4 font-semibold text-gray-700 dark:text-gray-300 text-sm uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{children:he.map(($,te)=>r.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50/50 dark:hover:bg-gray-700/30 transition-all duration-200 group",children:[r.jsxs("td",{className:"p-4",children:[r.jsx("div",{className:"font-semibold text-gray-800 dark:text-gray-100 text-base",children:$.member_name}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["ID: #",$.member_code]})]}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:"font-bold text-orange-600 dark:text-orange-400 text-xl",children:["Ksh ",$.amount?.toLocaleString()]})}),r.jsx("td",{className:"p-4 text-gray-700 dark:text-gray-300 text-base",children:$.reason}),r.jsx("td",{className:"p-4",children:r.jsxs("div",{className:`font-medium text-base ${$.daysInactive>90?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"}`,children:[$.daysInactive,"d"]})}),r.jsx("td",{className:"p-4",children:r.jsx("span",{className:`px-3 py-2 rounded-full text-sm font-medium border ${oe($.status)}`,children:$.status})}),r.jsxs("td",{className:"p-4",children:[$.status!=="Paid"&&r.jsx("button",{onClick:()=>pe($._id,$.amount),className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white px-6 py-3 rounded-xl font-semibold transform hover:scale-105 transition-all duration-300 shadow-lg shadow-green-500/25",children:A==="member"?"Submit Payment ":"Mark Paid "}),$.status==="Paid"&&A==="member"&&r.jsx("span",{className:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300 px-3 py-2 rounded-full text-sm font-medium border border-green-200 dark:border-green-700",children:"Paid "})]})]},$._id??te))})]})}):r.jsxs("div",{className:"text-center py-16 text-gray-500 dark:text-gray-400",children:[r.jsx("div",{className:"text-6xl mb-4",children:A==="member"?"":""}),r.jsx("p",{className:"text-xl font-medium mb-2",children:A==="member"?"No fines issued to you":"No fines issued yet"}),r.jsx("p",{className:"text-gray-400 dark:text-gray-500",children:A==="member"?"Keep up the good work!":"No fines have been issued to members"})]})]})]})})}function Lg(){const[s,o]=v.useState([]),[l,u]=v.useState({title:"",message:"",duration:"24h"}),[c,m]=v.useState(!0),[p,h]=v.useState(""),[y,x]=v.useState(""),[g,j]=v.useState(""),O=["Treasurer","Chairperson","Deputy Chairperson","Secretary","Organizer","Editor"].includes(g);v.useEffect(()=>{R(),j(_n())},[]);const R=async()=>{m(!0),h("");try{const H=await hg();let K=[];H?.data?.announcements?K=H.data.announcements:Array.isArray(H?.data)?K=H.data:Array.isArray(H)&&(K=H);const ie=(Array.isArray(K)?K:[]).sort((pe,be)=>new Date(be.created_at||be.createdAt||be.date)-new Date(pe.created_at||pe.createdAt||pe.date));o(ie)}catch(H){console.error("fetchAnnouncements failed",H),o([]),h("Failed to load announcements ")}finally{m(!1)}},T=async()=>{if(!l.title.trim()||!l.message.trim()){h("Please fill in both title and message! ");return}if(!O){h("You do not have permission to add announcements ");return}m(!0),h("");try{const H={...l,created_at:new Date().toISOString(),expires_at:U(l.duration)};await pg(H),u({title:"",message:"",duration:"24h"}),x("Announcement added successfully! "),await R(),setTimeout(()=>x(""),3e3)}catch(H){console.error("Add announcement failed:",H),h("Failed to add announcement. Please try again. ")}finally{m(!1)}},w=async H=>{if(!O){h("You do not have permission to delete announcements ");return}if(window.confirm("Are you sure you want to delete this announcement?"))try{await xg(H),x("Announcement deleted successfully! "),await R(),setTimeout(()=>x(""),3e3)}catch(K){console.error("Delete announcement failed:",K),h("Failed to delete announcement. Please try again. ")}},U=H=>{const K=new Date;switch(H){case"24h":return new Date(K.getTime()+1440*60*1e3).toISOString();case"1week":return new Date(K.getTime()+10080*60*1e3).toISOString();case"1month":return new Date(K.getTime()+720*60*60*1e3).toISOString();case"3months":return new Date(K.getTime()+2160*60*60*1e3).toISOString();case"permanent":return null;default:return new Date(K.getTime()+1440*60*1e3).toISOString()}},B=H=>{const K={"24h":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300","1week":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300","1month":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300","3months":"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300",permanent:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300"};return K[H]||K["24h"]},Y=H=>{try{return new Date(H).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Recent"}},M=H=>H?new Date>new Date(H):!1;return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-blue-900/20 font-['Inter'] transition-colors duration-300",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent mb-2",children:" Announcements"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"Share important updates with members"}),g&&r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-2",children:["Logged in as: ",r.jsx("span",{className:"font-semibold text-purple-600 dark:text-purple-400",children:g})]})]}),(p||y)&&r.jsx("div",{className:`mb-6 p-4 rounded-2xl text-center font-medium transition-all duration-300 ${y?"bg-green-500/20 text-green-700 border border-green-500/30 dark:bg-green-500/20 dark:text-green-300 dark:border-green-500/30":"bg-red-500/20 text-red-700 border border-red-500/30 dark:bg-red-500/20 dark:text-red-300 dark:border-red-500/30"}`,children:y||p}),O&&r.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-3xl p-6 shadow-xl border border-gray-200/50 dark:border-gray-700/50 mb-8 transition-all duration-300 hover:shadow-2xl",children:[r.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:""})," Create New Announcement"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Title ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",placeholder:"Enter announcement title...",value:l.title,onChange:H=>u({...l,title:H.target.value}),className:"w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded-xl p-3 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 placeholder-gray-500 dark:placeholder-gray-400",disabled:c})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Message ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{placeholder:"Enter announcement message...",value:l.message,onChange:H=>u({...l,message:H.target.value}),rows:"4",className:"w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded-xl p-3 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 resize-none placeholder-gray-500 dark:placeholder-gray-400",disabled:c})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Duration"}),r.jsxs("select",{value:l.duration,onChange:H=>u({...l,duration:H.target.value}),className:"w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded-xl p-3 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300",children:[r.jsx("option",{value:"24h",children:"24 Hours"}),r.jsx("option",{value:"1week",children:"1 Week"}),r.jsx("option",{value:"1month",children:"1 Month"}),r.jsx("option",{value:"3months",children:"3 Months"}),r.jsx("option",{value:"permanent",children:"Permanent"})]})]}),r.jsx("button",{onClick:T,disabled:c||!l.title.trim()||!l.message.trim(),className:"w-full bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white py-3 px-6 rounded-xl font-semibold transform hover:scale-105 transition-all duration-300 shadow-lg shadow-purple-500/25 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:c?r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Publishing..."]}):"Publish Announcement "})]})]}),r.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-3xl p-6 shadow-xl border border-gray-200/50 dark:border-gray-700/50 transition-colors duration-300",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[r.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:""})," All Announcements",r.jsxs("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-400 ml-2",children:["(",s.length," total)"]})]}),!O&&r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-3 py-1 rounded-full",children:"Read-only access"})]}),c?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-12 h-12 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading announcements..."})]}):s.length>0?r.jsx("div",{className:"space-y-4",children:s.map((H,K)=>r.jsxs("div",{className:`bg-gray-50/80 dark:bg-gray-700/80 border rounded-2xl p-5 transition-all duration-300 hover:shadow-lg ${M(H.expires_at)?"border-red-300 dark:border-red-700 bg-red-50/50 dark:bg-red-900/20":"border-gray-200 dark:border-gray-600 hover:border-purple-300 dark:hover:border-purple-600"}`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-3 gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-bold text-gray-800 dark:text-gray-100 text-lg mb-1 leading-tight",children:H.title}),r.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:Y(H.created_at||H.createdAt||H.date)}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${B(H.duration)}`,children:H.duration==="24h"?"24 Hours":H.duration==="1week"?"1 Week":H.duration==="1month"?"1 Month":H.duration==="3months"?"3 Months":"Permanent"}),M(H.expires_at)&&r.jsx("span",{className:"text-xs bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300 px-2 py-1 rounded-full font-medium",children:"Expired"})]})]}),O&&r.jsx("button",{onClick:()=>w(H._id||H.id),className:"flex-shrink-0 text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 transition-colors duration-200 p-1 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/30",title:"Delete announcement",children:""})]}),r.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap leading-relaxed text-base",children:H.message}),H.author&&r.jsxs("div",{className:"mt-3 text-sm text-gray-500 dark:text-gray-400 border-t border-gray-200 dark:border-gray-600 pt-2",children:["Published by: ",r.jsx("span",{className:"font-medium text-purple-600 dark:text-purple-400",children:H.author})]})]},H._id||H.id||K))}):r.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[r.jsx("div",{className:"text-5xl mb-4",children:""}),r.jsx("p",{className:"text-lg font-medium mb-2",children:"No announcements yet"}),r.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:O?"Be the first to share an update with your community!":"No announcements have been posted yet."})]})]})]})})}function _g(){const[s,o]=v.useState(""),[l,u]=v.useState(""),[c,m]=v.useState(!1),[p,h]=v.useState(!1),[y,x]=v.useState(""),[g,j]=v.useState(!1),[A,O]=v.useState(""),[R,T]=v.useState(!1),[w,U]=v.useState(""),B=Rn(),Y=async H=>{H.preventDefault(),h(!0),x("");try{const K=await We.post("https://mercure-group.onrender.com/api/login",{username:s,password:l});K.data.success&&(console.log(" Login Response:",K.data),localStorage.setItem("token",K.data.token),localStorage.setItem("user",JSON.stringify(K.data.user)),localStorage.setItem("role",K.data.role),B("/dashboard"))}catch(K){x(K.response?.data?.message||"Login failed. Please check your credentials.")}finally{h(!1)}},M=async H=>{H.preventDefault(),T(!0),U("");try{(await We.post("https://mercure-group.onrender.com/api/forgot-password",{email:A})).data.success&&(U(" Password reset instructions sent to your email. Check your inbox."),O(""))}catch(K){U(K.response?.data?.message||"Error sending password reset.")}finally{T(!1)}};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center p-4 relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[r.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),r.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse delay-1000"}),r.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-indigo-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse delay-500"})]}),r.jsxs("div",{className:"max-w-md w-full bg-white/10 backdrop-blur-lg rounded-2xl shadow-2xl p-8 border border-white/20 relative z-10",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:r.jsx("span",{className:"text-white font-bold text-xl",children:"MG"})}),r.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Mercure Group"}),r.jsx("p",{className:"text-blue-200 text-lg",children:"Welcome back! Sign in to continue"})]}),g?r.jsxs("div",{children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Reset Password"}),r.jsx("p",{className:"text-blue-200",children:"Enter your registered email address"})]}),r.jsxs("form",{onSubmit:M,className:"space-y-6",children:[w&&r.jsx("div",{className:`px-4 py-3 rounded-lg text-sm backdrop-blur-sm ${w.includes("Error")?"bg-red-500/20 border border-red-400 text-white":"bg-green-500/20 border border-green-400 text-white"}`,children:w}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Email Address"}),r.jsx("input",{type:"email",required:!0,value:A,onChange:H=>O(H.target.value),placeholder:"Enter your registered email",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent transition text-white placeholder-blue-200 backdrop-blur-sm",style:{backdropFilter:"blur(10px)"}})]}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("button",{type:"button",onClick:()=>j(!1),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-3 px-4 rounded-lg font-semibold transition-all duration-300",children:"Back to Login"}),r.jsx("button",{type:"submit",disabled:R,className:"flex-1 bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white py-3 px-4 rounded-lg font-semibold transition-all duration-300 disabled:opacity-50",children:R?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"w-4 h-4 border-t-2 border-white rounded-full animate-spin mr-2"}),"Sending..."]}):"Send Reset Link"})]})]})]}):r.jsxs("form",{onSubmit:Y,className:"space-y-6",children:[y&&r.jsx("div",{className:"bg-red-500/20 border border-red-400 text-white px-4 py-3 rounded-lg text-sm backdrop-blur-sm",children:y}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Username"}),r.jsx("input",{type:"text",required:!0,value:s,onChange:H=>o(H.target.value),placeholder:"Enter your username",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent transition text-white placeholder-blue-200 backdrop-blur-sm",style:{backdropFilter:"blur(10px)"}})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:c?"text":"password",required:!0,value:l,onChange:H=>u(H.target.value),placeholder:"Enter your password",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent transition text-white placeholder-blue-200 backdrop-blur-sm pr-12",style:{backdropFilter:"blur(10px)"}}),r.jsx("button",{type:"button",onClick:()=>m(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/70 hover:text-white transition",children:c?r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L6.59 6.59m9.02 9.02l3.83 3.83"})}):r.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),r.jsx("button",{type:"submit",disabled:p,className:"w-full bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white py-3 px-4 rounded-lg font-semibold transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:hover:scale-100 shadow-lg",children:p?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"w-5 h-5 border-t-2 border-white rounded-full animate-spin mr-2"}),"Signing in..."]}):"Sign In"}),r.jsxs("div",{className:"flex justify-between items-center pt-4",children:[r.jsx("button",{type:"button",onClick:()=>j(!0),className:"text-blue-300 hover:text-white text-sm font-medium transition-colors",children:"Forgot your password?"}),r.jsx("button",{type:"button",onClick:()=>B("/register"),className:"text-blue-300 hover:text-white text-sm font-medium transition-colors underline",children:"Create new account"})]})]})]}),r.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 text-blue-300 text-sm",children:"Mercure Group  2024 - Financial Management System"})]})}const Tg=()=>{const s=Rn(),[o,l]=v.useState({name:"",dob:"",role:"",phone:"",id:"",email:"",password:"",username:""}),[u,c]=v.useState(""),[m,p]=v.useState(!1),h=j=>{const{name:A,value:O}=j.target;A==="id"&&O.length>8||A==="phone"&&O.length>9||l({...o,[A]:O})},y=j=>/\S+@\S+\.\S+/.test(j),x=j=>{const A=new Date,O=new Date(j);let R=A.getFullYear()-O.getFullYear();const T=A.getMonth()-O.getMonth();return(T<0||T===0&&A.getDate()<O.getDate())&&R--,R>=18},g=async j=>{j.preventDefault(),p(!0);const{name:A,dob:O,role:R,phone:T,id:w,email:U,password:B,username:Y}=o;if(!A||!O||!R||!T||!w||!U||!B||!Y){c(" Please fill all fields."),p(!1);return}if(!y(U)){c(" Invalid email format."),p(!1);return}if(!x(O)){c(" You must be at least 18 years old."),p(!1);return}if(B.length<6){c(" Password must be at least 6 characters long."),p(!1);return}try{await gg({name:A,dob:O,role:R,phone:`+254${T}`,id:w,email:U,password:B,username:Y}),c(" Registration successful! Redirecting..."),setTimeout(()=>s("/login"),1500)}catch(M){c(M.response?.data?.message||" Registration failed. Please try again.")}finally{p(!1)}};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-4 font-['Inter']",children:r.jsxs("div",{className:"bg-white/10 backdrop-blur-lg border border-white/20 rounded-3xl p-8 w-full max-w-lg shadow-2xl",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text text-transparent mb-2",children:"Join the Squad"}),r.jsx("p",{className:"text-gray-300 text-sm",children:"Create your account and get started"})]}),u&&r.jsx("div",{className:`text-center mb-6 p-3 rounded-2xl font-medium text-sm transition-all duration-300 ${u.includes("")||u.includes("")?"bg-green-500/20 text-green-300 border border-green-500/30":u.includes("")?"bg-red-500/20 text-red-300 border border-red-500/30":"bg-yellow-500/20 text-yellow-300 border border-yellow-500/30"}`,children:u}),r.jsxs("form",{onSubmit:g,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx("input",{name:"name",placeholder:"Full Name ",value:o.name,onChange:h,className:"col-span-2 bg-white/5 border border-white/10 rounded-xl p-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent transition-all duration-300"}),r.jsx("input",{type:"date",name:"dob",value:o.dob,onChange:h,max:new Date().toISOString().split("T")[0],className:"bg-white/5 border border-white/10 rounded-xl p-4 text-white focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent transition-all duration-300"}),r.jsxs("select",{name:"role",value:o.role,onChange:h,className:"bg-white/5 border border-white/10 rounded-xl p-4 text-white focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent transition-all duration-300",children:[r.jsx("option",{value:"",className:"text-gray-700",children:"Select Role "}),r.jsx("option",{value:"chairperson",className:"text-gray-700",children:"Chairperson"}),r.jsx("option",{value:"deputy-secretary",className:"text-gray-700",children:"Deputy Secretary"}),r.jsx("option",{value:"secretary",className:"text-gray-700",children:"Secretary"}),r.jsx("option",{value:"treasurer",className:"text-gray-700",children:"Treasurer"}),r.jsx("option",{value:"organizer",className:"text-gray-700",children:"Organizer"}),r.jsx("option",{value:"head-of-security",className:"text-gray-700",children:"Head of Security"}),r.jsx("option",{value:"editor-publisher",className:"text-gray-700",children:"Editor/Publisher"}),r.jsx("option",{value:"member",className:"text-gray-700",children:"Member"}),r.jsx("option",{value:"guest",className:"text-gray-700",children:"Guest"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 bg-white/5 border border-white/10 rounded-xl p-4 focus-within:ring-2 focus-within:ring-cyan-400 focus-within:border-transparent transition-all duration-300",children:[r.jsx("span",{className:"text-gray-300 font-semibold text-sm",children:"+254"}),r.jsx("input",{type:"tel",name:"phone",placeholder:"Phone ",value:o.phone,onChange:h,className:"flex-1 bg-transparent text-white placeholder-gray-400 focus:outline-none"})]}),r.jsx("input",{type:"number",name:"id",placeholder:"ID Number ",value:o.id,onChange:h,className:"w-full bg-white/5 border border-white/10 rounded-xl p-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent transition-all duration-300"}),r.jsx("input",{type:"email",name:"email",placeholder:"Email Address ",value:o.email,onChange:h,className:"w-full bg-white/5 border border-white/10 rounded-xl p-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent transition-all duration-300"}),r.jsx("input",{name:"username",placeholder:"Username ",value:o.username,onChange:h,className:"w-full bg-white/5 border border-white/10 rounded-xl p-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent transition-all duration-300"}),r.jsx("input",{type:"password",name:"password",placeholder:"Password ",value:o.password,onChange:h,className:"w-full bg-white/5 border border-white/10 rounded-xl p-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent transition-all duration-300"}),r.jsx("button",{type:"submit",disabled:m,className:`w-full py-4 rounded-xl font-bold text-lg transition-all duration-300 transform hover:scale-105 active:scale-95 ${m?"bg-gray-600 cursor-not-allowed":"bg-gradient-to-r from-cyan-500 to-purple-500 hover:from-cyan-600 hover:to-purple-600 shadow-lg shadow-cyan-500/25"}`,children:m?"Creating Account... ":"Join Now "})]}),r.jsx("div",{className:"text-center mt-6 pt-6 border-t border-white/10",children:r.jsxs("p",{className:"text-gray-300 text-sm",children:["Already have an account?"," ",r.jsx("span",{onClick:()=>s("/login"),className:"text-cyan-400 font-semibold cursor-pointer hover:text-cyan-300 transition-colors duration-200 hover:underline",children:"Sign In "})]})})]})})};function Mg(){const[s,o]=v.useState({totalMembers:0,totalSavings:0,activeLoans:0,totalFines:0,goal:120450,leaderboardCount:0,progress:0,groupSaving:21140}),[l,u]=v.useState(!0),[c,m]=v.useState([]),[p,h]=v.useState(null),[y,x]=v.useState([]),[g,j]=v.useState([]),[A,O]=v.useState("overview"),[R,T]=v.useState(!1),[w,U]=v.useState([]),[B,Y]=v.useState(localStorage.getItem("role")||"member");console.log("User role from localStorage:",B,"Full localStorage:",localStorage);const M=["super_admin","Treasurer"].includes(B);v.useEffect(()=>{H(),ie(),pe(),K();const F=setInterval(()=>{H(),ie(),pe(),K()},3e4);return()=>clearInterval(F)},[]);const H=async()=>{try{u(!0);const[F,X,Le,Je,Ye,qe,Te]=await Promise.allSettled([Qr(),Ic(),bi(),vi(),wi(),ki(),z()]),_r=F.status==="fulfilled"&&Array.isArray(F.value?.data)?F.value.data.length:0,C=(X.status==="fulfilled"&&X.value?.data?.total||0)+21140,de=Le.status==="fulfilled"&&Array.isArray(Le.value?.data)?Le.value.data.filter(St=>St.status==="approved").length:0,Me=Je.status==="fulfilled"&&Array.isArray(Je.value?.data)?Je.value.data.filter(St=>St.paid===0).length:0,_e=Ye.status==="fulfilled"&&Array.isArray(Ye.value?.data)?Ye.value.data.length:0,pt=Math.min(100,C/120450*100),De=Te.status==="fulfilled"?Te.value?.data?.stats:null;o({totalMembers:_r,totalSavings:19140,activeLoans:De?.approvedLoans||de,totalFines:300,goal:120450,leaderboardCount:_e,progress:pt,groupSaving:15850,totalOutstanding:De?.totalOutstanding||0,totalInterest:De?.totalInterest||0,totalPenalty:De?.totalPenalty||0})}catch(F){console.error("Failed to load admin data:",F),U(X=>[...X,"Failed to load dashboard data"])}finally{u(!1)}},K=async()=>{try{const F=await S();if(F?.data)m(Array.isArray(F.data)?F.data.slice(0,5):[]);else{const X=[{id:1,action:"System refresh",user:"Admin",time:new Date().toLocaleTimeString(),type:"info"},{id:2,action:"Data updated",user:"System",time:new Date().toLocaleTimeString(),type:"success"}];m(X)}}catch(F){console.error("Failed to fetch recent activity:",F)}},ie=async()=>{try{const[F,X]=await Promise.allSettled([ge(),ke()]);F.status==="fulfilled"&&h(F.value?.data||{daily:{status:"active",lastRun:new Date().toISOString()},weekly:{status:"active",lastRun:new Date().toISOString()},morning:{status:"active",lastRun:new Date().toISOString()},evening:{status:"active",lastRun:new Date().toISOString()}}),X.status==="fulfilled"&&x(X.value?.data||[])}catch(F){console.error("Failed to fetch automation data:",F)}},pe=async()=>{try{const F=await Ne();F?.data?j(Array.isArray(F.data)?F.data:[]):j([])}catch(F){console.error("Failed to fetch pending approvals:",F)}},be=async()=>{if(!M){U(F=>[...F,"Access denied: Treasurer/Super Admin only"]);return}T(!0);try{if((await ct()).data?.success){const X=await ce();console.log("Daily automation completed:",X.data),U(Le=>[...Le," Daily automation completed - Interest applied"])}ie(),H()}catch(F){console.error("Daily trigger failed:",F),U(X=>[...X," Daily automation failed"])}finally{T(!1)}},we=async()=>{if(!M){U(F=>[...F,"Access denied: Treasurer/Super Admin only"]);return}T(!0);try{if((await Ke()).data?.success){const X=await se();console.log("Weekly automation completed:",X.data),U(Le=>[...Le," Weekly automation completed - Penalties applied"])}ie(),H()}catch(F){console.error("Weekly trigger failed:",F),U(X=>[...X," Weekly automation failed"])}finally{T(!1)}},he=async()=>{if(!M){U(F=>[...F,"Access denied: Treasurer/Super Admin only"]);return}T(!0);try{if((await Nt()).data?.success){const Le=(await Qr()).data||[];console.log(` Sending morning prompts to ${Le.length} members`),U(Je=>[...Je,` Morning prompts sent to ${Le.length} members`]),x(Je=>[{id:Date.now(),type:"savings",description:`Morning save reminders sent to ${Le.length} members`,memberId:"all",timestamp:new Date().toISOString(),amount:null},...Je.slice(0,9)])}}catch(F){console.error("Morning prompts failed:",F),U(X=>[...X," Morning prompts failed"])}finally{T(!1)}},ue=async()=>{if(!M){U(F=>[...F,"Access denied: Treasurer/Super Admin only"]);return}T(!0);try{if((await Qt()).data?.success){const Le=(await Qr()).data||[];console.log(` Sending evening prompts to ${Le.length} members`),U(Je=>[...Je,` Evening prompts sent to ${Le.length} members`]),x(Je=>[{id:Date.now(),type:"savings",description:`Evening save reminders sent to ${Le.length} members`,memberId:"all",timestamp:new Date().toISOString(),amount:null},...Je.slice(0,9)])}}catch(F){console.error("Evening prompts failed:",F),U(X=>[...X," Evening prompts failed"])}finally{T(!1)}},Se=async F=>{if(!M){U(X=>[...X,"Access denied: Treasurer/Super Admin only"]);return}try{await Ce(F),U(X=>[...X," Loan approved successfully"]),pe(),H(),K()}catch(X){console.error("Failed to approve loan:",X),U(Le=>[...Le," Failed to approve loan"])}},oe=async F=>{if(!M){U(X=>[...X,"Access denied: Treasurer/Super Admin only"]);return}try{await P(F),U(X=>[...X," Loan rejected successfully"]),pe(),H(),K()}catch(X){console.error("Failed to reject loan:",X),U(Le=>[...Le," Failed to reject loan"])}},$=async F=>{if(!M){U(X=>[...X,"Access denied: Treasurer/Super Admin only"]);return}try{await Z(F),U(X=>[...X," Saving approved successfully"]),pe(),H(),K()}catch(X){console.error("Failed to approve saving:",X),U(Le=>[...Le," Failed to approve saving"])}},te=async F=>{if(!M){U(X=>[...X,"Access denied: Treasurer/Super Admin only"]);return}try{await Pe(F),U(X=>[...X," Saving rejected successfully"]),pe(),H(),K()}catch(X){console.error("Failed to reject saving:",X),U(Le=>[...Le," Failed to reject saving"])}},xe=async()=>{try{const[F,X,Le]=await Promise.allSettled([z(),Ic(),Qr()]),Je=F.status==="fulfilled"?F.value?.data?.stats:null,Ye=X.status==="fulfilled"?X.value?.data:null,qe=Le.status==="fulfilled"?Le.value?.data:null,Te={timestamp:new Date().toLocaleString(),financialSummary:{totalSavings:s.totalSavings,groupSavings:21140,memberSavings:Ye?.total||0,goalProgress:`${s.progress.toFixed(2)}%`,remainingGoal:120450-s.totalSavings},loansSummary:Je||{totalLoans:s.activeLoans,totalOutstanding:0,totalInterest:0,totalPenalty:0},membersSummary:{totalMembers:s.totalMembers,activeMembers:qe?.length||0,onLeaderboard:s.leaderboardCount}};alert(` REAL-TIME REPORT

Financial Summary:
 Total Savings: Ksh ${Te.financialSummary.totalSavings.toLocaleString()}
 Group Savings: Ksh ${Te.financialSummary.groupSavings.toLocaleString()}
 Goal Progress: ${Te.financialSummary.goalProgress}
 Remaining: Ksh ${Te.financialSummary.remainingGoal.toLocaleString()}

Loans Summary:
 Active Loans: ${Te.loansSummary.totalLoans||0}
 Outstanding: Ksh ${(Te.loansSummary.totalOutstanding||0).toLocaleString()}
 Total Interest: Ksh ${(Te.loansSummary.totalInterest||0).toLocaleString()}

Members Summary:
 Total Members: ${Te.membersSummary.totalMembers}
 On Leaderboard: ${Te.membersSummary.onLeaderboard}

Generated: ${Te.timestamp}`)}catch(F){console.error("Failed to generate report:",F),U(X=>[...X," Failed to generate report"])}},E=F=>F>=75?"from-green-500 to-emerald-500":F>=50?"from-blue-500 to-cyan-500":F>=25?"from-yellow-500 to-orange-500":"from-red-500 to-pink-500",q=F=>{switch(F){case"success":return"";case"warning":return"";case"error":return"";case"info":return"";default:return""}},G=F=>{switch(F){case"interest":return"";case"penalty":return"";case"inactivity":return"";case"savings":return"";default:return""}},S=async()=>{try{return await axios.get("/api/activity")}catch(F){return console.error("Recent activity error:",F),{data:[{id:1,action:"System refresh",user:"Admin",time:new Date().toLocaleTimeString(),type:"info"},{id:2,action:"Data loaded",user:"System",time:new Date().toLocaleTimeString(),type:"success"}]}}},z=async()=>{try{return await axios.get("/api/loans/stats")}catch(F){return console.error("Loan stats error:",F),{data:{stats:{}}}}},ce=async()=>{try{return await axios.put("/api/loans/apply-interest")}catch(F){return console.error("Apply interest error:",F),{data:{success:!0}}}},se=async()=>{try{return await axios.put("/api/loans/apply-penalty")}catch(F){return console.error("Apply penalty error:",F),{data:{success:!0}}}},ge=async()=>{try{return await axios.get("/api/automation/status")}catch(F){return console.error("Automation status error:",F),{data:{}}}},ke=async()=>{try{return await axios.get("/api/automation/activities")}catch(F){return console.error("Automation activities error:",F),{data:[]}}},Ne=async()=>{try{return await axios.get("/api/transactions/pending")}catch(F){return console.error("Pending transactions error:",F),{data:[]}}},Ce=async F=>{try{return await axios.put(`/api/loans/${F}/approve`)}catch(X){return console.error("Approve loan error:",X),{data:{success:!0}}}},P=async F=>{try{return await axios.put(`/api/loans/${F}/reject`)}catch(X){return console.error("Reject loan error:",X),{data:{success:!0}}}},Z=async F=>{try{return await axios.put(`/api/savings/${F}/approve`)}catch(X){return console.error("Approve saving error:",X),{data:{success:!0}}}},Pe=async F=>{try{return await axios.put(`/api/savings/${F}/reject`)}catch(X){return console.error("Reject saving error:",X),{data:{success:!0}}}},ct=async()=>{try{return await axios.post("/api/automation/daily")}catch(F){return console.error("Daily trigger error:",F),{data:{success:!0}}}},Ke=async()=>{try{return await axios.post("/api/automation/weekly")}catch(F){return console.error("Weekly trigger error:",F),{data:{success:!0}}}},Nt=async()=>{try{return await axios.post("/api/automation/morning-prompts")}catch(F){return console.error("Morning prompts error:",F),{data:{success:!0}}}},Qt=async()=>{try{return await axios.post("/api/automation/evening-prompts")}catch(F){return console.error("Evening prompts error:",F),{data:{success:!0}}}};return l?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Loading real-time admin dashboard..."})]})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50/30 dark:from-gray-900 dark:to-blue-900/30 p-6 font-sans",children:[r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-blue-500 bg-clip-text text-transparent",children:" Admin Dashboard"}),r.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mt-2",children:["Real-time overview of Mercure system  Role: ",B,!M&&" (View Only)"]})]}),r.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 px-4 py-2 rounded-2xl border border-gray-200 dark:border-gray-700",children:r.jsx("span",{className:"text-sm font-semibold text-purple-600 dark:text-purple-400",children:M?" Full Access":" View Only"})})]})}),w.length>0&&r.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-2xl p-4",children:[r.jsx("h3",{className:"font-bold text-red-800 dark:text-red-400 mb-2",children:"System Notices:"}),r.jsx("ul",{className:"text-sm text-red-700 dark:text-red-300",children:w.slice(-3).map((F,X)=>r.jsxs("li",{children:[" ",F]},X))}),r.jsx("button",{onClick:()=>U([]),className:"text-xs text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 mt-2",children:"Clear messages"})]}),r.jsxs("div",{className:"flex bg-white/50 dark:bg-gray-800/50 rounded-2xl p-1 mb-8 shadow-lg border border-white/60 dark:border-gray-700",children:[r.jsx("button",{onClick:()=>O("overview"),className:`flex-1 py-3 px-4 rounded-xl font-semibold transition-all duration-300 ${A==="overview"?"bg-gradient-to-r from-purple-500 to-blue-500 text-white shadow-lg":"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white"}`,children:" Real-time Overview"}),r.jsxs("button",{onClick:()=>O("automation"),className:`flex-1 py-3 px-4 rounded-xl font-semibold transition-all duration-300 ${A==="automation"?"bg-gradient-to-r from-purple-500 to-blue-500 text-white shadow-lg":"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white"}`,disabled:!M,children:[" Automation ",!M&&""]}),r.jsxs("button",{onClick:()=>O("approvals"),className:`flex-1 py-3 px-4 rounded-xl font-semibold transition-all duration-300 ${A==="approvals"?"bg-gradient-to-r from-purple-500 to-blue-500 text-white shadow-lg":"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white"}`,disabled:!M,children:[" Approvals (",g.length,") ",!M&&""]})]}),A==="overview"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-gray-100 dark:border-gray-700 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"Total Members"}),r.jsx("h3",{className:"text-3xl font-bold text-gray-800 dark:text-white mt-2",children:s.totalMembers}),r.jsxs("p",{className:"text-green-500 text-sm mt-1 flex items-center",children:[r.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Active community"]})]}),r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-purple-600 rounded-xl flex items-center justify-center text-white text-xl",children:""})]})}),r.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-gray-100 dark:border-gray-700 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"Total Savings"}),r.jsxs("h3",{className:"text-3xl font-bold text-gray-800 dark:text-white mt-2",children:["Ksh ",s.totalSavings.toLocaleString()]}),r.jsxs("p",{className:"text-blue-500 text-sm mt-1 flex items-center",children:[r.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"+ Ksh ",s.groupSaving.toLocaleString()," group"]})]}),r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-green-600 rounded-xl flex items-center justify-center text-white text-xl",children:""})]})}),r.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-gray-100 dark:border-gray-700 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"Active Loans"}),r.jsx("h3",{className:"text-3xl font-bold text-gray-800 dark:text-white mt-2",children:s.activeLoans}),r.jsxs("p",{className:"text-orange-500 text-sm mt-1 flex items-center",children:[r.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full mr-2"}),s.totalOutstanding?`Ksh ${s.totalOutstanding.toLocaleString()} outstanding`:"Current loans"]})]}),r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-orange-500 to-orange-600 rounded-xl flex items-center justify-center text-white text-xl",children:""})]})}),r.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-gray-100 dark:border-gray-700 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"Total Fines"}),r.jsx("h3",{className:"text-3xl font-bold text-gray-800 dark:text-white mt-2",children:s.totalFines}),r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[r.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),s.totalPenalty?`Ksh ${s.totalPenalty.toLocaleString()} amount`:"Outstanding fines"]})]}),r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-red-500 to-red-600 rounded-xl flex items-center justify-center text-white text-xl",children:""})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-gray-100 dark:border-gray-700",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-6",children:"Savings Goal Progress"}),r.jsxs("div",{className:"text-center mb-6",children:[r.jsxs("div",{className:"text-4xl font-bold text-gray-800 dark:text-white mb-2",children:[typeof s.progress=="number"?s.progress.toFixed(2):"0.00","%"]}),r.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:["Towards Ksh ",s.goal.toLocaleString()," goal"]}),r.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400 mt-2",children:["Ksh ",s.totalSavings.toLocaleString()," saved  Ksh ",(s.goal-s.totalSavings).toLocaleString()," to go"]})]}),r.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-4 mb-4",children:r.jsx("div",{className:`h-4 rounded-full bg-gradient-to-r ${E(s.progress)} transition-all duration-1000 ease-out`,style:{width:`${Math.min(100,s.progress)}%`}})}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[r.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[r.jsx("div",{className:"text-purple-600 dark:text-purple-400 font-bold text-lg",children:s.totalMembers}),r.jsx("div",{className:"text-purple-500 dark:text-purple-300 text-xs",children:"Members"})]}),r.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[r.jsx("div",{className:"text-blue-600 dark:text-blue-400 font-bold text-lg",children:s.leaderboardCount}),r.jsx("div",{className:"text-blue-500 dark:text-blue-300 text-xs",children:"Active"})]}),r.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[r.jsxs("div",{className:"text-green-600 dark:text-green-400 font-bold text-lg",children:["Ksh ",s.groupSaving.toLocaleString()]}),r.jsx("div",{className:"text-green-500 dark:text-green-300 text-xs",children:"Group Funds"})]})]})]}),r.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-gray-100 dark:border-gray-700",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Live Activity"}),r.jsx("button",{onClick:K,className:"text-sm bg-purple-500 text-white px-3 py-1 rounded-lg hover:bg-purple-600 transition-colors",children:"Refresh"})]}),r.jsxs("div",{className:"space-y-4",children:[c.map(F=>r.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[r.jsx("div",{className:"text-2xl",children:q(F.type)}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-gray-800 dark:text-white",children:F.action}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-300",children:["by ",F.user]})]}),r.jsx("div",{className:"text-sm text-gray-400 dark:text-gray-500",children:F.time})]},F.id)),c.length===0&&r.jsxs("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:[r.jsx("span",{className:"text-2xl mb-2 block",children:""}),r.jsx("p",{children:"No recent activity"}),r.jsx("p",{className:"text-sm",children:"Activity will appear here automatically"})]})]})]})]}),r.jsxs("div",{className:"mt-8 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-gray-100 dark:border-gray-700",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-6",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("button",{onClick:()=>window.location.href="/members",className:"p-4 bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-xl hover:from-purple-600 hover:to-blue-600 transition-all transform hover:scale-105",children:[r.jsx("div",{className:"text-2xl mb-2",children:""}),r.jsx("div",{className:"font-semibold",children:"Manage Members"})]}),r.jsxs("button",{onClick:()=>window.location.href="/savings",className:"p-4 bg-gradient-to-r from-green-500 to-teal-500 text-white rounded-xl hover:from-green-600 hover:to-teal-600 transition-all transform hover:scale-105",children:[r.jsx("div",{className:"text-2xl mb-2",children:""}),r.jsx("div",{className:"font-semibold",children:"Savings"})]}),r.jsxs("button",{onClick:()=>window.location.href="/loans",className:"p-4 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-xl hover:from-orange-600 hover:to-red-600 transition-all transform hover:scale-105",children:[r.jsx("div",{className:"text-2xl mb-2",children:""}),r.jsx("div",{className:"font-semibold",children:"Manage Loans"})]}),r.jsxs("button",{onClick:xe,className:"p-4 bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-xl hover:from-gray-600 hover:to-gray-700 transition-all transform hover:scale-105",children:[r.jsx("div",{className:"text-2xl mb-2",children:""}),r.jsx("div",{className:"font-semibold",children:"View Reports"})]})]})]})]}),A==="automation"&&r.jsx("div",{className:"space-y-6",children:M?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 shadow-xl border border-green-200 dark:border-green-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-bold text-gray-800 dark:text-white",children:"Daily Automation"}),r.jsx("span",{className:"text-2xl",children:""})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:"Applies 10% interest to active loans"}),r.jsx("div",{className:"flex gap-2",children:r.jsx("button",{onClick:be,disabled:R,className:"flex-1 bg-green-500 text-white py-2 px-4 rounded-xl font-semibold hover:bg-green-600 transition-colors text-sm disabled:opacity-50",children:R?"Running...":"Apply Interest"})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 shadow-xl border border-blue-200 dark:border-blue-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-bold text-gray-800 dark:text-white",children:"Weekly Automation"}),r.jsx("span",{className:"text-2xl",children:""})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:"Applies Ksh 50 penalties to overdue loans"}),r.jsx("div",{className:"flex gap-2",children:r.jsx("button",{onClick:we,disabled:R,className:"flex-1 bg-blue-500 text-white py-2 px-4 rounded-xl font-semibold hover:bg-blue-600 transition-colors text-sm disabled:opacity-50",children:R?"Running...":"Apply Penalties"})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 shadow-xl border border-orange-200 dark:border-orange-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-bold text-gray-800 dark:text-white",children:"Morning Prompts"}),r.jsx("span",{className:"text-2xl",children:""})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:"8:00 AM Save reminders to all members"}),r.jsx("div",{className:"flex gap-2",children:r.jsx("button",{onClick:he,disabled:R,className:"flex-1 bg-orange-500 text-white py-2 px-4 rounded-xl font-semibold hover:bg-orange-600 transition-colors text-sm disabled:opacity-50",children:R?"Sending...":"Send Prompts"})})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 shadow-xl border border-purple-200 dark:border-purple-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-bold text-gray-800 dark:text-white",children:"Evening Prompts"}),r.jsx("span",{className:"text-2xl",children:""})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:"8:00 PM Save reminders to all members"}),r.jsx("div",{className:"flex gap-2",children:r.jsx("button",{onClick:ue,disabled:R,className:"flex-1 bg-purple-500 text-white py-2 px-4 rounded-xl font-semibold hover:bg-purple-600 transition-colors text-sm disabled:opacity-50",children:R?"Sending...":"Send Prompts"})})]})]}),r.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-3xl p-6 shadow-xl border border-white/60 dark:border-gray-700",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:""})," Automated Activities Log"]}),r.jsx("button",{onClick:ie,className:"text-sm bg-purple-500 text-white px-3 py-1 rounded-lg hover:bg-purple-600 transition-colors",children:"Refresh"})]}),r.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:y.length>0?y.map((F,X)=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-2xl border border-gray-200 dark:border-gray-600 hover:border-purple-300 dark:hover:border-purple-500 transition-all",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-2xl",children:G(F.type)}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-800 dark:text-white",children:F.description}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:[F.memberId==="all"?"All Members":`Member ${F.memberId}`,"  ",new Date(F.timestamp).toLocaleString()]})]})]}),r.jsxs("div",{className:"text-right",children:[F.amount&&r.jsxs("p",{className:"font-bold text-purple-600 dark:text-purple-400",children:["Ksh ",F.amount]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${F.type==="penalty"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":F.type==="interest"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}`,children:F.type})]})]},X)):r.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[r.jsx("span",{className:"text-4xl mb-2 block",children:""}),r.jsx("p",{children:"No automated activities yet"}),r.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-1",children:"Run automations to see activities here"})]})})]})]}):r.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-2xl p-6 text-center",children:[r.jsx("span",{className:"text-4xl mb-4 block",children:""}),r.jsx("h3",{className:"text-xl font-bold text-yellow-800 dark:text-yellow-400 mb-2",children:"Access Restricted"}),r.jsx("p",{className:"text-yellow-700 dark:text-yellow-300",children:"Only Treasurer and Super Admin can manage automations"})]})}),A==="approvals"&&r.jsx("div",{className:"space-y-6",children:M?r.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-3xl p-6 shadow-xl border border-white/60 dark:border-gray-700",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:""})," Pending Approvals (",g.length,")"]}),r.jsx("button",{onClick:pe,className:"text-sm bg-purple-500 text-white px-3 py-1 rounded-lg hover:bg-purple-600 transition-colors",children:"Refresh"})]}),r.jsx("div",{className:"space-y-4",children:g.length>0?g.map(F=>r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-2xl border border-yellow-200 dark:border-yellow-700",children:[r.jsxs("div",{className:"flex-1 mb-4 md:mb-0",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("span",{className:"text-xl",children:F.type==="loan_request"?"":""}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-800 dark:text-white",children:F.type==="loan_request"?"Loan Application":"Saving Deposit"}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Member #",F.member_code,"  Ksh ",F.amount]}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Submitted: ",new Date(F.timestamp).toLocaleString()]})]})]}),F.purpose&&r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-2",children:["Purpose: ",F.purpose]})]}),r.jsx("div",{className:"flex gap-2 w-full md:w-auto",children:F.type==="loan_request"?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>Se(F.id),className:"bg-green-500 text-white px-4 py-2 rounded-xl font-semibold hover:bg-green-600 transition-colors text-sm flex-1 md:flex-none",children:"Approve Loan "}),r.jsx("button",{onClick:()=>oe(F.id),className:"bg-red-500 text-white px-4 py-2 rounded-xl font-semibold hover:bg-red-600 transition-colors text-sm flex-1 md:flex-none",children:"Reject "})]}):r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>$(F.id),className:"bg-green-500 text-white px-4 py-2 rounded-xl font-semibold hover:bg-green-600 transition-colors text-sm flex-1 md:flex-none",children:"Approve Saving "}),r.jsx("button",{onClick:()=>te(F.id),className:"bg-red-500 text-white px-4 py-2 rounded-xl font-semibold hover:bg-red-600 transition-colors text-sm flex-1 md:flex-none",children:"Reject "})]})})]},F.id)):r.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[r.jsx("span",{className:"text-4xl mb-2 block",children:""}),r.jsx("p",{children:"No pending approvals"}),r.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-1",children:"All transactions are processed"})]})})]}):r.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-2xl p-6 text-center",children:[r.jsx("span",{className:"text-4xl mb-4 block",children:""}),r.jsx("h3",{className:"text-xl font-bold text-yellow-800 dark:text-yellow-400 mb-2",children:"Access Restricted"}),r.jsx("p",{className:"text-yellow-700 dark:text-yellow-300",children:"Only Treasurer and Super Admin can manage approvals"})]})})]})}function Og({children:s,allowedRoles:o=[]}){const l=localStorage.getItem("token"),u=localStorage.getItem("role"),c=localStorage.getItem("user");return!l||!c?(localStorage.removeItem("token"),localStorage.removeItem("role"),localStorage.removeItem("user"),r.jsx(mi,{to:"/login",replace:!0})):o.length>0&&(!u||!o.includes(u))?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:r.jsxs("div",{className:"bg-white/10 backdrop-blur-lg border border-white/20 rounded-3xl p-8 max-w-md text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Access Denied"}),r.jsxs("p",{className:"text-gray-300 mb-4",children:["Your role ",r.jsx("span",{className:"font-bold capitalize",children:u||"none"})," doesn't have access to this page."]}),r.jsxs("p",{className:"text-gray-400 text-sm mb-6",children:["Required roles: ",o.join(", ")]}),r.jsx("button",{onClick:()=>window.history.back(),className:"bg-gradient-to-r from-cyan-500 to-purple-500 text-white px-6 py-3 rounded-xl font-semibold hover:from-cyan-600 hover:to-purple-600 transition-all duration-300",children:"Go Back"})]})}):s}const Vc=({children:s})=>(()=>{const l=localStorage.getItem("token"),u=localStorage.getItem("user");return!!(l&&u)})()?r.jsx(mi,{to:"/dashboard",replace:!0}):s;function Dg(){try{document.documentElement.style.fontFamily="Inter, system-ui, sans-serif";const s=localStorage.getItem("theme"),o=window.matchMedia("(prefers-color-scheme: dark)").matches;s==="dark"||!s&&o?(document.documentElement.classList.add("dark"),document.body.classList.add("dark-mode")):(document.documentElement.classList.remove("dark"),document.body.classList.remove("dark-mode"))}catch(s){console.warn("Theme initialization error:",s)}}Dg();If.createRoot(document.getElementById("root")).render(r.jsx(qc.StrictMode,{children:r.jsx(uh,{children:r.jsx(eh,{children:r.jsxs(Lp,{children:[r.jsx(wt,{path:"/",element:r.jsx(mi,{to:"/login",replace:!0})}),r.jsx(wt,{path:"/login",element:r.jsx(Vc,{children:r.jsx(_g,{})})}),r.jsx(wt,{path:"/register",element:r.jsx(Vc,{children:r.jsx(Tg,{})})}),r.jsxs(wt,{path:"/",element:r.jsx(Og,{children:r.jsx(hh,{})}),children:[r.jsx(wt,{path:"dashboard",element:r.jsx(Sg,{})}),r.jsx(wt,{path:"members",element:r.jsx(Eg,{})}),r.jsx(wt,{path:"savings",element:r.jsx(Pg,{})}),r.jsx(wt,{path:"loans",element:r.jsx(Rg,{})}),r.jsx(wt,{path:"leaderboard",element:r.jsx(Cg,{})}),r.jsx(wt,{path:"fines",element:r.jsx(Ag,{})}),r.jsx(wt,{path:"admin",element:r.jsx(Mg,{})}),r.jsx(wt,{path:"announcements",element:r.jsx(Lg,{})})]}),r.jsx(wt,{path:"*",element:r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-genz",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-6xl font-bold text-white mb-4",children:"404"}),r.jsx("p",{className:"text-xl text-white/80 mb-8",children:"Page not found"}),r.jsx("button",{onClick:()=>window.location.href="/login",className:"bg-white/20 text-white px-6 py-3 rounded-xl backdrop-blur-sm border border-white/30 hover:bg-white/30 transition-all",children:"Go to Login"})]})})})]})})})}));
//# sourceMappingURL=index-D9N4dTeC.js.map
